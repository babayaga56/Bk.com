"use strict";(self.webpackChunkvk=self.webpackChunkvk||[]).push([[206],{456:function(e,t,o){o.d(t,{isAppShellRunning:function(){return r},onPageReady:function(){return i},waitAppShellFinish:function(){return s}});var n=o(34);const i=(0,n.default)();function r(){return window.cur.is_appshell}function s(){return r()?new Promise((e=>{(0,n.onEmitOnce)(i,e)})):Promise.resolve()}},70:function(e,t,o){o.d(t,{ColorScheme:function(){return d},ColorSchemeMode:function(){return n},ColorSchemeName:function(){return i},colorScheme:function(){return u}});var n,i,r,s=o(52),a=o(13),l=o(31);!function(e){e.Light="light",e.Dark="dark",e.Auto="auto"}(n||(n={})),function(e){e.Dark="space_gray",e.Light="bright_light",e.WebDark="vkcom_dark",e.WebLight="vkcom_light"}(i||(i={})),function(e){e.Dark="#222222",e.Light="#ffffff"}(r||(r={}));var c=o(2);class d{init(e){if(this.isExecuted)return;if(this.schemesMap=e.schemesMap,this.setMode(e.mode),this.initSubscribers.forEach((e=>{e()})),(0,l.statlogsValueEvent)("web_dark_theme",this.getMode(),this.getScheme(),Number(this.isDarkScheme())),!d.isSchemesAutoSwitchingSupported())return;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{this.currentMode===n.Auto&&this.setScheme(e.matches)})),this.isExecuted=!0}setScheme(e){var t,o;d.isSchemesSupported()&&(this.applyScheme(document.body,e?i.Dark:i.Light),this.currentIsDark=e,null==(t=document.querySelector("meta[name=theme-color]"))||t.setAttribute("content",e?r.Dark:r.Light),null==(o=document.querySelector("meta[name=color-scheme]"))||o.setAttribute("content",e?"dark":"light"),this.isSchemeSavingAllowed&&(0,s.setCookie)("remixdark_color_scheme",Number(e),365),this.subscribers.forEach((e=>{e()})))}static getAppearanceByScheme(){switch(document.body.getAttribute("scheme")){case i.Dark:case i.WebDark:return c.Appearance.DARK}return c.Appearance.LIGHT}isDarkScheme(){return this.currentIsDark}getMode(){return this.currentMode}setMode(e){let t=!1;switch(e){case n.Light:t=!1;break;case n.Dark:t=!0;break;case n.Auto:if(d.isSchemesAutoSwitchingSupported()){t=window.matchMedia("(prefers-color-scheme: dark)").matches}else e=n.Light}this.currentMode=e,this.setScheme(t),this.isModeSavingAllowed&&(0,s.setCookie)("remixcolor_scheme_mode",e,365)}getScheme(){return(0,a.isMvk)()?this.getMVKScheme():this.getWebScheme()}getMVKScheme(){return this.isDarkScheme()?i.Dark:i.Light}getWebScheme(){return this.isDarkScheme()?i.WebDark:i.WebLight}applyScheme(e,t){var o;const n=(null==(o=this.schemesMap)?void 0:o[t])||t;e.setAttribute("scheme",n)}subscribe(e){return this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter((t=>e!==t))}}onInit(e){return this.initSubscribers.push(e),()=>{this.initSubscribers=this.initSubscribers.filter((t=>e!==t))}}static isSchemesSupported(){return(!(0,a.isMvk)()||window.isNewMail)&&window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")}static isSchemesAutoSwitchingSupported(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches}constructor(){this.currentMode="",this.subscribers=[],this.initSubscribers=[],this.isExecuted=!1,this.isModeSavingAllowed=!0,this.isSchemeSavingAllowed=!0}}let u;u=window.colorScheme?window.colorScheme:new d,window.colorScheme=u,window.isSchemesSupported=d.isSchemesSupported.bind(null)},366:function(e,t,o){var n=o(220);window.isBootstrapInited||((0,n.setDocumentDomain)(),window.isBootstrapInited=!0)},1329:function(e,t,o){o(366);var n=o(17),i=o(32),r=o(166),s=o(165),a=o(70),l=o(1465),c=o(31),d=o(47),u=o(1209),h=o(456),w=o(8);o(48);Promise.all([o.e(0),o.e(2),o.e(3),o.e(5),o.e(27),o.e(36),o.e(51),o.e(32),o.e(4),o.e(31),o.e(6),o.e(35),o.e(25),o.e(39),o.e(28),o.e(13),o.e(50),o.e(22),o.e(33),o.e(59),o.e(74),o.e(211)]).then(o.bind(o,1201)),window.colorSchemeInit&&(a.colorScheme.isModeSavingAllowed=window.colorSchemeInitIsModeSavingAllowed,a.colorScheme.init(window.colorSchemeInit),delete window.colorSchemeInitIsModeSavingAllowed,delete window.colorSchemeInit);const m={},p={},S=75/window.deferStaticFiles.length;let f=null,g=0,v=!1;window.deferStaticFiles.sort(),window.deferStaticFilesHash=JSON.stringify(window.deferStaticFiles),window.deferStaticStatuses||(window.deferStaticStatuses={});const b=window.deferStaticFiles.map((e=>new Promise((t=>{window.deferStaticStatuses[e]={set resolved(e){this._resolved=e,t()},set loaded(e){this._loaded=e,g+=S;const t=E();t&&requestAnimationFrame((()=>{t.style.transform=`translateX(${Math.min(25+Math.max(g-25,0),100)}%)`}))}}})))),y=Promise.allSettled(b).then((()=>{v=!0}));function E(){return window.deferStaticProgressElement||(window.deferStaticProgressElement=document.getElementById("head-progress-bar")),window.deferStaticProgressElement}function k(e,t){let o,i=t;return i&&i!==window.deferStaticFiles?(i.sort(),o=JSON.stringify(i)):(i=window.deferStaticFiles,o=window.deferStaticFilesHash),function(...t){m[o]?m[o].finally((()=>e(...t))):m[o]=y.then((()=>(0,n.addStatic)(i))).finally((()=>e(...t)))}}function C(e,t=!1){(0,w.partConfigEnabled)("mvk_force_execute_callback_when_defer_resolved")&&v?e():!0===t?k(e,window.deferStaticFiles)():(0,l.delayedExecution)((()=>{k(e,window.deferStaticFiles)()}))}window._onloadDeferCallbacks.forEach((e=>C(e))),delete window._onloadDeferCallbacks,window.onloadDeferStatic=C,(0,r.isTQInitialized)()||(0,i.init)(window.onloadDeferStatic);const A=(e,t)=>new Proxy(e,{get:(e,o)=>o in e?e[o]:A(e,t+"."+o),apply(e,o,n){const i=Object.values(window.deferStaticStatuses),r=t.split(".");if(i.every((e=>e._resolved)))return void delete window[r[0]];const s=t+JSON.stringify(n.map((e=>"function"==typeof e?e.toString():e===window?"_window__hash":e)));return clearTimeout(f),f=setTimeout((()=>{f=null}),8e3),s in p||(p[s]=()=>{let e=window;r.forEach((t=>e=e[t])),e.apply(o,n)},C((()=>{Boolean(f)&&p[s]&&(setTimeout((()=>{p[s](),delete p[s]}),0),clearTimeout(f))}))),A(e,t)}});function P(e){e.preventDefault()}window._elementsForPreventingBehavior=[],(0,l.delayedExecution)((()=>{document.head.removeChild(window._preventPointerEventsElement),delete window._preventPointerEventsElement,y.then((()=>{document.body.removeChild(E().parentElement),delete window.deferStaticProgressElement})),window._elementsForPreventingBehavior=Array.from(document.querySelectorAll('a, button, input[type="submit"]'));const e=[];Array.from(document.querySelectorAll(window._preventEvents.map((e=>`[on${e}]`)).join(", "))).forEach((t=>{e.push(...function(e){const t=[];return window._preventEvents.map((e=>`on${e}`)).forEach((o=>{if(e.hasAttribute(o)){const n=e.getAttribute(o),i=o.split("on")[1],r=new Function(n);function s(t){Object.values(window.deferStaticStatuses).some((e=>e._resolved))||r.call(e,t)}e.addEventListener(i,s),t.push({element:e,handlerName:i,handler:o,callbackString:n,eventCallback:s}),e.setAttribute("_"+o,n),e.setAttribute(o,"return false;")}})),t}(t))})),C((()=>{e.forEach((({element:e,handlerName:t,handler:o,callbackString:n,eventCallback:i})=>{e.removeEventListener(t,i),e.removeAttribute("_"+o),e.setAttribute(o,n)}))})),window._elementsForPreventingBehavior.forEach((e=>{window._preventEvents.forEach((t=>{"touchstart"!==t&&"touchend"!==t&&e.addEventListener(t,P)}))})),C((()=>{window._elementsForPreventingBehavior.forEach((e=>{window._preventEvents.forEach((t=>{e.removeEventListener(t,P)}))})),delete window._elementsForPreventingBehavior}))}));const M=["onBodyScroll","onBodyResize","re","flatten","flatArray","formatTime","isUndefined","isFunction","isFormData","isArray","isObject","isEmpty","escapeRE","htsc","escapeAttr","unescapeAttr","replaceEntities","escapeStr","stripTags","rand","srand","utf2win","isHttpHref","vkNow","bind","intval","floatval","qs2obj","obj2qs","parseJSON","lsCheck","lsSet","lsGet","ssCheck","lsRemove","ssSet","ssGet","getValues","len","realSubstr","hashCode","formatNum","each","copy","addEvent","removeEvent","preventEvent","stopEvent","cancelEvent","checkEvent","onCtrlEnter","submitBtn","createIframe","winToUtf","shortCurrency","checkNav","checkElementNav","checkTouchHover","parseCyr","parseLat","parseRusKeys","parseLatKeys","scrollLeft","scrollTop","se","onBodyScrollForce","sgFix","checkPostsSeen","initAutoScroll","autoScroll","scrollToEl","scrollToHash","lockButton","unlockButton","ge","geByClass","geByClass1","gpeByClass","geByTag","geByTag1","gpeByTag","geBySel","geBySel1","domNS","domPS","append","before","after","replace","remove","clone","reflow","tag","outer","show","hide","isVisible","toggle","ce","elfocus","elblur","val","attr","cssToJs","getCssPropertyName","cssValue","getStyle","setStyle","hasClass","addClass","removeClass","toggleClass","replaceClass","switchClass","getXY","getX","getY","getW","getH","getSize","getCw","getCh","evalJs","getHref","indexOf","langSex","langNumeric","langWordNumeric","langDate","setNotify","canUploadFile","uploadFile","readFile","registeredEvents","trim","domClosestOverflowHidden","copyToClipboard","blinkItem","domPN","domCA","getLang","domData","throttle","debounce","scrollGetX","scrollGetY","domChildIndex","domChildren","safeGet","safeSet","disableFlex","domQuery","domQuery1","domFC","domLC","domInsertAfter","domInsertBefore","alwaysArray","need","isString","ceFromString","isIosWebView","isSFSafariViewController","isAndroidWebView","isVkWebView","statlogsValueEvent","ajaxRequest","arrayRemove","arrayIntersects","asc","desc","unique","first","last","toInt","toArray","groupBy","domInsert","openApp","rs","domCreate","getPreloadData","getImageOrientation","matchesSelector","getRect","browser","mobPlatforms","isTouch","has3d","Typing_renderNames","Typing_isEmpty","makeUrl","showNarrative","cdf","Share","postMessage","AlertBox","initPushNotifier","emitServerEvent","page","post","zlayer","nav","MainMenu","ajax","doNavProxy","doNav","Apps","audioplayer","Tooltip","Curator","Reactions","Select","uMailWrite","Convo","MailActs","MailDialog","MailHat_main","MailScrap","MessageRequestBox","MessageRequestsPage","Msg","mediaUpload","SAKIntegration","Messenger","uMessenger","DirectGamesCatalog","AudioPlaylist","Section","PWABanner","UnsupportedBrowser","CookiePolicy","ContextMenu","BlurredImage","VkIdSavedUsers","AutoReplenishmentSettings","ReportConfirm","GameSubscription","LoginHistory","Subscriptions","saveSettings","DirectGames","AppsStub","MiniAppsProfileButtons","PasswordInput","Unfold","Slider","ConfirmPopup","ModalMenu","RecommendedMiniAppsBlock","RecommendedNarrativesBlock","GroupsMenu","WarningModal","CasperHiddenMessages","CasperTimer","GroupCallSnippet","LiteSettings","MailHat_convo","MsgTemplates","PeerProfile","Cart","DeliveryCitySelect","CartOrder","DeliveryPoint","MarketItemProduct","OrderDetails","ItemsList","Variants","MoneyTransferReceipt","NarrativesBlock","CoronaStatus","LovinaPromotion","IPadBanner","OfflinePage","PromoVKConnect","StoryPublisher","TextliveFeedBanner","VideoRestriction","VideoFilterBadge","VideoFilterModal","VotingForm","PostDraftReminder","WallSearch","ImageStatus","Settings","Artist","LoadMore","Popup","SearchPanel","SliderTabs","Bookmarks","MailTemplatePage","PostAttachVideoLink","AuthCheck","posting","Voting","Wall","AdultConfirm","Control","TextInput","Mention","PinnedMsg","MailFilter","photo","RecommendedGroupsSlider","FriendsRecommendedSlider"];function _(){var e,t;(null==(t=window.Speech)||null==(e=t.recorder)?void 0:e.isRecording)||window.onBodyScroll(!0,window.getScrollTop())}window.deferStaticFiles.length>0&&(window.onBodyResize=null,M.forEach((e=>{Boolean(window[e])||(window[e]=()=>{},window[e]=function(e,t){return A(e,t)}(window[e],e))})),(0,l.delayedExecution)((()=>{window.initPushNotifier()}))),(0,l.delayedExecution)((()=>{(0,h.waitAppShellFinish)().then((()=>{s.navigationStat.addStatEvent(s.navigationStat.getModule(),s.NavigationProductionStatEventTypes.TAB_OPEN),window.addEventListener("beforeunload",(()=>{s.navigationStat.addStatEvent(s.navigationStat.getModule(),s.NavigationProductionStatEventTypes.TAB_CLOSE)}))})),window.htmlNode=document.querySelector("html"),window.bodyNode=document.body}));let B=!1;try{const e=Object.defineProperty({},"passive",{get:function(){B=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}function T(e,t,o=100){window[e]={};const i={},r={};let s;const a=t=>{r[t]=setTimeout((()=>{window[e][t](...i[t])}),o)};return o=>{o.forEach((o=>{window[e][o]=(...e)=>((e,o)=>r[e]?(clearTimeout(r[e]),i[e]=o,a(e),!1):(s||(s=(0,n.addStatic)(t)),i.hasOwnProperty(e)||s.then((()=>a(e))),i[e]=o,!1))(o,e)}))}}B?(window.addEventListener("touchmove",_,{passive:!0}),window.addEventListener("scroll",_,{passive:!0})):(window.addEventListener("touchmove",_),window.addEventListener("scroll",_)),window.getScrollTop=function(){var e;const{htmlNode:t,bodyNode:o,scrollBodyNode:n}=window;return(null==(e=[t,n,o].find((e=>e&&"scrollTop"in e&&e.scrollTop>0)))?void 0:e.scrollTop)||0},window.initPostsStats=function(e){const{cur:t}=window;t&&e&&(t.alPostsStatsObjects=e,window.checkPostsSeen(window.getScrollTop()),window.onBodyScroll((function(e,t){window.checkPostsSeen(t)})),C((()=>{window.onEmitOnce(window.nav.onBeforeGo,(()=>{window.pStats.send(),window.pStats.resetSendTimer()}))})))};let F=T("OwnerPhotoUpload2",["owner_photo_upload.js","owner_photo_upload.css"]);F(["onSaveOwnerAvatar","setContext","setNftAvatar","onUploadInputChange","handleFile","saveOwnerAvatar","onPostPublishChange","onStoryPublishChange","onPublisherStepDone","showDoneBoxAfterAvatarChange","closePublisherStep","selectPhoto"]);let D=T("photo",["photoview.js","photo.js"]);D(["openInLayer","openInPhotoview","openExternal"]),setTimeout((()=>{F=null,D=null,Object.keys(window.deferStaticStatuses).forEach((e=>{var t,o;window.deferStaticStatuses[e]._resolved||(t=e,(0,c.statlogsValueEvent)("mvk_failed_to_resolve_defer_static","",document.visibilityState,window.highestEcmaSupported,(0,d.isModernCSSSupported)(),(0,u.isCSSFile)(t)?"CSS":"JS",(null==(o=window.cur)?void 0:o.module)||"unknown"))}))}),6e4),window._ua=navigator.userAgent.toLowerCase();try{stManager.done("window_proxy.js")}catch(e){console.error(e)}},34:function(e,t,o){function n(){const e=[],t=i.bind(e);return t.off=r.bind(e),t._fns=e,t}function i(){const e=this,t=arguments;if("function"!=typeof t[0]){const o=e.length;let n=!1;for(let i=0;i<o;i++)!0===e[i].apply(null,t)&&(n=!0);return n}Array.prototype.slice.call(t).forEach((t=>e.push(t)))}function r(e){const t=this;e?function(e,t){for(;;){const o=e.indexOf(t);if(!(o>=0))break;e.splice(o,1)}}(t,e):t.length=0}function s(e,t){const o=(...n)=>{t(...n),setTimeout((()=>{e.off(o)}))};e(o)}o.d(t,{onEmitOnce:function(){return s}}),t.default=Object.assign(n,{kind:function(){const e={};return t=>e[t]||(e[t]=n())}}),window.befall=n,window.onEmitOnce=s},48:function(e,t,o){o.d(t,{HEADER_HEIGHT:function(){return n},processSkeletonElements:function(){return c}});const n=56;let i=new Set;const r=()=>{const e=Array.from(i.values()).filter((e=>Boolean(e))).map((e=>{const t=Math.round(e.getBoundingClientRect().left),o=`skeleton-gradient-slide-${t}`;return function(e,t){if(a[e])return;const o=function(e,t){return[`@${s()}keyframes ${e} {`,t.map(((e,o)=>[`\t${o/(t.length-1)*100}% {`,Object.keys(e).map((t=>`\t\t${t}: ${e[t]};`)).join("\n"),"\t}"].join("\n"))).join("\n"),"}"].join("\n")}(e,t);a[e]=o,requestAnimationFrame((()=>l.appendChild(document.createTextNode(o))))}(o,[{"background-position-x":-600-t+"px"},{"background-position-x":window.innerWidth-t+"px"}]),{el:e,prop:`${o} 1.2s infinite cubic-bezier(0.4, 0.0, 0.2, 1)`}}));requestAnimationFrame((()=>{e.forEach((({el:e,prop:t})=>{e.style[`${s()}animation`]=t})),i.clear()}))};function s(){let e="";if(document){e=null!=(document.documentElement||document.createElement("div")).style.animation?"":"-webkit-"}return e}const a={},l=document.createElement("style");function c(){setTimeout((()=>{document.querySelectorAll("[data-skeleton-el=true]").forEach((e=>i.add(e))),r()}),0)}document.head.appendChild(l),c()}},function(e){e.O(0,[0,1,8,27,36,60,57,3,212,217],(function(){return t=1329,e(e.s=t);var t}));e.O()}]);