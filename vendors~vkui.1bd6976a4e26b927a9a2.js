(self.webpackChunkvk=self.webpackChunkvk||[]).push([[36],{209:function(e){var t,n,a,o,r,i;t=window,n="function",o=[],r=typeof t!==(a="undefined")&&!t.AndroidBridge&&!t.webkit,i=r?"message":"VKWebAppEvent",typeof t!==a&&(t.CustomEvent||function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=t.Event.prototype,t.CustomEvent=e}(),t.addEventListener(i,(function(){var e=Array.prototype.slice.call(arguments),t=o.slice();r?t.forEach((function(t){t({detail:e[0].data})})):t.forEach((function(t){t.apply(null,e)}))}))),e.exports={send:function(e,o){o||(o={});var r=typeof t!==a,i=r&&t.AndroidBridge,l=r&&t.webkit&&t.webkit.messageHandlers,c=!i&&!l;i&&typeof i[e]==n&&i[e](JSON.stringify(o)),l&&l[e]&&typeof l[e].postMessage==n&&l[e].postMessage(o),c&&parent.postMessage({handler:e,params:o,type:"vk-connect"},"*")},subscribe:function(e){o.push(e)},unsubscribe:function(e){var t=o.indexOf(e);t>-1&&o.splice(t,1)},supports:function(e){var o=typeof t!==a,r=o&&t.AndroidBridge,i=o&&t.webkit&&t.webkit.messageHandlers;return!(!r||typeof r[e]!=n)||!(!i||!i[e]||typeof i[e].postMessage!=n)||!(i||r||!~["VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppGetGeodata","VKWebAppGetUserInfo","VKWebAppGetPhoneNumber","VKWebAppGetClientVersion","VKWebAppOpenPayForm","VKWebAppShare","VKWebAppAllowNotifications","VKWebAppDenyNotifications","VKWebAppShowWallPostBox","VKWebAppGetEmail","VKWebAppAllowMessagesFromGroup","VKWebAppJoinGroup","VKWebAppOpenApp","VKWebAppSetLocation","VKWebAppScroll","VKWebAppResizeWindow"].indexOf(e))}}},1215:function(e,t,n){"use strict";n.d(t,{ElementScrollController:function(){return f},GlobalScrollController:function(){return m},ScrollContext:function(){return d},useScroll:function(){return v},useScrollLock:function(){return p}});var a=n(634),o=n(5),r=n(153),i=n(1027),l=n(633),c=n(401),s=function(e){Object.assign(e.style,{position:"",top:"",left:"",right:"",overflowY:"",overflowX:""})},u=function(e){var t=e.document.documentElement.clientHeight-e.innerHeight;return e.pageYOffset-t},d=o.createContext({getScroll:function(){return{x:0,y:0}},scrollTo:r.noop,isScrollLock:!1,enableScrollLock:r.noop,disableScrollLock:r.noop}),v=function(){return o.useContext(d)},m=function(e){var t=e.children,n=(0,l.useDOM)(),r=n.window,c=n.document,v=(0,a._)(o.useState(!1),2),m=v[0],f=v[1],p=o.useRef(new Set),h=o.useCallback((function(){return{x:r.pageXOffset,y:u(r)}}),[r]),k=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r.scrollTo(e?(0,i.clamp)(e,0,c.body.scrollWidth-r.innerWidth):0,t?(0,i.clamp)(t,0,c.body.scrollHeight-r.innerHeight):0)}),[c,r]),g=o.useCallback((function(){p.current.forEach((function(e){e()}));var e=r.pageYOffset,t=r.pageXOffset,n=r.innerWidth>c.documentElement.clientWidth?"scroll":"",a=r.innerHeight>c.documentElement.clientHeight?"scroll":"";Object.assign(c.body.style,{position:"fixed",top:"-".concat(e,"px"),left:"-".concat(t,"px"),right:"0",overflowY:n,overflowX:a}),f(!0)}),[c,r]),_=o.useCallback((function(){var e=c.body.style.top,t=c.body.style.left;s(c.body),r.scrollTo(-parseInt(t||"0"),-parseInt(e||"0")),f(!1)}),[c,r]),b=o.useMemo((function(){return{getScroll:h,scrollTo:k,isScrollLock:m,disableScrollLock:_,enableScrollLock:g,beforeScrollLockFnSetRef:p}}),[h,k,m,_,g]);return o.createElement(d.Provider,{value:b},t)},f=function(e){var t,n,r=e.elRef,l=e.children,c=(0,a._)(o.useState(!1),2),u=c[0],v=c[1],m=o.useRef(new Set),f=o.useCallback((function(){var e,a;return{x:null!==(t=null===(e=r.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==t?t:0,y:null!==(n=null===(a=r.current)||void 0===a?void 0:a.scrollTop)&&void 0!==n?n:0}}),[r]),p=o.useCallback((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=r.current;null===(e=a)||void 0===e||e.scrollTo(t?(0,i.clamp)(t,0,a.scrollWidth-a.clientWidth):0,n?(0,i.clamp)(n,0,a.scrollHeight-a.clientHeight):0)}),[r]),h=o.useCallback((function(){var e=r.current;if(e){m.current.forEach((function(e){e()}));var t=e.scrollTop,n=e.scrollLeft,a=e.scrollWidth>e.clientWidth?"scroll":"",o=e.scrollHeight>e.clientHeight?"scroll":"";Object.assign(e.style,{position:"absolute",top:"-".concat(t,"px"),left:"-".concat(n,"px"),right:"0",overflowY:a,overflowX:o}),v(!0)}}),[r]),k=o.useCallback((function(){var e=r.current;if(e){var t=e.style.top,n=e.style.left;s(e),e.scrollTo(-parseInt(n||"0"),-parseInt(t||"0")),v(!1)}}),[r]),g=o.useMemo((function(){return{getScroll:f,scrollTo:p,isScrollLock:u,disableScrollLock:k,enableScrollLock:h,beforeScrollLockFnSetRef:m}}),[f,p,u,k,h]);return o.createElement(d.Provider,{value:g},l)},p=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=v(),n=t.enableScrollLock,a=t.disableScrollLock;(0,c.useIsomorphicLayoutEffect)((function(){return e?(n(),a):r.noop}),[n,a,e])}},1004:function(e,t,n){"use strict";n.d(t,{Spinner:function(){return f}});var a=n(152),o=n(402),r=n(400),i=n(5),l=n(1470),c=n(1471),s=n(1472),u=n(1473),d=n(153),v=n(1028),m=n(1029),f=((0,v.warnOnce)("Spinner"),i.memo((function(e){var t=e.size,n=void 0===t?"regular":t,v=e.children,f=void 0===v?"Загружается...":v,p=e["aria-label"],h=void 0===p?"Загружается...":p,k=e.disableAnimation,g=e.className,_=(0,r._)(e,["size","children","aria-label","disableAnimation","className"]),b={small:l.Icon16Spinner,regular:c.Icon24Spinner,medium:s.Icon32Spinner,large:u.Icon44Spinner}[n],E={small:8,regular:12,medium:16,large:22}[n];return i.createElement("span",(0,o._)((0,a._)({role:"status"},_),{className:(0,d.classNames)("vkuiSpinner",g)}),i.createElement(b,null,!k&&i.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 ".concat(E," ").concat(E),to:"360 ".concat(E," ").concat(E),dur:"0.7s",repeatCount:"indefinite"})),i.createElement(m.VisuallyHidden,null,null!=f?f:h))})));f.displayName="Spinner"},1029:function(e,t,n){"use strict";n.d(t,{VisuallyHidden:function(){return c}});var a=n(152),o=n(402),r=n(400),i=n(5),l=n(153),c=function(e){var t=e.Component,n=void 0===t?"span":t,c=e.getRootRef,s=e.className,u=(0,r._)(e,["Component","getRootRef","className"]);return i.createElement(n,(0,o._)((0,a._)({},u),{className:(0,l.classNames)("vkuiVisuallyHidden",s),ref:c}))}},1027:function(e,t,n){"use strict";n.d(t,{clamp:function(){return a},rescale:function(){return r}});var a=function(e,t,n){return Math.max(t,Math.min(e,n))};function o(e,t,n){var a=Math.round((e-n)/t)*t+n;return Number(a.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var a=e.toString().split(".")[1];return a?a.length:0}(t)))}function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t,n,r){if(null==r||r<=0)return a(e,t,n);var i=o(e,r,t);return a(i,t,n)}((e-t[0])/(t[1]-t[0])*(n[1]-n[0])+n[0],n[0],n[1],r.step)}},1026:function(e,t,n){"use strict";n.d(t,{useEventListener:function(){return l}});var a=n(152),o=n(5),r=n(153),i=n(401);function l(e,t,n){var l=o.useRef(t);(0,i.useIsomorphicLayoutEffect)((function(){l.current=t}),[t]);var c=o.useCallback((function(e){return l.current&&l.current(e)}),[]),s=o.useRef(r.noop),u=o.useCallback((function(){s.current(),s.current=r.noop}),[]),d=o.useCallback((function(t){if(r.canUseDOM&&(u(),t)){var o=(0,a._)({},n);t.addEventListener(e,c,o),s.current=function(){return t.removeEventListener(e,c,o)}}}),[n,c,e,u]);return o.useEffect((function(){return u}),[u]),o.useMemo((function(){return{add:d,remove:u}}),[d,u])}},1025:function(e,t,n){"use strict";n.d(t,{useGlobalEventListener:function(){return r}});var a=n(401),o=n(1026);function r(e,t,n,r){var i=(0,o.useEventListener)(t,n,r);(0,a.useIsomorphicLayoutEffect)((function(){n&&e?i.add(e):i.remove()}),[Boolean(n),Boolean(e)])}},1034:function(e,t,n){"use strict";n.d(t,{useOrientationChange:function(){return c}});var a=n(634),o=n(5),r=n(633),i=n(1025);function l(e){var t,n,a;return e&&90===Math.abs(null!==(a=null===(n=e.screen)||void 0===n||null===(t=n.orientation)||void 0===t?void 0:t.angle)&&void 0!==a?a:Number(e.orientation))?"landscape":"portrait"}function c(){var e=(0,r.useDOM)().window,t=(0,a._)(o.useState((function(){return l(e)})),2),n=t[0],c=t[1];return(0,i.useGlobalEventListener)(e,"orientationchange",(function(){return c(l(e))})),n}},2:function(e,t,n){"use strict";n.d(t,{ActionSheet:function(){return Hn},ActionSheetDefaultIosCloseItem:function(){return Vn},ActionSheetItem:function(){return Wn},AdaptivityProvider:function(){return fl},Alert:function(){return _n},AppRoot:function(){return q},Appearance:function(){return Pl},AppearanceProvider:function(){return Vt},Avatar:function(){return Co},Badge:function(){return ya},Banner:function(){return rr},Button:function(){return Ve},ButtonGroup:function(){return Sa},Caption:function(){return re},Card:function(){return Ma},CardGrid:function(){return Aa},CardScroll:function(){return Oa},Cell:function(){return io},CellButton:function(){return so},Checkbox:function(){return ai},ConfigProvider:function(){return Xl},Counter:function(){return tr},CustomScrollView:function(){return ci},CustomSelectOption:function(){return mi},DateInput:function(){return Ml},Div:function(){return Il},File:function(){return Pr},FixedLayout:function(){return Fe},Footer:function(){return So},Footnote:function(){return oe},FormItem:function(){return Ir},FormLayout:function(){return wr},Gallery:function(){return Po},Gradient:function(){return xa},Group:function(){return La},Header:function(){return Ta},Headline:function(){return J},HorizontalCell:function(){return yo},HorizontalScroll:function(){return ln},IconButton:function(){return wa},Image:function(){return To},InfoRow:function(){return Ro},Input:function(){return xr},Link:function(){return qo},List:function(){return za},MiniInfoCell:function(){return ir},ModalCard:function(){return Na},ModalCardBase:function(){return Ea},ModalDismissButton:function(){return pn},ModalPage:function(){return ha},ModalPageHeader:function(){return ka},ModalRoot:function(){return va},ModalRootContext:function(){return Nt},Panel:function(){return lt},PanelHeader:function(){return Ot},PanelHeaderBack:function(){return zl},PanelHeaderButton:function(){return ut},PanelHeaderClose:function(){return Dl},PanelHeaderSubmit:function(){return Fl},PanelSpinner:function(){return Al},Paragraph:function(){return te},Placeholder:function(){return nr},Platform:function(){return g},PopoutWrapper:function(){return cn},Progress:function(){return Do},PullToRefresh:function(){return Ko},Radio:function(){return $r},RadioGroup:function(){return ei},RangeSlider:function(){return qr},RichCell:function(){return co},Root:function(){return Qe},ScreenSpinner:function(){return Kn},Search:function(){return Ho},SegmentedControl:function(){return Hi},Select:function(){return xi},SelectMimicry:function(){return Ei},Separator:function(){return St},SimpleCell:function(){return Ua},SizeType:function(){return B},Snackbar:function(){return qn},Spacing:function(){return Rt},Spinner:function(){return Ye.Spinner},SplitCol:function(){return Qt},SplitLayout:function(){return qt},Subhead:function(){return ae},SubnavigationBar:function(){return Er},SubnavigationButton:function(){return Sr},Switch:function(){return Or},Tabs:function(){return Yo},TabsItem:function(){return Vo},Tappable:function(){return xe},Text:function(){return ee},Textarea:function(){return Qr},Title:function(){return Q},Tooltip:function(){return Jo},TooltipContainer:function(){return He},Touch:function(){return Re},View:function(){return rt},ViewHeight:function(){return x},ViewWidth:function(){return L},VisuallyHiddenInput:function(){return Yl},WebviewType:function(){return C},WriteBar:function(){return cr},WriteBarIcon:function(){return gr},classNames:function(){return a.classNames},unstable_ChipsSelect:function(){return ec},unstable_Popover:function(){return oc},unstable_RichTooltip:function(){return lc},unstable_TextTooltip:function(){return ic},useAdaptivityWithJSMediaQueries:function(){return zt},useAppearance:function(){return w},usePlatform:function(){return he},useScrollLock:function(){return X.useScrollLock}});var a=n(153);if(a.canUseDOM){var o=Element.prototype;o.matches||(o.matches=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector),o.closest||(o.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),a=n.length>>>0;if(0===a)return!1;for(var o,r,i=0|t,l=Math.max(i>=0?i:a-Math.abs(i),0);l<a;){if((o=n[l])===(r=e)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;l++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,a=arguments[1],o=0;o<n;o++){var r=t[o];if(e.call(a,r,o,t))return r}}}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))});var r,i=n(289),l=n(152),c=n(400),s=n(634),u=n(1012),d=n(5),v=n.t(d,2),m=n(0),f=d.createContext({}),p=function(){return d.useContext(f)},h=n(692),k=n.n(h);!function(e){e.IOS="ios",e.UNKNOWN=""}(r||(r={}));var g,_={};function b(e){return{matches:!1,media:e,onchange:a.noop,addListener:a.noop,removeListener:a.noop,addEventListener:a.noop,removeEventListener:a.noop,dispatchEvent:function(){return!1}}}!function(e){e.ANDROID="android",e.IOS="ios",e.VKCOM="vkcom"}(g||(g={}));var E={desktop_web:g.VKCOM};var C,N=a.canUseDOM?function(e){try{var t=a.querystring.parse(e).vk_platform;return"string"==typeof t&&t in E?E[t]:void 0}catch(e){return void console.warn(e)}}(location.search):void 0;!function(e){e.VKAPPS="vkapps",e.INTERNAL="internal"}(C||(C={}));var y,S=d.createContext({webviewType:C.VKAPPS,isWebView:k().isWebView(),transitionMotionEnabled:!0,platform:N||(y||(y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(_[e])return _[e];var t=null,n=r.UNKNOWN,o=(0,a.detectIOS)(e),i=o.isIOS,l=o.iosMajor,c=o.iosMinor;i&&(n=r.IOS,t={major:l,minor:c});var s={userAgent:e,system:n,systemVersion:t};return _[e]=s,s}()),"ios"===y.system?g.IOS:g.ANDROID),appearance:void 0,locale:"ru"}),R=function(){return d.useContext(S)};function w(){var e=R().appearance;return null!=e?e:"light"}var M=n(402),I=n(401),A={bottom:null,top:null,left:null,right:null};function O(e){var t=e.detail,n=t.type,a=t.data;switch(n){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var o=a.insets;if(o)return(0,M._)((0,l._)({},o),{bottom:o.bottom>150?0:o.bottom})}return null}k().subscribe((function(e){var t=O(e);t&&(A=t)}));var P;!function(e){e.ENTER="Enter",e.SPACE="Space",e.TAB="Tab",e.ESCAPE="Escape",e.HOME="Home",e.END="End",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown"}(P||(P={}));var T=[{code:P.ENTER,key:["Enter"],keyCode:13},{code:P.SPACE,key:["Space","Spacebar"," "],keyCode:32},{code:P.TAB,key:["Tab"],keyCode:9},{code:P.ESCAPE,key:["Escape"],keyCode:27},{code:P.HOME,key:["Home"],keyCode:36},{code:P.END,key:["End"],keyCode:35},{code:P.ARROW_LEFT,key:["ArrowLeft"],keyCode:37},{code:P.ARROW_RIGHT,key:["ArrowRight"],keyCode:39},{code:P.ARROW_UP,key:["ArrowUp"],keyCode:40},{code:P.ARROW_DOWN,key:["ArrowDown"],keyCode:40},{code:P.PAGE_UP,key:["PageUp"],keyCode:40},{code:P.PAGE_DOWN,key:["PageDown"],keyCode:40}];function D(e){var t;return(null===(t=T.find((function(t){var n=t.key,a=t.keyCode;return n.includes(e.key)||a===e.keyCode})))||void 0===t?void 0:t.code)||null}var L,x,B,z,H=n(633),F=n(1025),Y="enableKeyboardInput";!function(e){e[e.SMALL_MOBILE=1]="SMALL_MOBILE",e[e.MOBILE=2]="MOBILE",e[e.SMALL_TABLET=3]="SMALL_TABLET",e[e.TABLET=4]="TABLET",e[e.DESKTOP=5]="DESKTOP"}(L||(L={})),function(e){e[e.EXTRA_SMALL=1]="EXTRA_SMALL",e[e.SMALL=2]="SMALL",e[e.MEDIUM=3]="MEDIUM"}(x||(x={})),function(e){e.COMPACT="compact",e.REGULAR="regular"}(B||(B={}));var W=(z={},(0,i._)(z,L.SMALL_MOBILE,"smallMobileMinus"),(0,i._)(z,L.MOBILE,"mobile"),(0,i._)(z,L.SMALL_TABLET,"smallTablet"),(0,i._)(z,L.TABLET,"tablet"),(0,i._)(z,L.DESKTOP,"desktopPlus"),z),V=function(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("current")},G=d.createContext({portalRoot:null}),X=n(1215),U=(0,i._)({none:"vkui--sizeX-none"},B.REGULAR,"vkui--sizeX-regular"),K="--vkui_internal--safe_area_inset_",q=function(e){var t=e.children,n=e.mode,o=void 0===n?"full":n,r=e.scroll,i=void 0===r?"global":r,v=e.portalRoot,f=void 0===v?null:v,h=e.disablePortal,g=e.className,_=(0,c._)(e,["children","mode","scroll","portalRoot","disablePortal","className"]),b=function(){var e=(0,H.useDOM)().document,t=(0,s._)(d.useState(!1),2),n=t[0],a=t[1],o=d.useCallback((function(){a(!0)}),[]),r=d.useCallback((function(e){D(e)===P.TAB&&o()}),[o]),i=d.useCallback((function(){a(!1)}),[]),l={passive:!0,capture:!0};return(0,F.useGlobalEventListener)(e,"keydown",r,l),(0,F.useGlobalEventListener)(e,"mousedown",i,l),(0,F.useGlobalEventListener)(e,"touchstart",i,l),(0,F.useGlobalEventListener)(e,Y,o,l),(0,F.useGlobalEventListener)(e,"disableKeyboardInput",i,l),n}(),E=d.useRef(null),C=(0,s._)(d.useState(null),2),N=C[0],y=C[1],S=(0,H.useDOM)().document,R=function(){var e=(0,s._)(d.useState(A),2),t=e[0],n=e[1];return(0,I.useIsomorphicLayoutEffect)((function(){var e=function(e){var t=O(e);t&&n(t)};return k().subscribe(e),function(){k().unsubscribe(e)}}),[]),t}(),M=w(),T=p(),L=T.hasPointer,x=T.sizeX,z=void 0===x?"none":x;(0,I.useIsomorphicLayoutEffect)((function(){var e=null;return f&&(e=V(f)?f.current:f),e||(e=S.createElement("div"),S.body.appendChild(e)),y(e),function(){var t,n;f||(null===(n=e)||void 0===n||null===(t=n.parentElement)||void 0===t||t.removeChild(e))}}),[f]),(0,I.useIsomorphicLayoutEffect)((function(){var e,t,n;if("partial"===o)return a.noop;var r=null===(t=E.current)||void 0===t?void 0:t.parentElement,i=["vkui__root"].concat("embedded"===o?"vkui__root--embedded":[]);return null===(n=r)||void 0===n||(e=n.classList).add.apply(e,(0,u._)(i)),function(){var e,t;null===(t=r)||void 0===t||(e=t.classList).remove.apply(e,(0,u._)(i))}}),[]),(0,I.useIsomorphicLayoutEffect)((function(){if("full"===o)return S.documentElement.classList.add("vkui"),function(){S.documentElement.classList.remove("vkui")}}),[S,o]),(0,I.useIsomorphicLayoutEffect)((function(){var e;if("partial"===o||!(null===(e=E.current)||void 0===e?void 0:e.parentElement))return a.noop;var t,n=E.current.parentElement;for(t in R)if(R.hasOwnProperty(t)&&"number"==typeof R[t]){var r=R[t];n.style.setProperty(K+t,"".concat(r,"px")),N&&N.style.setProperty(K+t,"".concat(r,"px"))}return function(){var e;for(e in R)R.hasOwnProperty(e)&&(n.style.removeProperty(K+e),N&&N.style.removeProperty(K+e))}}),[R,N]),(0,I.useIsomorphicLayoutEffect)((function(){var e;if("partial"===o)return a.noop;var t=z!==B.COMPACT?U[z]:null,n="embedded"===o?null===(e=E.current)||void 0===e?void 0:e.parentElement:S.body;return null!==t&&n?(n.classList.add(t),function(){n.classList.remove(t)}):a.noop}),[z]),(0,I.useIsomorphicLayoutEffect)((function(){return"full"!==o||void 0===M?a.noop:(S.documentElement.style.setProperty("color-scheme",M),function(){return S.documentElement.style.removeProperty("color-scheme")})}),[M]);var W=d.useMemo((function(){return"contain"===i?X.ElementScrollController:X.GlobalScrollController}),[i]),q=d.createElement(G.Provider,{value:{appRoot:E,portalRoot:N,embedded:"embedded"===o,keyboardInput:b,mode:o,disablePortal:h}},d.createElement(W,{elRef:E},d.createElement(m.IconSettingsProvider,{classPrefix:"vkui"},t)));return"partial"===o?q:d.createElement("div",(0,l._)({ref:E,className:(0,a.classNames)("vkuiAppRoot",void 0===L?"vkuiAppRoot--pointer-none":!L&&"vkuiAppRoot--pointer-has-not",g)},_),q)},j=function(e){var t=e.className,n=e.weight,o=e.Component,r=void 0===o?"span":o,i=e.normalize,s=e.getRootRef,u=(0,c._)(e,["className","weight","Component","normalize","getRootRef"]);return d.createElement(r,(0,M._)((0,l._)({},u),{ref:s,className:(0,a.classNames)(t,i&&"vkuiTypography--normalize",n&&{1:"vkuiTypography--weight-1",2:"vkuiTypography--weight-2",3:"vkuiTypography--weight-3"}[n])}))},Q=function(e){var t=e.className,n=e.level,o=void 0===n?"1":n,r=e.Component,i=e.normalize,s=void 0===i||i,u=(0,c._)(e,["className","level","Component","normalize"]);return r||(r="h"+o),d.createElement(j,(0,l._)({Component:r,normalize:s,className:(0,a.classNames)(t,{1:"vkuiTitle--level-1",2:"vkuiTitle--level-2",3:"vkuiTitle--level-3"}[o])},u))},Z=(0,i._)({none:"vkuiHeadline--sizeY-none"},B.COMPACT,"vkuiHeadline--sizeY-compact"),J=function(e){var t=e.className,n=e.weight,o=void 0===n?"3":n,r=e.level,i=void 0===r?"1":r,s=e.Component,u=void 0===s?"h4":s,v=e.normalize,m=void 0===v||v,f=(0,c._)(e,["className","weight","level","Component","normalize"]),h=p().sizeY,k=void 0===h?"none":h;return d.createElement(j,(0,l._)({Component:u,normalize:m,weight:o,className:(0,a.classNames)(t,"vkuiHeadline",k!==B.REGULAR&&Z[k],{1:"vkuiHeadline--level-1",2:"vkuiHeadline--level-2"}[i])},f))},$=(0,i._)({none:"vkuiText--sizeY-none"},B.COMPACT,"vkuiText--sizeY-compact"),ee=function(e){var t=e.className,n=e.Component,o=void 0===n?"span":n,r=e.normalize,i=void 0===r||r,s=(0,c._)(e,["className","Component","normalize"]),u=p().sizeY,v=void 0===u?"none":u;return d.createElement(j,(0,l._)({Component:o,normalize:i,className:(0,a.classNames)(t,"vkuiText",v!==B.REGULAR&&$[v])},s))},te=function(e){var t=e.className,n=e.Component,o=void 0===n?"span":n,r=e.normalize,i=void 0!==r&&r,s=(0,c._)(e,["className","Component","normalize"]);return d.createElement(j,(0,l._)({Component:o,normalize:i,className:(0,a.classNames)(t,"vkuiParagraph")},s))},ne=(0,i._)({none:"vkuiSubhead--sizeY-none"},B.COMPACT,"vkuiSubhead--sizeY-compact"),ae=function(e){var t=e.className,n=e.Component,o=void 0===n?"h5":n,r=e.normalize,i=void 0===r||r,s=(0,c._)(e,["className","Component","normalize"]),u=p().sizeY,v=void 0===u?"none":u;return d.createElement(j,(0,l._)({Component:o,normalize:i,className:(0,a.classNames)(t,"vkuiSubhead",v!==B.REGULAR&&ne[v])},s))},oe=function(e){var t=e.className,n=e.caps,o=e.Component,r=void 0===o?"span":o,i=e.normalize,s=void 0===i||i,u=(0,c._)(e,["className","caps","Component","normalize"]);return d.createElement(j,(0,l._)({Component:r,normalize:s,className:(0,a.classNames)(t,"vkuiFootnote",n&&"vkuiFootnote--caps")},u))},re=function(e){var t=e.className,n=e.level,o=void 0===n?"1":n,r=e.caps,i=e.Component,s=void 0===i?"span":i,u=e.normalize,v=void 0===u||u,m=(0,c._)(e,["className","level","caps","Component","normalize"]);return d.createElement(j,(0,l._)({Component:s,normalize:v,className:(0,a.classNames)(t,r&&"vkuiCaption--caps",{1:"vkuiCaption--level-1",2:"vkuiCaption--level-2",3:"vkuiCaption--level-3"}[o])},m))},ie=n(1469);function le(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s._)(d.useState(e),2),n=t[0],a=t[1];return d.useEffect((function(){a(!0)}),[]),n}function ce(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=d.useContext(f).hasPointer,n=void 0===t?a.hasMouse:t;if(le(!e))return n}var se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s._)(d.useState(e),2),n=t[0],a=t[1],o=d.useCallback((function(){a(!0)}),[]),r=d.useCallback((function(){a(!1)}),[]),i=d.useCallback((function(){a(!n)}),[n]);return{value:n,setTrue:o,setFalse:r,toggle:i}};function ue(e,t){t&&("function"==typeof t?t(e):t.current=e)}function de(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=null;return{get current(){return a},set current(e){a=e,t.forEach((function(t){return t&&ue(e,t)}))}}}function ve(e){var t="";return d.Children.map(e,(function(e){"string"==typeof e&&(t+=" "+e)})),t.trim()}var me=function(e){return e.stopPropagation()};function fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=d.useRef(null);return d.useMemo((function(){return{get current(){return a.current},set current(e){a.current=e,t.forEach((function(t){t&&ue(e,t)}))}}}),t)}function pe(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,s._)((0,d.useState)(!1),2),n=t[0],a=t[1],o=(0,d.useContext)(G).keyboardInput;return{focusVisible:e?o&&n:n,onFocus:(0,d.useCallback)((function(e){e.stopPropagation(),a(!0)}),[a]),onBlur:(0,d.useCallback)((function(e){e.stopPropagation(),a(!1)}),[a])}}function he(){return R().platform}function ke(e,t){var n=d.useRef({cb:e,duration:t});(0,I.useIsomorphicLayoutEffect)((function(){n.current.cb=e,n.current.duration=t}),[e,t]);var o=d.useRef(),r=d.useCallback((function(){var e;a.canUseDOM&&(null===(e=o)||void 0===e?void 0:e.current)&&clearTimeout(o.current)}),[]),i=d.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.current.duration;r(),a.canUseDOM&&(o.current=setTimeout((function(){var e=n.current.cb;"function"==typeof e&&e()}),e))}),[r]);return(0,I.useIsomorphicLayoutEffect)((function(){return r}),[]),{set:i,clear:r}}var ge=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.filter((function(e){return"function"==typeof e})).forEach((function(e){return e.apply(void 0,(0,u._)(n))}))}};var _e=function(e){return null!=e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX},be=function(e){return null!=e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY},Ee=function(){return a.canUseDOM&&"ontouchstart"in window};function Ce(){return Ee()?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function Ne(e,t,n,a){if(a||e<0)return e;var o=e*n;return o*t/(o+t)}var ye=function(e){var t=e.visible,n=e.mode,o=e.thin,r=(0,c._)(e,["visible","mode","thin"]);return d.createElement("span",(0,M._)((0,l._)({},r),{"aria-hidden":!0,className:(0,a.classNames)("vkuiFocusVisible",t&&"vkuiFocusVisible--visible",o&&"vkuiFocusVisible--thin",{inside:"vkuiFocusVisible--mode-inside",outside:"vkuiFocusVisible--mode-outside",outline:"vkuiFocusVisible--mode-outline"}[n])}))},Se=n(1026),Re=function(e){var t=function(e){var t,a=null!==(t=x.current)&&void 0!==t?t:{},o=a.isPressed,r=a.isSlide,i=a.isSlideX,l=a.isSlideY;o&&B(e,[f,l&&h,i&&p]);var c=Ee();L.current=(!c||!r)&&Boolean(r),x.current={},c&&v&&v(e),n()},n=function(){G.forEach((function(e){return e.remove()}))},a=e.onStart,o=e.onStartX,r=e.onStartY,i=e.onMove,s=e.onMoveX,u=e.onMoveY,v=e.onLeave,m=e.onEnter,f=e.onEnd,p=e.onEndX,h=e.onEndY,k=e.onClickCapture,g=e.usePointerHover,_=e.slideThreshold,b=void 0===_?5:_,E=e.useCapture,C=void 0!==E&&E,N=e.Component,y=void 0===N?"div":N,S=e.getRootRef,R=e.noSlideClick,w=void 0!==R&&R,A=e.stopPropagation,O=void 0!==A&&A,P=(0,c._)(e,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"]),T=(0,H.useDOM)().document,D=d.useMemo(Ce,[]),L=d.useRef(!1),x=d.useRef(null),B=function(e,t){O&&e.stopPropagation(),t.forEach((function(t){var n,a,o,r=Date.now()-(null!==(o=null===(a=x.current)||void 0===a||null===(n=a.startT)||void 0===n?void 0:n.getTime())&&void 0!==o?o:0);t&&t((0,M._)((0,l._)({},x.current),{duration:r,originalEvent:e}))}))},z=(0,Se.useEventListener)(g?"pointerenter":"mouseenter",m),F=(0,Se.useEventListener)(g?"pointerleave":"mouseleave",v),Y=(0,Se.useEventListener)(D[0],(function(e){var t,n,i;x.current=(t=_e(e),n=be(e),{startX:t,startY:n,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}),B(e,[a,o,r]),(i=Ee()?e.target:T)&&G.forEach((function(e){return e.add(i)}))}),{capture:C,passive:!1}),W=fe(S);(0,I.useIsomorphicLayoutEffect)((function(){var e=W.current;e&&(z.add(e),F.add(e),Y.add(e))}),[y]);var V={capture:C,passive:!1},G=[(0,Se.useEventListener)(D[1],(function(e){var n,a=null!==(n=x.current)&&void 0!==n?n:{},o=a.isPressed,r=a.isX,l=a.isY,c=a.startX,d=void 0===c?0:c,v=a.startY,m=void 0===v?0:v;if(o){var f,p=_e(e)-d,h=be(e)-m,k=Math.abs(p),g=Math.abs(h);if(e.touches&&e.touches.length>1)return t(e);if(!r&&!l){var _=k>=b&&k>g,E=g>=b&&g>k,C=_&&(!!s||!!i),N=E&&(!!u||!!i);x.current&&Object.assign(x.current,{isY:E,isX:_,isSlideX:C,isSlideY:N,isSlide:C||N})}(null===(f=x.current)||void 0===f?void 0:f.isSlide)&&(Object.assign(x.current,{shiftX:p,shiftY:h,shiftXAbs:k,shiftYAbs:g}),B(e,[i,x.current.isSlideX&&s,x.current.isSlideY&&u]))}}),V),(0,Se.useEventListener)(D[2],t,V),(0,Se.useEventListener)(D[3],t,V)];return d.createElement(y,(0,M._)((0,l._)({},P),{onDragStart:function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()},onClickCapture:function(e){if(!L.current)return k&&k(e);w?(e.stopPropagation(),e.preventDefault()):k&&k(e),L.current=!1},ref:W}))};var we=d.createContext(!1),Me={none:"vkuiTappable--sizeX-none",compact:"vkuiTappable--sizeX-compact"},Ie=(0,ie.default)(),Ae=0,Oe=1,Pe=2,Te=3,De=d.createContext({onHoverChange:a.noop});function Le(e){switch(e){case"opacity":case"background":return!0;default:return!1}}var xe=function(e){var t=e.children,n=e.Component,o=e.onClick,r=e.onKeyDown,i=e.activeEffectDelay,v=void 0===i?600:i,m=e.stopPropagation,h=void 0!==m&&m,k=e.getRootRef,_=e.hasHover,b=void 0===_||_,E=e.hoverMode,C=void 0===E?"background":E,N=e.hasActive,y=void 0===N||N,S=e.activeMode,R=void 0===S?"background":S,w=e.focusVisibleMode,A=void 0===w?"inside":w,O=e.onEnter,T=e.onLeave,L=e.className,x=e.hovered,z=(0,c._)(e,["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave","className","hovered"]);n=n||(z.href?"a":"div");var H=d.useContext(De).onHoverChange,F=d.useContext(we),Y=he(),W=pe(),V=W.focusVisible,G=W.onBlur,X=W.onFocus,U=p().sizeX,K=void 0===U?"none":U,q=ce(),j=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=d.useContext(f).hasHover,n=void 0===t?a.hasHover:t;if(le(!e))return n}(),Q=(0,s._)(d.useState([]),2),Z=Q[0],J=Q[1],$=(0,s._)(d.useState(!1),2),ee=$[0],te=$[1],ne=se(!1),ae=ne.value,oe=ne.setTrue,re=ne.setFalse,ie=(ae||x)&&!z.disabled,ue=y&&!ee&&!z.disabled,de=j&&b&&!ee,ve="a"!==n&&"button"!==n&&"label"!==n&&!z.contentEditable,me=Le(C),Ee=Le(R),Ce=["inside","outside"].includes(A),Ne=(0,s._)(function(e,t){var n=d.useMemo((function(){return Math.round(1e8*Math.random()).toString(16)}),[]),o=(0,s._)(d.useState(Ae),2),r=o[0],i=o[1],l=function(){return i(Ae)},c=function(){return e&&i(Pe)},u=ke(c,70),v=ke(l,t);return(0,I.useIsomorphicLayoutEffect)((function(){return r===Oe?(u.set(),u.clear):r===Te?v.clear:(r===Pe&&Ie.emit("active",n),a.noop)}),[r]),(0,I.useIsomorphicLayoutEffect)((function(){if(r===Ae)return a.noop;var e=function(e){e!==n&&l()};return Ie.on("active",e),function(){return Ie.off("active",e)}}),[r===Ae]),(0,I.useIsomorphicLayoutEffect)((function(){!e&&l()}),[e]),[r,{delayStart:function(){e&&i(Oe)},start:c,stop:function(e){if(e)return i(Te),v.set(e);l()}}]}(ue,v),2),Se=Ne[0],xe=Ne[1],Be=xe.start,ze=xe.stop,He=xe.delayStart,Fe=Se===Pe||Se===Te,Ye=fe(k),We=d.useRef({onHoverChange:te}).current;(0,I.useIsomorphicLayoutEffect)((function(){return ie?(H(!0),function(){return H(!1)}):a.noop}),[ie]);var Ve=Y===g.ANDROID&&!q&&ue&&"background"===R,Ge=ke((function(){return J([])}),225),Xe=(0,a.classNames)(L,"vkuiTappable","vkuiInternalTappable",Y===g.IOS&&"vkuiTappable--ios",K!==B.REGULAR&&Me[K],de&&"vkuiTappable--hasHover",ue&&"vkuiTappable--hasActive",de&&ie&&!me&&C,ue&&Fe&&!Ee&&R,V&&!Ce&&A,de&&ie&&me&&{background:"vkuiTappable--hover-background",opacity:"vkuiTappable--hover-opacity"}[C],ue&&Fe&&Ee&&{background:"vkuiTappable--active-background",opacity:"vkuiTappable--active-opacity"}[R],V&&"vkuiTappable--focus-visible"),Ue={onStart:ge((function(e){var t,n,a,o,r,i,l,c=e.originalEvent;if(ue){if(c.touches&&c.touches.length>1)return ze();if(Ve){var s=(t=Ye.current,l=null===(n=t)||void 0===n?void 0:n.getBoundingClientRect(),{top:null===(a=l)||void 0===a?void 0:a.top,left:null===(o=l)||void 0===o?void 0:o.left,width:null===(r=t)||void 0===r?void 0:r.offsetWidth,height:null===(i=t)||void 0===i?void 0:i.offsetHeight}),d=s.top,v=s.left;!function(e,t){var n=Date.now(),a=Z.filter((function(e){return e.id+225>n}));J((0,u._)(a).concat([{x:e,y:t,id:n}])),Ge.set()}(_e(c)-(null!=v?v:0),be(c)-(null!=d?d:0))}He()}}),z.onStart),onMove:ge((function(e){e.isSlide&&ze()}),z.onMove),onEnd:ge((function(e){var t=e.duration;if(Se!==Ae){Se===Oe&&Be();var n=t-70;ze(n>=100?0:v-n)}}),z.onEnd),onClick:o,onKeyDown:ge((function(e){var t;ve&&function(e){var t=e.target,n=t.tagName,a=t.getAttribute("role"),o=!0!==t.isContentEditable&&"INPUT"!==n&&"TEXTAREA"!==n&&("button"===a||"link"===a),r="A"===n&&t.hasAttribute("href"),i=D(e);return o&&(i===P.SPACE&&"button"===a||i===P.ENTER&&!r)}(e)&&(e.preventDefault(),null===(t=Ye.current)||void 0===t||t.click())}),r)},Ke=z.href?"link":"button";return d.createElement(Re,(0,l._)((0,M._)((0,l._)({onEnter:ge(oe,O),onLeave:ge(re,T),type:"button"===n?"button":void 0,tabIndex:ve&&!z.disabled?0:void 0,role:ve?Ke:void 0,"aria-disabled":ve?z.disabled:void 0,stopPropagation:h&&!F&&!z.disabled},z),{slideThreshold:20,usePointerHover:!0,className:Xe,Component:n,getRootRef:Ye,onBlur:ge(G,z.onBlur),onFocus:ge(X,z.onFocus)}),z.disabled?{}:Ue),d.createElement(De.Provider,{value:We},t),Ve&&d.createElement("span",{"aria-hidden":!0,className:"vkuiTappable__waves"},Z.map((function(e){return d.createElement("span",{key:e.id,className:"vkuiTappable__wave",style:{top:e.y,left:e.x}})}))),(de&&"background"===C||ue&&"background"===R)&&d.createElement("span",{"aria-hidden":!0,className:"vkuiTappable__stateLayer"}),!z.disabled&&Ce&&d.createElement(ye,{visible:V,mode:A}))},Be=d.createContext({colRef:null,animate:!0}),ze="data-tooltip-container",He=d.forwardRef((function(e,t){var n=e.fixed,a=void 0!==n&&n,o=(0,c._)(e,["fixed"]);return o[ze]=a?"fixed":"true",d.createElement("div",(0,M._)((0,l._)({},o),{ref:t}))})),Fe=function(e){var t=e.children,n=e.style,o=e.vertical,r=e.getRootRef,i=e.getRef,u=e.filled,v=e.className,m=e.useParentWidth,f=(0,c._)(e,["children","style","vertical","getRootRef","getRef","filled","className","useParentWidth"]),p=he(),h=fe(r,i),k=(0,s._)(d.useState(void 0),2),_=k[0],b=k[1],E=(0,H.useDOM)().window,C=d.useContext(Be).colRef,N=function(){var e;if(m&&h.current){var t,n=null===(t=h.current.parentElement)||void 0===t?void 0:t.getBoundingClientRect().width;b(n?"".concat(n,"px"):void 0)}else if(null===(e=C)||void 0===e?void 0:e.current){var a=getComputedStyle(C.current);b("".concat(C.current.clientWidth-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight),"px"))}else b(void 0)};return d.useEffect(N,[C,p,h,m]),(0,F.useGlobalEventListener)(E,"resize",N),d.createElement(He,(0,M._)((0,l._)({},f),{fixed:!0,ref:h,className:(0,a.classNames)("vkuiFixedLayout",p===g.IOS&&"vkuiInternalFixedLayout--ios",u&&"vkuiFixedLayout--filled",o&&{top:"vkuiFixedLayout--vertical-top",bottom:(0,a.classNames)("vkuiFixedLayout--vertical-bottom","vkuiInternalFixedLayout--vertical-bottom")}[o],v),style:(0,M._)((0,l._)({},n),{width:_})}),t)},Ye=n(1004),We=(0,i._)({none:"vkuiButton--sizeY-none"},B.REGULAR,"vkuiButton--sizeY-regular"),Ve=function(e){var t=e.size,n=void 0===t?"s":t,o=e.mode,r=void 0===o?"primary":o,i=e.appearance,s=void 0===i?"accent":i,u=e.stretched,v=void 0!==u&&u,m=e.align,f=void 0===m?"center":m,h=e.children,k=e.before,_=e.after,b=e.getRootRef,E=e.loading,C=e.onClick,N=e.stopPropagation,y=void 0===N||N,S=e.className,R=e.disableSpinnerAnimation,w=(0,c._)(e,["size","mode","appearance","stretched","align","children","before","after","getRootRef","loading","onClick","stopPropagation","className","disableSpinnerAnimation"]),I=Boolean(k||_),A=!h&&Boolean(_)!==Boolean(k),O=p().sizeY,P=void 0===O?"none":O,T=he();return d.createElement(xe,(0,M._)((0,l._)({hoverMode:"vkuiButton--hover",activeMode:"vkuiButton--active",Component:w.href?"a":"button",focusVisibleMode:"outside"},w),{onClick:E?void 0:C,stopPropagation:y,className:(0,a.classNames)(S,"vkuiButton",{s:"vkuiButton--size-s",m:"vkuiButton--size-m",l:"vkuiButton--size-l"}[n],{primary:"vkuiButton--mode-primary",secondary:"vkuiButton--mode-secondary",tertiary:"vkuiButton--mode-tertiary",outline:"vkuiButton--mode-outline",link:"vkuiButton--mode-link"}[r],{accent:"vkuiButton--appearance-accent",positive:"vkuiButton--appearance-positive",negative:"vkuiButton--appearance-negative",neutral:"vkuiButton--appearance-neutral",overlay:"vkuiButton--appearance-overlay","accent-invariable":"vkuiButton--appearance-accent-invariable"}[s],{left:"vkuiButton--align-left",center:"vkuiButton--align-center",right:"vkuiButton--align-right"}[f],P!==B.COMPACT&&We[P],T===g.IOS&&"vkuiButton--ios",v&&"vkuiButton--stretched",I&&"vkuiButton--with-icon",A&&!v&&"vkuiButton--singleIcon",E&&"vkuiButton--loading"),getRootRef:b}),E&&d.createElement(Ye.Spinner,{size:"small",className:"vkuiButton__spinner",disableAnimation:R}),d.createElement("span",{className:"vkuiButton__in"},(0,a.hasReactNode)(k)&&d.createElement("span",{className:"vkuiButton__before",role:"presentation","data-testid":void 0},k),(0,a.hasReactNode)(h)&&d.createElement("span",{className:"vkuiButton__content","data-testid":void 0},h),(0,a.hasReactNode)(_)&&d.createElement("span",{className:"vkuiButton__after",role:"presentation","data-testid":void 0},_)))};function Ge(e,t){return e.nav||e.id}var Xe=n(1028);function Ue(e){var t,n,a=d.useRef(e);return t=a.current,n=e,Object.keys(t).length===Object.keys(n).length&&Object.keys(t).every((function(e){return t[e]===n[e]}))||(a.current=e),a.current}var Ke=d.createContext({entering:!1}),qe=function(){return d.useContext(Ke)},je=function(e){var t=e.children,n=e.entering,a=Ue({entering:qe().entering||n});return d.createElement(Ke.Provider,{value:a},t)},Qe=((0,Xe.warnOnce)("Root"),function(e){var t=e.children,n=e.activeView,o=e.onTransition,r=(e.nav,e.className),i=(0,c._)(e,["children","activeView","onTransition","nav","className"]),u=d.useContext(X.ScrollContext),v=he(),m=(0,H.useDOM)().document,f=d.useRef({}).current,p=d.useRef({}).current,h=R().transitionMotionEnabled,k=void 0===h||h,_=d.useContext(Be).animate,b=!k||!_,E=d.Children.toArray(t),C=(0,s._)(d.useState({activeView:n,transition:!1}),2),N=C[0],y=N.prevView,S=N.activeView,w=N.transition,A=N.isBack,O=C[1],P=d.useCallback((function(){return O({activeView:S,prevView:y,isBack:A,transition:!1})}),[S,A,y]);(0,I.useIsomorphicLayoutEffect)((function(){m.activeElement.blur()}),[S]),(0,I.useIsomorphicLayoutEffect)((function(){return function(e){if(e!==S){var t=E.map((function(e){return Ge(e.props)})),n=t.indexOf(e)<t.indexOf(S);f[S]=u.getScroll().y,O({activeView:e,prevView:S,transition:!b,isBack:n})}}(n)}),[n]),(0,I.useIsomorphicLayoutEffect)((function(){!w&&y&&(u.scrollTo(0,A?f[S]:0),o&&o({isBack:Boolean(A),from:y,to:S}))}),[w,y]);var T=ke(P,v===g.IOS?600:300);d.useEffect((function(){w?T.set():T.clear()}),[T,w]);var D=function(e){["vkui-root-android-animation-hide-back","vkui-root-android-animation-show-forward","vkui-root-ios-animation-hide-back","vkui-root-ios-animation-show-forward"].includes(e.animationName)&&P()};return d.createElement("div",(0,M._)((0,l._)({},i),{className:(0,a.classNames)("vkuiRoot",v===g.IOS&&"vkuiRoot--ios",w&&"vkuiRoot--transition",r)}),E.map((function(e){var t=Ge(e.props);if(t!==S&&(!w||t!==y))return null;var n,o=w&&t===(A?y:S),r=w&&(t===y||A&&t===S);return d.createElement("div",{key:t,ref:function(e){return t&&(p[t]=e)},onAnimationEnd:o?D:void 0,className:(0,a.classNames)("vkuiRoot__view",w&&t===y&&A&&"vkuiRoot__view--hide-back",w&&t===y&&!A&&"vkuiRoot__view--hide-forward",w&&t===S&&A&&"vkuiRoot__view--show-back",w&&t===S&&!A&&"vkuiRoot__view--show-forward")},d.createElement(je,{entering:w&&t===S},d.createElement("div",{className:"vkuiRoot__scrollCompensation",style:{marginTop:r?t&&-(null!==(n=f[t])&&void 0!==n?n:0):void 0}},e)))})))});function Ze(e){var t=d.useRef();return d.useEffect((function(){t.current=e})),t.current}var Je=Boolean(a.canUseDOM&&window.__isVkuiTesting),$e={supported:!1},et={supported:!1,name:null};a.canUseDOM&&!Je&&(("undefined"!=typeof AnimationEvent||"undefined"!=typeof WebKitAnimationEvent)&&($e.supported=!0),"undefined"!=typeof TransitionEvent?(et.supported=!0,et.name="transitionend"):"undefined"!=typeof WebKitTransitionEvent&&(et.supported=!0,et.name="webkitTransitionEnd"));var tt=function(){var e=d.useRef(null),t=(0,H.useDOM)().document,n=d.useRef(a.noop),o=d.useCallback((function(){n.current(),n.current=a.noop}),[]);return{waitTransitionFinish:d.useCallback((function(a,r,i){var l,c;a&&(!(null===(l=t)||void 0===l?void 0:l.hidden)&&et.supported&&et.name?(o(),a.addEventListener(et.name,r),n.current=function(){et.name&&a.removeEventListener(et.name,r)}):((null===(c=e)||void 0===c?void 0:c.current)&&clearTimeout(e.current),e.current=setTimeout(r,i)))}),[t,o,e])}};var nt;!function(e){e[e.fail=1]="fail",e[e.success=2]="success"}(nt||(nt={}));var at,ot={},rt=((0,Xe.warnOnce)("View"),function(e){var t,n,o=e.activePanel,r=e.history,i=e.nav,u=e.onTransition,v=e.onSwipeBack,m=e.onSwipeBackStart,f=e.onSwipeBackCancel,p=e.children,h=e.className,k=(0,c._)(e,["activePanel","history","nav","onTransition","onSwipeBack","onSwipeBackStart","onSwipeBackCancel","children","className"]),_=d.useRef(ot[Ge({nav:i,id:k.id})]||{}),b=d.useRef(a.noop);d.useEffect((function(){return function(){var e=Ge({nav:i,id:k.id});e&&(ot[e]=_.current)}}));var E=d.useRef({}),C=(0,H.useDOM)(),N=C.window,y=C.document,S=(0,X.useScroll)(),w=R(),A=d.useContext(Be),O=he(),P=(0,s._)(d.useState(!1),2),T=P[0],D=P[1],L=(0,s._)(d.useState([o]),2),x=L[0],B=L[1],z=(0,s._)(d.useState(o),2),F=z[0],Y=z[1],W=(0,s._)(d.useState(void 0),2),V=W[0],G=W[1],U=(0,s._)(d.useState(null),2),K=U[0],q=U[1],j=(0,s._)(d.useState(null),2),Q=j[0],Z=j[1],J=(0,s._)(d.useState(!1),2),$=J[0],ee=J[1],te=(0,s._)(d.useState(!1),2),ne=te[0],ae=te[1],oe=(0,s._)(d.useState(0),2),re=oe[0],ie=oe[1],le=(0,s._)(d.useState(0),2),ce=le[0],se=le[1],ue=(0,s._)(d.useState(null),2),de=ue[0],ve=ue[1],me=(0,s._)(d.useState(null),2),fe=me[0],pe=me[1],ge=(0,s._)(d.useState(null),2),_e=ge[0],be=ge[1],Ee=(0,s._)(d.useState(!1),2),Ce=Ee[0],Ne=Ee[1],ye=Ze(o),Se=Ze($),we=Ze(Ce),Me=Ze(_e),Ie=Ze(fe),Ae=Ze(u),Oe=d.Children.toArray(p).filter((function(e){var t=Ge(e.props);return void 0!==t&&x.includes(t)||t===fe||t===de})),Pe=!1===(null===(t=w)||void 0===t?void 0:t.transitionMotionEnabled)||!(null===(n=A)||void 0===n?void 0:n.animate)||O===g.VKCOM,Te=function(e){return null===e?null:E.current[e]},De=d.useCallback((function(e,t){t&&(_.current[e]=0),q(null),Z(null),B([o]),Y(o),D(!1),G(void 0),b.current=function(){var n;null===(n=S)||void 0===n||n.scrollTo(0,t?_.current[o]:0),u&&u({isBack:t,from:e,to:o})}}),[o,u,S]);(0,I.useIsomorphicLayoutEffect)((function(){b.current(),b.current=a.noop}),[b.current]);var Le=d.useCallback((function(e){e&&!["vkui-animation-ios-next-forward","vkui-animation-ios-prev-back","vkui-animation-view-next-forward","vkui-animation-view-prev-back"].includes(e.animationName)||null===K||De(K,Boolean(V))}),[De,V,K]),xe=tt().waitTransitionFinish,ze=ke(Le,O===g.IOS?600:300),He=d.useCallback((function(){v&&v()}),[v]),Fe=d.useCallback((function(){f&&f(),pe(null),ve(null),ee(!1),be(null),ie(0),se(0)}),[f]),Ye=d.useCallback((function(e){var t,n;if(!e||(null===(t=e)||void 0===t?void 0:t.propertyName.includes("transform"))&&(null===(n=e)||void 0===n?void 0:n.target)===Te(de))switch(_e){case nt.fail:Fe();break;case nt.success:He()}}),[Fe,He,de,_e]),We=d.useCallback((function(e){if($){var t,n=ce/e.duration*1e3;0===ce?Fe():ce>=(null!==(t=N.innerWidth)&&void 0!==t?t:0)?He():n>250||re+ce>N.innerWidth/2?be(nt.success):be(nt.fail)}ne&&ae(!1)}),[Fe,He,ce,re,$,ne,N]),Ve=function(e){if(!a.canUseDOM||!N)return{};var t=e===fe,n=e===de;if(!t&&!n||_e)return{};var o="".concat(ce,"px"),r="".concat(100*ce/N.innerWidth/2-50,"%"),i=.3*(N.innerWidth-ce)/N.innerWidth;return _e?t?{boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}:n?{transform:"translate3d(".concat(r,", 0, 0)"),WebkitTransform:"translate3d(".concat(r,", 0, 0)")}:t?{transform:"translate3d(".concat(o,", 0, 0)"),WebkitTransform:"translate3d(".concat(o,", 0, 0)"),boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}};return d.useEffect((function(){if(ye&&ye!==o&&!Se&&!we){var e,t=d.Children.toArray(p).map((function(e){return Ge(e.props)})).find((function(e){return e===ye||e===o})),n=t===o;_.current[ye]=null===(e=S)||void 0===e?void 0:e.getScroll().y,Pe?De(ye,n):((0,H.blurActiveElement)(y),B([ye,o]),q(ye),Z(o),Y(null),D(!0),G(n),$e.supported||ze.set())}if(ye&&ye!==o&&Se){var a=o,r=ye;Ie&&(_.current[Ie]=0),pe(null),ve(null),ee(!1),be(null),ie(0),se(0),Y(a),B([a]),b.current=function(){var e;null!==a&&(null===(e=S)||void 0===e||e.scrollTo(0,_.current[a]));Ae&&Ae({isBack:!0,from:r,to:a})}}var i;(!Me&&_e&&xe(Te(de),Ye,O===g.IOS?600:300),Me!==nt.fail||_e||null===F)||(null===(i=S)||void 0===i||i.scrollTo(0,_.current[F]));ye!==o&&Ce&&(Ne(!1),Z(null),q(null),D(!1),B([o]),Y(o))}),[o,F,ze,Ce,p,Pe,y,De,m,Oe,O,ye,we,Ae,Ie,Me,Se,S,de,_e,$,Ye,xe]),d.createElement(Re,(0,M._)((0,l._)({Component:"section"},k),{className:(0,a.classNames)("vkuiView",O===g.IOS&&(0,a.classNames)("vkuiView--ios","vkuiInternalView--ios"),!Pe&&T&&"vkuiView--animated",!Pe&&$&&"vkuiView--swiping-back",Pe&&"vkuiView--no-motion",h),onMoveX:function(e){var t,n,a,o,i;if(!(O!==g.IOS||ne||(n=e,i=n.originalEvent.target,Boolean(null===(o=i)||void 0===o||null===(a=o.closest)||void 0===a?void 0:a.call(o,"input, textarea, [data-vkui-swipe-back=false]")))||Pe))if(null===(t=w)||void 0===t?void 0:t.isWebView){if(v&&!(T&&e.startX<=70)){if(!$&&e.startX<=70&&r&&r.length>1){var l;if(m)if("prevent"===m(F))return void ae(!0);if(null!==F)(0,H.blurActiveElement)(y),_.current[F]=null===(l=S)||void 0===l?void 0:l.getScroll().y;ee(!0),ie(e.startX),pe(F),ve(r.slice(-2)[0])}if($){var c=0;c=e.shiftX<0?0:e.shiftX>N.innerWidth-re?N.innerWidth:e.shiftX,se(c)}}}else(e.startX<=70||e.startX>=N.innerWidth-70)&&!Ce&&Ne(!0)},onEnd:We}),d.createElement("div",{className:"vkuiView__panels"},Oe.map((function(e){var t,n=Ge(e.props),o=T&&n===(V?K:Q),r=n===K||n===fe||n===de||n===Q&&V;return d.createElement("div",{className:(0,a.classNames)("vkuiView__panel",n===F&&"vkuiView__panel--active",n===K&&"vkuiView__panel--prev",n===Q&&"vkuiView__panel--next",n===fe&&"vkuiView__panel--swipe-back-prev",n===de&&"vkuiView__panel--swipe-back-next",_e===nt.success&&"vkuiView__panel--swipe-back-success",_e===nt.fail&&"vkuiView__panel--swipe-back-failed"),onAnimationEnd:o?Le:void 0,ref:function(e){return void 0!==n&&(E.current[n]=e)},style:Ve(n),key:n},d.createElement("div",{className:"vkuiView__panel-in",style:{marginTop:r?-(null!==(t=_.current[n])&&void 0!==t?t:0):void 0}},d.createElement(je,{entering:n===Q||n===de},e)))}))))}),it=(at={none:"vkuiPanel--sizeX-none"},(0,i._)(at,B.COMPACT,"vkuiPanel--sizeX-compact"),(0,i._)(at,B.REGULAR,"vkuiPanel--sizeX-regular"),at),lt=function(e){var t=e.centered,n=void 0!==t&&t,o=e.children,r=e.getRootRef,i=(e.nav,e.className),s=(0,c._)(e,["centered","children","getRootRef","nav","className"]),u=he(),v=p().sizeX,m=void 0===v?"none":v;return d.createElement("div",(0,M._)((0,l._)({},s),{ref:r,className:(0,a.classNames)("vkuiPanel",it[m],n&&"vkuiInternalPanel--centered",i)}),d.createElement(Re,{Component:He,className:(0,a.classNames)("vkuiPanel__in","vkuiInternalPanel__in")},d.createElement("div",{className:"vkuiPanel__in-before"}),n?d.createElement("div",{className:"vkuiPanel__centered"},o):o,u===g.IOS&&d.createElement("div",{className:"vkuiInternalPanel__fade"}),d.createElement("div",{className:"vkuiPanel__in-after"})))},ct={ios:"vkuiPanelHeaderButton--ios",android:"vkuiPanelHeaderButton--android",vkcom:"vkuiPanelHeaderButton--vkcom"},st=function(e){var t=e.primary,n=e.children,a=he();return a===g.IOS?d.createElement(Q,{Component:"span",level:"3",weight:t?"1":"3"},n):d.createElement(ee,{weight:a===g.VKCOM?void 0:"2"},n)},ut=((0,Xe.warnOnce)("PanelHeaderButton"),function(e){var t,n,o=e.children,r=e.primary,i=void 0!==r&&r,s=e.label,u=e.className,v=(0,c._)(e,["children","primary","label","className"]),m=(0,a.isPrimitiveReactNode)(o),f=(0,a.isPrimitiveReactNode)(s),p=he();switch(p){case g.IOS:t="background",n="opacity";break;case g.VKCOM:t="vkuiPanelHeaderButton--hover",n="vkuiPanelHeaderButton--active";break;default:t="background",n="background"}return d.createElement(xe,(0,M._)((0,l._)({Component:v.href?"a":"button"},v),{hoverMode:t,activeEffectDelay:200,activeMode:n,className:(0,a.classNames)("vkuiInternalPanelHeaderButton","vkuiPanelHeaderButton",ct.hasOwnProperty(p)?ct[p]:ct.android,m&&"vkuiPanelHeaderButton--primitive",!m&&!f&&"vkuiPanelHeaderButton--notPrimitive",u)}),m?d.createElement(st,{primary:i},o):o,f?d.createElement(st,{primary:i,className:"vkuiPanelHeaderButton__label"},s):s)}),dt=(0,i._)({mq:{className:"vkui-sizeX--compact-mq"}},B.COMPACT,{className:"vkui-sizeX--compact-forced"}),vt=(0,i._)({mq:{className:"vkui-sizeX--regular-mq"}},B.REGULAR,{className:"vkui-sizeX--regular-forced"}),mt=(0,i._)({mq:{className:"vkui-sizeY--compact-mq"}},B.COMPACT,{className:"vkui-sizeY--compact-forced"}),ft=(0,i._)({mq:{className:"vkui-sizeY--regular-mq"}},B.REGULAR,{className:"vkui-sizeY--regular-forced"}),pt={tabletMinus:{mq:{className:"vkui-viewWidth--tabletMinus-mq"},forced:{className:"vkui-viewWidth--tabletMinus-forced"}},tabletPlus:{mq:{className:"vkui-viewWidth--tabletPlus-mq"},forced:{className:"vkui-viewWidth--tabletPlus-forced"}}},ht={mobile:{mq:{className:"vkui-deviceType--mobile-mq"},forced:{className:"vkui-deviceType--mobile-forced"}},desktop:{mq:{className:"vkui-deviceType--desktop-mq"},forced:{className:"vkui-deviceType--desktop-forced"}}};function kt(e){return e.desktopPlus.matches?L.DESKTOP:e.tablet.matches?L.TABLET:e.smallTablet.matches?L.SMALL_TABLET:e.mobile.matches?L.MOBILE:L.SMALL_MOBILE}function gt(e){return e.mediumHeight.matches?x.MEDIUM:e.mobileLandscapeHeight.matches?x.SMALL:x.EXTRA_SMALL}function _t(e,t,n,a){var o=a===g.VKCOM;if((void 0===e||void 0===n)&&(void 0===e||void 0===t)||void 0===n&&void 0===t)return!!o||null;var r=e>=L.SMALL_TABLET,i=n||void 0!==t&&t>=x.MEDIUM;return r&&i||o}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";if("none"===t)return e.hasOwnProperty("none")?e.none:null;var n=[],a=W[t];return e.hasOwnProperty(a)&&n.push(e[a]),t>=L.MOBILE&&e.hasOwnProperty("mobilePlus")&&n.push(e.mobilePlus),t>=L.SMALL_TABLET?e.hasOwnProperty("smallTabletPlus")&&n.push(e.smallTabletPlus):e.hasOwnProperty("smallTabletMinus")&&n.push(e.smallTabletMinus),t>=L.TABLET?e.hasOwnProperty("tabletPlus")&&n.push(e.tabletPlus):e.hasOwnProperty("tabletMinus")&&n.push(e.tabletMinus),n.length>0?n.join(" "):null}var Et=function(e,t,n){return{compact:void 0===e?t.mq:e===B.COMPACT&&t[e],regular:void 0===e?n.mq:e===B.REGULAR&&n[e]}},Ct=function(){var e=d.useContext(f),t=e.sizeX,n=e.sizeY,a=e.viewWidth,o=e.viewHeight,r=e.hasPointer,i=he();return d.useMemo((function(){var e=Et(t,dt,vt),l=Et(n,mt,ft),c=function(e,t){return{tabletMinus:void 0===e?t.tabletMinus.mq:e<L.TABLET&&t.tabletMinus.forced,tabletPlus:void 0===e?t.tabletPlus.mq:e>=L.TABLET&&t.tabletPlus.forced}}(a,pt),s=function(e,t,n,a,o){var r=_t(e,t,n,a);return null===r?{mobile:o.mobile.mq,desktop:o.desktop.mq}:r?{mobile:!1,desktop:o.desktop.forced}:{mobile:o.mobile.forced,desktop:!1}}(a,o,r,i,ht);return{sizeX:e,sizeY:l,viewWidth:c,deviceType:s}}),[t,n,a,o,r,i])},Nt=d.createContext({updateModalHeight:function(){},registerModal:function(){},isInsideModal:!1});function yt(e,t){var n=d.useContext(Nt),a=d.useRef({}).current;return(0,I.useIsomorphicLayoutEffect)((function(){if(void 0!==e){n.registerModal((0,M._)((0,l._)({},a),{type:t,id:e}));var o=Object.keys(a).reduce((function(e,t){return(0,M._)((0,l._)({},e),(0,i._)({},t,null))}),{type:t,id:e});return function(){return n.registerModal(o)}}}),[]),{refs:d.useRef({modalElement:function(e){return a.modalElement=e},innerElement:function(e){return a.innerElement=e},headerElement:function(e){return a.headerElement=e},contentElement:function(e){return a.contentElement=e}}).current}}var St=function(e){var t=e.wide,n=e.className,o=(0,c._)(e,["wide","className"]);return d.createElement("div",(0,M._)((0,l._)({},o),{className:(0,a.classNames)("vkuiSeparator",!t&&"vkuiSeparator--padded",n)}),d.createElement("hr",{className:"vkuiSeparator__in"}))},Rt=function(e){var t=e.size,n=void 0===t?8:t,o=e.style,r=e.className,i=(0,c._)(e,["size","style","className"]),s=(0,l._)({height:n,padding:"".concat(n/2,"px 0")},o);return d.createElement("div",(0,M._)((0,l._)({},i),{className:(0,a.classNames)(r,"vkuiSpacing"),style:s}))},wt=((0,Xe.warnOnce)("PanelHeader"),function(e){var t=e.children,n=e.Component,a=void 0===n?"span":n,o=e.id;return he()===g.VKCOM?d.createElement(ee,{weight:"2",Component:a,id:o},t):d.createElement(a,{className:"vkuiPanelHeader__content-in",id:o},t)});wt.displayName="LegacyPanelHeaderContent";var Mt={ios:(0,a.classNames)("vkuiPanelHeader--ios","vkuiInternalPanelHeader--ios"),android:(0,a.classNames)("vkuiPanelHeader--android","vkuiInternalPanelHeader--android"),vkcom:(0,a.classNames)("vkuiPanelHeader--vkcom","vkuiInternalPanelHeader--vkcom")},It={none:"vkuiPanelHeader--sizeX-none",regular:"vkuiPanelHeader--sizeX-regular"},At=function(e){var t,n=e.before,o=e.after,r=e.separator,i=e.children,s=e.typographyProps,u=void 0===s?{}:s,v=u.Component,m=void 0===v?"span":v,f=(0,c._)(u,["Component"]),p=R().webviewType,h=d.useContext(Nt).isInsideModal,k=he();return t=d.isValidElement(i)&&i.type.displayName===wt.displayName?i:k===g.VKCOM?d.createElement(ee,(0,l._)({weight:"2",Component:m},f),i):d.createElement(m,(0,l._)({className:"vkuiPanelHeader__content-in"},f),i),d.createElement(d.Fragment,null,d.createElement(He,{fixed:!0,className:"vkuiPanelHeader__in"},d.createElement("div",{className:(0,a.classNames)("vkuiPanelHeader__before","vkuiInternalPanelHeader__before")},n),d.createElement("div",{className:"vkuiPanelHeader__content"},t),d.createElement("div",{className:(0,a.classNames)("vkuiPanelHeader__after","vkuiInternalPanelHeader__after")},(p===C.INTERNAL||h)&&o)),r&&k===g.VKCOM&&d.createElement(St,{className:"vkuiPanelHeader__separator",wide:!0}))},Ot=function(e){var t=e.before,n=e.children,o=e.after,r=e.separator,i=void 0===r||r,s=e.visor,u=void 0===s||s,v=e.transparent,m=void 0!==v&&v,f=e.shadow,h=e.getRef,k=e.getRootRef,_=e.fixed,b=e.className,E=e.typographyProps,N=(0,c._)(e,["before","children","after","separator","visor","transparent","shadow","getRef","getRootRef","fixed","className","typographyProps"]),y=he(),S=R().webviewType,w=d.useContext(Nt).isInsideModal,I=p().sizeX,A=void 0===I?"none":I,O=Ct().sizeX,P=void 0!==_?_:y!==g.VKCOM;return d.createElement("div",(0,M._)((0,l._)({},N),{className:(0,a.classNames)("vkuiPanelHeader","vkuiInternalPanelHeader",Mt.hasOwnProperty(y)?Mt[y]:Mt.android,m&&"vkuiPanelHeader--trnsp",f&&"vkuiPanelHeader--shadow",u&&(0,a.classNames)("vkuiPanelHeader--vis","vkuiInternalPanelHeader--vis"),i&&u&&(0,a.classNames)("vkuiPanelHeader--sep","vkuiInternalPanelHeader--sep"),S===C.VKAPPS&&!w&&"vkuiPanelHeader--vkapps",!t&&(0,a.classNames)("vkuiPanelHeader--no-before","vkuiInternalPanelHeader--no-before"),!o&&"vkuiPanelHeader--no-after",P&&"vkuiPanelHeader--fixed",A!==B.COMPACT&&It[A],b),ref:P?k:h}),P?d.createElement(Fe,{className:(0,a.classNames)("vkuiPanelHeader__fixed","vkuiInternalPanelHeader__fixed"),vertical:"top",getRootRef:h},d.createElement(At,{before:t,after:o,separator:i,typographyProps:E},n)):d.createElement(At,{before:t,after:o,separator:i,typographyProps:E},n),i&&u&&y!==g.VKCOM&&d.createElement(d.Fragment,null,O.compact&&d.createElement(St,{className:O.compact.className}),O.regular&&d.createElement(Rt,{className:O.regular.className,size:16})))};function Pt(e,t){return null!=e?e:t}function Tt(e,t){e.addEventListener?e.addEventListener("change",t):e.addListener(t)}function Dt(e,t){e.removeEventListener?e.removeEventListener("change",t):e.removeListener(t)}Ot.Content=wt;var Lt=n(1005),xt={window:void 0,mediaQueries:null},Bt=function(){var e=(0,H.useDOM)().window;return d.useMemo((function(){if(xt.window===e&&null!==xt.mediaQueries)return xt.mediaQueries;var t=e?e.matchMedia.bind(e):b;return xt.window=e,xt.mediaQueries={desktopPlus:t(Lt.MEDIA_QUERIES.DESKTOP_PLUS),smallTabletPlus:t(Lt.MEDIA_QUERIES.SMALL_TABLET_PLUS),tablet:t(Lt.MEDIA_QUERIES.TABLET),smallTablet:t(Lt.MEDIA_QUERIES.SMALL_TABLET),mobile:t(Lt.MEDIA_QUERIES.MOBILE),mediumHeight:t(Lt.MEDIA_QUERIES.MEDIUM_HEIGHT),mobileLandscapeHeight:t(Lt.MEDIA_QUERIES.MOBILE_LANDSCAPE_HEIGHT)},xt.mediaQueries}),[e])},zt=function(){a.canUseDOM||console.error("[useAdaptivityWithJSMediaQueries] Похоже, вы пытаетесь использовать хук вне браузера.\n\nПостарайтесь этого избегать, чтобы не было ошибок при гидратации: при SSR нет информации о размерах экрана.\n\nИспользуйте CSS Media Query или библиотеку по типу https://github.com/artsy/fresnel.");var e=d.useContext(f),t=e.viewWidth,n=e.viewHeight,o=e.sizeX,r=e.sizeY,i=e.hasPointer,l=e.hasHover,c=he(),u=Bt(),v=(0,s._)(d.useState((function(){return[Pt(t,kt(u)),Pt(n,gt(u))]})),2),m=(0,s._)(v[0],2),p=m[0],h=m[1],k=v[1],g=d.useMemo((function(){var e=Pt(i,a.hasMouse),s=Pt(l,a.hasHover),u=Pt(t,p),d=Pt(n,h),v=Pt(o,function(e){return e<=L.MOBILE?B.COMPACT:B.REGULAR}(u)),m=Pt(r,function(e,t,n){return e>=L.SMALL_TABLET&&n||t<=x.EXTRA_SMALL?B.COMPACT:B.REGULAR}(u,d,e));return{viewWidth:u,viewHeight:d,sizeX:v,sizeY:m,hasPointer:e,hasHover:s,isDesktop:_t(u,d,e,c)}}),[p,h,t,n,o,r,i,l,c]);return d.useEffect((function(){var e=function(){k((function(e){var a=Pt(t,kt(u)),o=Pt(n,gt(u)),r=(0,s._)(e,2),i=r[0],l=r[1];return i!==a||l!==o?[a,o]:e}))};return t||[u.desktopPlus,u.tablet,u.smallTablet,u.mobile].forEach((function(t){return Tt(t,e)})),n||[u.mediumHeight,u.mobileLandscapeHeight].forEach((function(t){return Tt(t,e)})),function(){[u.desktopPlus,u.tablet,u.smallTablet,u.mobile,u.mediumHeight,u.mobileLandscapeHeight].forEach((function(t){return Dt(t,e)}))}}),[u,t,n]),g},Ht=n(58),Ft=function(e,t){var n;switch(e){case g.ANDROID:n="vkBase";break;case g.IOS:n="vkIOS";break;case g.VKCOM:n="vkCom";break;default:n=e}return"vkui--".concat(n,"--").concat(t)},Yt=function(e){var t=e.children,n=e.platform,o=e.appearance;return d.createElement(d.Fragment,null,d.Children.map(t,(function(e){return d.isValidElement(e)?d.cloneElement(e,{className:(0,a.classNames)(e.props.className,Ft(n,o))}):e})))};function Wt(e){var t=e.children,n=(0,c._)(e,["children"]),a=R(),o=Ue((0,l._)({},a,n));return d.createElement(S.Provider,{value:o},t)}var Vt=function(e){var t=e.appearance,n=e.children,a=he();return d.createElement(Wt,{appearance:t},d.createElement(Yt,{platform:a,appearance:t},n))},Gt=function(e){var t=e.children,n=e.className,a=e.forcePortal,o=e.portalRoot,r=void 0===o?null:o,i=d.useContext(G),l=i.portalRoot,c=i.mode,s=i.disablePortal,u=w();if(!le())return null;var v=null!=a?a:"full"!==c,m=function(e,t){if(!e)return t;return V(e)?e.current:e}(r,l);return(!!(r&&v)||!s&&m&&v)&&m?(0,Ht.createPortal)(d.createElement(Vt,{appearance:u},d.createElement("div",{className:n},t)),m):d.createElement(d.Fragment,null,t)};var Xt=function(e){var t=e.children,n=zt().isDesktop;return d.createElement("div",{className:(0,a.classNames)("vkuiPopoutRoot__popout",n&&"vkuiPopoutRoot__popout--absolute")},t)},Ut=function(e){var t=e.children;return d.createElement("div",{className:"vkuiPopoutRoot__modal"},t)},Kt=function(e){var t=e.popout,n=e.modal,o=e.children,r=e.getRootRef,i=e.className,s=(0,c._)(e,["popout","modal","children","getRootRef","className"]),u=(0,H.useDOM)().document;return d.useEffect((function(){t&&(0,H.blurActiveElement)(u)}),[u,t]),d.createElement("div",(0,M._)((0,l._)({},s),{className:(0,a.classNames)("vkuiPopoutRoot",i),ref:r}),o,d.createElement(Gt,null,!!t&&d.createElement(Xt,null,t),!!n&&d.createElement(Ut,null,n)))},qt=function(e){var t=e.popout,n=e.modal,o=e.header,r=e.children,i=e.getRootRef,s=e.getRef,u=e.className,v=(0,c._)(e,["popout","modal","header","children","getRootRef","getRef","className"]),m=he();return d.createElement(Kt,{className:(0,a.classNames)("vkuiSplitLayout",m===g.IOS&&"vkuiSplitLayout--ios"),popout:t,modal:n,getRootRef:i},o,d.createElement("div",(0,M._)((0,l._)({},v),{ref:s,className:(0,a.classNames)("vkuiSplitLayout__inner",!!o&&"vkuiSplitLayout__inner--header",u)}),r))},jt={none:(0,a.classNames)("vkuiSplitCol--viewWidth-none","vkuiInternalSplitCol--viewWidth-none"),tabletMinus:"vkuiSplitCol--viewWidth-tabletMinus",smallTabletPlus:"vkuiSplitCol--viewWidth-smallTabletPlus",tabletPlus:"vkuiInternalSplitCol--viewWidth-tabletPlus"};(0,Xe.warnOnce)("SplitCol");var Qt=function(e){var t=e.children,n=e.width,o=e.maxWidth,r=e.minWidth,i=e.spaced,u=e.animate,v=e.fixed,m=e.style,f=e.autoSpaced,h=e.stretchedOnMobile,k=e.className,g=(0,c._)(e,["children","width","maxWidth","minWidth","spaced","animate","fixed","style","autoSpaced","stretchedOnMobile","className"]),_=d.useRef(null),b=p().viewWidth,E=function(e){var t=p().viewWidth,n=(0,s._)(d.useState(Boolean(e)),2),a=n[0],o=n[1],r=Bt();return d.useEffect((function(){if(void 0===e){if(void 0===t){var n=function(){return o(!r.smallTabletPlus.matches)};return n(),Tt(r.smallTabletPlus,n),function(){Dt(r.smallTabletPlus,n)}}o(t<L.TABLET)}else o(e)}),[e,t,r]),a}(u),C=Ue({colRef:_,animate:E});return d.createElement("div",(0,M._)((0,l._)({},g),{style:(0,M._)((0,l._)({},m),{width:n,maxWidth:o,minWidth:r}),ref:_,className:(0,a.classNames)("vkuiSplitCol",bt(jt,b),i&&(0,a.classNames)("vkuiSplitCol--spaced","vkuiInternalSplitCol--spaced"),void 0===i&&(0,a.classNames)("vkuiSplitCol--spaced-none","vkuiInternalSplitCol--spaced-none"),f&&(0,a.classNames)("vkuiSplitCol--spaced-auto","vkuiInternalSplitCol--spaced-auto"),v&&"vkuiSplitCol--fixed",h&&"vkuiSplitCol--stretched-on-mobile",k)}),d.createElement(Be.Provider,{value:C},v?d.createElement("div",{className:"vkuiSplitCol__fixedInner"},t):t))};var Zt=n(1474),Jt=n(1030),$t=n(1475),en=n(99),tn=function(e){var t=e.size,n=e.direction;return"m"===t?"left"===n?d.createElement(Zt.Icon16ChevronLeft,null):d.createElement(Jt.Icon16Chevron,null):"left"===n?d.createElement($t.Icon24ChevronCompactLeft,null):d.createElement(en.Icon24Chevron,null)},nn=function(e){var t=e.size,n=void 0===t?"l":t,o=e.offsetY,r=e.direction,i=e.className,s=e.getRootRef,u=e.children,v=void 0===u?d.createElement(tn,{direction:r,size:n}):u,m=(0,c._)(e,["size","offsetY","direction","className","getRootRef","children"]);return d.createElement("button",(0,l._)({className:(0,a.classNames)("vkuiScrollArrow",{m:"vkuiScrollArrow--size-m",l:"vkuiScrollArrow--size-l"}[n],{left:"vkuiScrollArrow--direction-left",right:"vkuiScrollArrow--direction-right"}[r],i),ref:s},m),d.createElement("span",{className:"vkuiScrollArrow__icon",style:o?{top:o}:void 0},v))};function an(){return performance&&performance.now?performance.now():Date.now()}var on=function(e){return Math.ceil(e.scrollLeft)};function rn(e){var t=e.scrollElement,n=e.getScrollPosition,a=e.animationQueue,o=e.onScrollToRightBorder,r=e.onScrollEnd,i=e.onScrollStart,l=e.initialScrollWidth,c=e.scrollAnimationDuration,s=void 0===c?250:c;if(t&&n){var u=l-t.offsetWidth,d=on(t),v=n(d);i(),v>=u&&(o(),v=u);var m=an();!function e(){if(t){var n,o=an(),i=Math.min((o-m)/s,1),l=(n=i,.5*(1-Math.cos(Math.PI*n))),c=d+(v-d)*l;t.scrollLeft=Math.ceil(c),on(t)===Math.max(0,v)||1===i?(r(),a.shift(),a.length>0&&a[0]()):requestAnimationFrame(e)}else r()}()}}var ln=function(e){var t=e.children,n=e.getScrollToLeft,o=e.getScrollToRight,r=e.showArrows,i=void 0===r||r,u=e.arrowSize,v=void 0===u?"l":u,m=e.arrowOffsetY,f=e.scrollAnimationDuration,p=void 0===f?250:f,h=e.getRef,k=e.className,g=e.scrollOnAnyWheel,_=void 0!==g&&g,b=(0,c._)(e,["children","getScrollToLeft","getScrollToRight","showArrows","arrowSize","arrowOffsetY","scrollAnimationDuration","getRef","className","scrollOnAnyWheel"]),E=(0,s._)(d.useState(!1),2),C=E[0],N=E[1],y=(0,s._)(d.useState(!1),2),S=y[0],R=y[1],w=d.useRef(!1),I=fe(h),A=d.useRef([]),O=ce(),P=d.useCallback((function(e){var t=I.current;A.current.push((function(){var n,a;return rn({scrollElement:t,getScrollPosition:e,animationQueue:A.current,onScrollToRightBorder:function(){return R(!1)},onScrollEnd:function(){return w.current=!1},onScrollStart:function(){return w.current=!0},initialScrollWidth:(null===(a=t)||void 0===a||null===(n=a.firstElementChild)||void 0===n?void 0:n.scrollWidth)||0,scrollAnimationDuration:p})})),1===A.current.length&&A.current[0]()}),[p,I]),T=d.useCallback((function(){var e=null!=n?n:function(e){return e-I.current.offsetWidth};P(e)}),[n,P,I]),D=d.useCallback((function(){var e=null!=o?o:function(e){return e+I.current.offsetWidth};P(e)}),[o,P,I]),L=d.useCallback((function(){if(i&&O&&I.current&&!w.current){var e=I.current;N(e.scrollLeft>0),R(on(e)+e.offsetWidth<e.scrollWidth)}}),[O,I,i]),x=(0,Se.useEventListener)("scroll",L);d.useEffect((function(){I.current&&x.add(I.current)}),[x,I]),d.useEffect(L,[I,t,L]);var B=d.useCallback((function(e){I.current.scrollBy({left:e.deltaX+e.deltaY,behavior:"auto"}),e.preventDefault()}),[I]),z=(0,Se.useEventListener)("wheel",B);return d.useEffect((function(){return I.current&&_?(z.add(I.current),z.remove):a.noop}),[z,I,_]),d.createElement("div",(0,M._)((0,l._)({},b),{className:(0,a.classNames)("vkuiHorizontalScroll","vkuiInternalHorizontalScroll","always"===i&&"vkuiHorizontalScroll--withConstArrows",k)}),i&&(O||void 0===O)&&C&&d.createElement(nn,{size:v,offsetY:m,direction:"left",className:(0,a.classNames)("vkuiHorizontalScroll__arrow","vkuiHorizontalScroll__arrowLeft"),onClick:T}),i&&(O||void 0===O)&&S&&d.createElement(nn,{size:v,offsetY:m,direction:"right",className:(0,a.classNames)("vkuiHorizontalScroll__arrow","vkuiHorizontalScroll__arrowRight"),onClick:D}),d.createElement("div",{className:"vkuiHorizontalScroll__in",ref:I},d.createElement("div",{className:"vkuiHorizontalScroll__in-wrapper"},t)))},cn=function(e){var t=e.alignY,n=void 0===t?"center":t,o=e.alignX,r=void 0===o?"center":o,i=e.closing,u=void 0!==i&&i,v=e.hasMask,m=void 0===v||v,f=e.fixed,p=void 0===f||f,h=e.children,k=e.onClick,_=e.className,b=(0,c._)(e,["alignY","alignX","closing","hasMask","fixed","children","onClick","className"]),E=he(),C=(0,s._)(d.useState(!m),2),N=C[0],y=C[1],S=d.useRef(null),R=function(e){e&&"vkui-animation-full-fade-in"!==e.animationName||y(!0)},w=ke(R,E===g.IOS?300:200);d.useEffect((function(){!N&&w.set()}),[w,N]);var I=(0,H.useDOM)().window;return(0,F.useGlobalEventListener)(I,"touchmove",(function(e){return e.preventDefault()}),{passive:!1}),d.createElement("div",(0,M._)((0,l._)({},b),{className:(0,a.classNames)("vkuiPopoutWrapper",{center:"vkuiPopoutWrapper--alignY-center",top:"vkuiPopoutWrapper--alignY-top",bottom:"vkuiPopoutWrapper--alignY-bottom"}[n],{center:"vkuiPopoutWrapper--alignX-center",left:"vkuiPopoutWrapper--alignX-left",right:"vkuiPopoutWrapper--alignX-right"}[r],u&&"vkuiPopoutWrapper--closing",N&&"vkuiPopoutWrapper--opened",p&&"vkuiPopoutWrapper--fixed",m&&"vkuiPopoutWrapper--masked",_),onAnimationEnd:N?void 0:R,ref:S}),d.createElement("div",{className:"vkuiPopoutWrapper__container"},d.createElement("div",{className:"vkuiPopoutWrapper__overlay",onClick:k}),d.createElement("div",{className:"vkuiPopoutWrapper__content"},h)))},sn=v["useId".toString()],un=0;var dn=null!=sn?sn:function(){var e=(0,s._)(d.useState((function(){return un++})),1)[0];return":r".concat(e,":")},vn=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(),mn=function(e){var t=e.Component,n=void 0===t?"div":t,a=e.onClose,o=e.restoreFocus,r=void 0===o||o,i=e.timeout,u=void 0===i?0:i,v=e.getRootRef,m=e.children,f=(0,c._)(e,["Component","onClose","restoreFocus","timeout","getRootRef","children"]),p=fe(v),h=(0,H.useDOM)(),k=h.document,g=h.window,_=(0,s._)(d.useState(null),2),b=_[0],E=_[1],C=(0,s._)(d.useState(null),2),N=C[0],y=C[1],S=d.useContext(G).keyboardInput,R=ke((function(){var e,t;S&&!(null===(e=p.current)||void 0===e?void 0:e.contains(k.activeElement))&&(null===(t=b)||void 0===t?void 0:t.length)&&b[0].focus()}),u);(0,I.useIsomorphicLayoutEffect)((function(){R.set()}),[]),(0,I.useIsomorphicLayoutEffect)((function(){if(p.current){var e=[];Array.prototype.forEach.call(p.current.querySelectorAll(vn),(function(t){var n=g.getComputedStyle(t),a=n.display,o=n.visibility;"none"!==a&&"hidden"!==o&&e.push(t)})),0===e.length&&e.push(p.current),E(e)}}),[m]);var w=ke((function(){N&&N.focus()}),u);(0,I.useIsomorphicLayoutEffect)((function(){if(r&&k.activeElement)return y(k.activeElement),function(){w.set()}}),[r]);return(0,F.useGlobalEventListener)(k,"keydown",(function(e){var t;if(D(e)===P.TAB&&(null===(t=b)||void 0===t?void 0:t.length)){var n=b.length-1,o=b.findIndex((function(t){return t===e.target})),r=-1===o||o===n&&!e.shiftKey;if(r||0===o&&e.shiftKey){e.preventDefault();var i=b[r?0:n];return i!==k.activeElement&&i.focus(),!1}}return a&&D(e)===P.ESCAPE&&a(),!0}),{capture:!0}),d.createElement(n,(0,l._)({tabIndex:-1,ref:p},f),m)},fn=n(1476),pn=function(e){var t=e["aria-label"],n=void 0===t?"Закрыть":t,o=e.className,r=(0,c._)(e,["aria-label","className"]);return d.createElement(xe,(0,M._)((0,l._)({className:(0,a.classNames)("vkuiModalDismissButton",o)},r),{"aria-label":n,activeMode:"vkuiModalDismissButton--active",hoverMode:"vkuiModalDismissButton--hover"}),d.createElement(fn.Icon20Cancel,null))},hn=function(e){return he()===g.IOS?d.createElement(Q,(0,l._)({className:"vkuiAlert__header",weight:"1",level:"3"},e)):d.createElement(Q,(0,l._)({className:"vkuiAlert__header",weight:"2",level:"2"},e))},kn=function(e){switch(he()){case g.VKCOM:return d.createElement(oe,(0,l._)({className:"vkuiAlert__text"},e));case g.IOS:return d.createElement(re,(0,l._)({className:"vkuiAlert__text"},e));default:return d.createElement(ee,(0,l._)({Component:"span",className:"vkuiAlert__text",weight:"3"},e))}},gn=function(e){var t=e.action,n=e.onItemClick,o=(0,c._)(e,["action","onItemClick"]),r=he(),i=d.useCallback((function(){return n(t)}),[n,t]);if(r===g.IOS){var s=t.title,u=(t.action,t.autoClose,t.mode),v=(0,c._)(t,["title","action","autoClose","mode"]);return d.createElement(xe,(0,l._)({Component:v.href?"a":"button",className:(0,a.classNames)("vkuiAlert__action","destructive"===u&&"vkuiAlert__action--mode-destructive","cancel"===u&&"vkuiAlert__action--mode-cancel"),onClick:i},v,o),s)}var m="tertiary";return r===g.VKCOM&&(m="cancel"===t.mode?"secondary":"primary"),d.createElement(Ve,{className:(0,a.classNames)("vkuiAlert__button","cancel"===t.mode&&"vkuiAlert__button--mode-cancel"),mode:m,size:"m",onClick:i,Component:t.Component,href:t.href,target:t.target},t.title)},_n=function(e){var t=e.actions,n=void 0===t?[]:t,o=e.actionsLayout,r=void 0===o?"horizontal":o,i=e.children,u=e.className,v=e.style,m=e.text,f=e.header,p=e.onClose,h=e.dismissLabel,k=void 0===h?"Закрыть предупреждение":h,_=(0,c._)(e,["actions","actionsLayout","children","className","style","text","header","onClose","dismissLabel"]),b=dn(),E="vkui-alert-".concat(b,"-header"),C="vkui-alert-".concat(b,"-text"),N=he(),y=zt().isDesktop,S=tt().waitTransitionFinish,R=(0,s._)(d.useState(!1),2),w=R[0],I=R[1],A=d.useRef(null),O=N===g.VKCOM?"horizontal":r,P=N===g.IOS?300:200,T=d.useCallback((function(){I(!0),S(A.current,(function(e){e&&"opacity"!==e.propertyName||p()}),P)}),[A,S,p,P]),D=d.useCallback((function(e){var t=e.action;e.autoClose?(I(!0),S(A.current,(function(e){e&&"opacity"!==e.propertyName||(p(),t&&t())}),P)):t&&t()}),[A,S,p,P]);return(0,X.useScrollLock)(),d.createElement(cn,{className:u,closing:w,style:v,onClick:T},d.createElement(mn,(0,M._)((0,l._)({},_),{getRootRef:A,onClick:me,onClose:T,timeout:P,className:(0,a.classNames)("vkuiAlert",N===g.IOS&&"vkuiAlert--ios",N===g.VKCOM&&"vkuiAlert--vkcom","vertical"===O?"vkuiAlert--v":"vkuiAlert--h",w&&"vkuiAlert--closing",y&&"vkuiAlert--desktop"),role:"alertdialog","aria-modal":!0,"aria-labelledby":E,"aria-describedby":C}),d.createElement("div",{className:"vkuiAlert__content"},(0,a.hasReactNode)(f)&&d.createElement(hn,{id:E},f),(0,a.hasReactNode)(m)&&d.createElement(kn,{id:C},m),i),d.createElement("div",{className:"vkuiAlert__actions"},n.map((function(e,t){return d.createElement(gn,{key:t,action:e,onItemClick:D})}))),y&&d.createElement(pn,{onClick:T,"aria-label":k})))},bn=d.createContext({}),En=function(e){return e.stopPropagation()},Cn=function(e){var t=e.children,n=e.closing,o=(e.toggleRef,e.className),r=(0,c._)(e,["children","closing","toggleRef","className"]),i=zt().sizeY,s=he();return d.createElement(mn,(0,M._)((0,l._)({},r),{onClick:En,className:(0,a.classNames)("vkuiActionSheet",s===g.IOS&&"vkuiActionSheet--ios",n&&"vkuiActionSheet--closing",i===B.COMPACT&&"vkuiActionSheet--sizeY-compact",o)}),t)},Nn=a.noop;function yn(e){return!e.startsWith("auto")}function Sn(e){var t=e.replace(/auto-|auto/,"");return"start"===t||"end"===t?t:null}function Rn(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"max-content",o={position:e,top:n,right:"auto",bottom:"auto",left:t};return null!==a&&(o.width=a),o}var wn=n(635),Mn=n(1478),In=n(631),An=n(1031),On={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function Pn(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:On,o=a.elementResize,r=void 0!==o&&o,i=(0,c._)(a,["elementResize"]),s=(0,An.autoUpdate)(e,t,n,(0,M._)((0,l._)({},i),{elementResize:!1})),u=null;if(r){var d=!0;u=new MutationObserver((function(){d||n(),d=!1})),(0,In._)(e,Element)&&u.observe(e,{childList:!0,subtree:!0}),u.observe(t,{childList:!0,subtree:!0})}return function(){null!==u&&(u.disconnect(),u=null),s()}}var Tn=function(e){return d.createElement("svg",(0,l._)({width:20,height:9,viewBox:"0 0 ".concat(20," ").concat(9),xmlns:"http://www.w3.org/2000/svg"},e),d.createElement("path",{d:"M10 0c3 0 6 8 10 8v1H0V8c3.975 0 7-8 10-8Z",fill:"currentColor"}))},Dn={right:"vkuiPopperArrow--placement-right",bottom:"vkuiPopperArrow--placement-bottom",left:"vkuiPopperArrow--placement-left"},Ln=function(e){var t=e.coords,n=e.arrowClassName,o=e.placement,r=e.getRootRef,i=e.Icon,l=void 0===i?Tn:i,c=(0,s._)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return e.startsWith("top")?["bottom",{top:"100%",left:t.x}]:e.startsWith("right")?["left",{top:t.y,left:0}]:e.startsWith("bottom")?[void 0,{bottom:"100%",left:t.x}]:["right",{top:t.y,right:0}]}(o,t),2),u=c[0],v=c[1];return d.createElement("div",{ref:r,style:v,className:(0,a.classNames)("vkuiPopperArrow",u&&Dn[u])},d.createElement(l,{className:(0,a.classNames)("vkuiPopperArrow__in",n)}))};var xn=function(e){var t=e.targetRef,n=e.children,o=e.getRef,r=e.placement,i=void 0===r?"bottom-start":r,v=e.onPlacementChange,m=e.arrow,f=e.arrowHeight,p=void 0===f?8:f,h=e.arrowPadding,k=void 0===h?10:h,g=e.arrowClassName,_=e.ArrowIcon,b=void 0===_?Tn:_,E=e.sameWidth,C=e.offsetDistance,N=void 0===C?8:C,y=e.offsetSkidding,S=void 0===y?0:y,R=e.forcePortal,w=void 0===R||R,I=e.portalRoot,A=e.autoUpdateOnTargetResize,O=void 0!==A&&A,P=e.style,T=e.customMiddlewares,D=e.renderContent,L=e.className,x=(0,c._)(e,["targetRef","children","getRef","placement","onPlacementChange","arrow","arrowHeight","arrowPadding","arrowClassName","ArrowIcon","sameWidth","offsetDistance","offsetSkidding","forcePortal","portalRoot","autoUpdateOnTargetResize","style","customMiddlewares","renderContent","className"]),B=(0,s._)(d.useState(null),2),z=B[0],H=B[1],F=yn(i),Y=d.useMemo((function(){var e,t=[(0,wn.offset)({crossAxis:S,mainAxis:m?N+p:N})];(F?t.push((0,wn.flip)()):t.push((0,wn.autoPlacement)({alignment:Sn(i)})),t.push((0,wn.shift)()),E&&t.push((0,wn.size)({apply:function(e){var t=e.rects,n=e.elements;Object.assign(n.floating.style,{width:"".concat(t.reference.width,"px")})}})),T)&&(e=t).push.apply(e,(0,u._)(T));return m&&t.push((0,Mn.arrow)({element:z,padding:k})),t}),[S,z,m,p,k,N,F,E,T,i]),W=(0,Mn.useFloating)({placement:F?i:void 0,middleware:Y,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pn.apply(void 0,(0,u._)(t).concat([{elementResize:O}]))}}),V=W.x,G=W.y,X=W.strategy,U=W.placement,K=W.refs,q=W.middlewareData.arrow,j=fe(K.setFloating,o);d.useEffect((function(){K.setReference(t.current)}),[K,t]),d.useEffect((function(){U&&v&&v({placement:U})}),[v,U]);var Q=d.createElement("div",(0,M._)((0,l._)({},x),{className:(0,a.classNames)("vkuiPopper",L),ref:j,style:(0,l._)({},P,Rn(X,V,G,E?null:void 0))}),m&&d.createElement(Ln,{coords:q,placement:U,arrowClassName:g,getRootRef:H,Icon:b}),D?D({className:""}):n);return d.createElement(Gt,{forcePortal:w,portalRoot:I},Q)},Bn=(0,Xe.warnOnce)("ActionSheet");var zn=function(e){var t=e.children,n=e.toggleRef,o=(e.closing,e.popupDirection),r=e.onClose,i=e.className,s=e.style,u=e.popupOffsetDistance,v=void 0===u?0:u,m=(0,c._)(e,["children","toggleRef","closing","popupDirection","onClose","className","style","popupOffsetDistance"]),f=(0,H.useDOM)().document,p=he(),h=zt().sizeY,k=d.useRef(null);Nn((function(){var e;((e=n)&&"current"in e?e.current:e)||Bn('Свойство "toggleRef" не передано',"error")}),[n]);var _=d.useMemo((function(){return"top"===o||"function"==typeof o&&"top"===o(k)}),[o,k]),b=(0,Se.useEventListener)("click",(function(e){var t,n,a=null===(t=k)||void 0===t?void 0:t.current;a&&!a.contains(e.target)&&(null===(n=r)||void 0===n||n())}));d.useEffect((function(){setTimeout((function(){b.add(f.body)}))}),[b,f]);var E=d.useCallback((function(e){return e.stopPropagation()}),[]),C=d.useMemo((function(){return V(n)?n:{current:n}}),[n]);return d.createElement(xn,{targetRef:C,offsetDistance:v,placement:_?"top-end":"bottom-end",className:(0,a.classNames)("vkuiActionSheet",p===g.IOS&&"vkuiActionSheet--ios","vkuiActionSheet--desktop",h===B.COMPACT&&"vkuiActionSheet--sizeY-compact",i),style:s,getRef:k,forcePortal:!1},d.createElement(mn,(0,M._)((0,l._)({onClose:r},m),{onClick:E}),t))},Hn=function(e){var t=e.children,n=e.className,o=e.header,r=e.text,i=e.style,u=e.iosCloseItem,v=e.popupDirection,m=void 0===v?"bottom":v,f=e.popupOffsetDistance,p=(0,c._)(e,["children","className","header","text","style","iosCloseItem","popupDirection","popupOffsetDistance"]),h=he(),k=(0,s._)(d.useState(!1),2),_=k[0],b=k[1],E=function(){return b(!0)},C=d.useRef(a.noop),N=zt().isDesktop;(0,X.useScrollLock)(!N);var y=h===g.IOS?300:200;N&&(y=0);var S=ke((function(){p.onClose(),C.current(),C.current=a.noop}),y);d.useEffect((function(){_?S.set():S.clear()}),[_,S]);var R=Ue({onItemClick:d.useCallback((function(e,t,n){return function(a){a.persist(),t&&t(a),n?(C.current=function(){return e&&e(a)},b(!0)):e&&e(a)}}),[]),isDesktop:N}),w=N?zn:Cn,I=N?Object.assign(p,{popupOffsetDistance:f,popupDirection:m}):p,A=d.createElement(bn.Provider,{value:R},d.createElement(w,(0,M._)((0,l._)({closing:_,timeout:y},I),{onClose:E,className:N?n:void 0,style:N?i:void 0}),(o||r)&&d.createElement("header",{className:"vkuiActionSheet__header"},o&&d.createElement(oe,{weight:"2",className:"vkuiActionSheet__title"},o),r&&d.createElement(oe,{className:"vkuiActionSheet__text"},r)),t,h===g.IOS&&!N&&u));return N?A:d.createElement(cn,{closing:_,alignY:"bottom",className:n,style:i,onClick:E,hasMask:!0,fixed:!0},A)},Fn=n(1032),Yn=n(403),Wn=function(e){var t=e.children,n=e.autoClose,o=e.mode,r=void 0===o?"default":o,i=e.meta,s=e.subtitle,u=e.before,v=e.selectable,m=e.value,f=e.name,p=e.checked,h=e.defaultChecked,k=e.onChange,_=e.onClick,b=e.onImmediateClick,E=e.multiline,C=void 0!==E&&E,N=e.iconChecked,y=e.className,S=(0,c._)(e,["children","autoClose","mode","meta","subtitle","before","selectable","value","name","checked","defaultChecked","onChange","onClick","onImmediateClick","multiline","iconChecked","className"]),R=he(),w=d.useContext(bn),I=w.onItemClick,A=void 0===I?function(){return a.noop}:I,O=w.isDesktop,P=zt().sizeY,T=N||(P===B.COMPACT?d.createElement(Fn.Icon20CheckCircleOn,null):d.createElement(Yn.Icon24CheckCircleOn,null)),D=S.href?"a":"div";v&&(D="label");var L=s||i||v,x=!L&&!u&&R===g.IOS;return d.createElement(xe,(0,M._)((0,l._)({Component:D},S),{onClick:v?_:A(_,b,Boolean(n)),activeMode:R===g.IOS?"vkuiActionSheetItem--active":void 0,className:(0,a.classNames)("vkuiActionSheetItem",R===g.IOS&&"vkuiActionSheetItem--ios","cancel"===r&&"vkuiActionSheetItem--mode-cancel","destructive"===r&&"vkuiActionSheetItem--mode-destructive",P===B.COMPACT&&"vkuiActionSheetItem--sizeY-compact",L&&"vkuiActionSheetItem--rich",O&&"vkuiActionSheetItem--desktop",v&&"vkuiActionSheetItem--selectable",y)}),u&&d.createElement("div",{className:"vkuiActionSheetItem__before"},u),d.createElement("div",{className:(0,a.classNames)("vkuiActionSheetItem__container",!C&&"vkuiActionSheetItem--ellipsis")},d.createElement("div",{className:(0,a.classNames)("vkuiActionSheetItem__content",x&&"vkuiActionSheetItem--centered")},R===g.IOS?d.createElement(Q,{className:"vkuiActionSheetItem__children",weight:"cancel"===r?"2":"3",level:x?"2":"3"},t):d.createElement(ee,{className:"vkuiActionSheetItem__children"},t),i&&d.createElement(ee,{className:"vkuiActionSheetItem__meta"},i)),s&&d.createElement(ae,{className:"vkuiActionSheetItem__subtitle"},s)),v&&d.createElement("div",{className:"vkuiActionSheetItem__after"},d.createElement("input",{type:"radio",className:"vkuiActionSheetItem__radio",name:f,value:m,onChange:k,onClick:A(a.noop,a.noop,Boolean(n)),defaultChecked:h,checked:p,disabled:S.disabled}),d.createElement("div",{className:"vkuiActionSheetItem__marker"},T)))},Vn=function(e){return d.createElement(Wn,(0,l._)({autoClose:!0,mode:"cancel"},e),"Отмена")},Gn=n(221),Xn=function(e){return d.createElement("svg",(0,l._)({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"}))},Un=function(e){return d.createElement("svg",(0,l._)({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d.createElement("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"}))},Kn=function(e){var t=e.style,n=e.className,o=e.state,r=void 0===o?"loading":o,i=e.size,s=void 0===i?"large":i,u=e["aria-label"],v=void 0===u?"Пожалуйста, подождите...":u,m=e.onClick,f=(0,c._)(e,["style","className","state","size","aria-label","onClick"]),p="done"===r||"error"===r,h={loading:function(){return null},cancelable:Gn.Icon24Cancel,done:Un,error:Xn}[r];return(0,X.useScrollLock)(),d.createElement(cn,{hasMask:!1,className:(0,a.classNames)("vkuiScreenSpinner","cancelable"===r&&"vkuiScreenSpinner--clickable",n),style:t},d.createElement("div",{className:"vkuiScreenSpinner__container",onClick:m},d.createElement(Ye.Spinner,(0,l._)({className:(0,a.classNames)("vkuiScreenSpinner__spinner",p&&"vkuiScreenSpinner__spinner--hidden"),size:s,"aria-label":v},f)),d.createElement("div",{className:(0,a.classNames)("vkuiScreenSpinner__icon","done"===r&&"vkuiScreenSpinner__icon--state-done")},d.createElement(h,null))))},qn=function(e){var t=e.children,n=e.layout,o=void 0===n?"horizontal":n,r=e.action,i=e.before,u=e.after,v=e.duration,m=void 0===v?4e3:v,f=e.onActionClick,p=e.onClose,h=e.mode,k=void 0===h?"default":h,_=e.className,b=e.subtitle,E=(0,c._)(e,["children","layout","action","before","after","duration","onActionClick","onClose","mode","className","subtitle"]),C=he(),N=zt().viewWidth>=L.SMALL_TABLET,y=tt().waitTransitionFinish,S=(0,s._)(d.useState(!1),2),R=S[0],w=S[1],I=(0,s._)(d.useState(!1),2),A=I[0],O=I[1],P=d.useRef(0),T=d.useRef(0),D=d.useRef(null),x=d.useRef(null),B=d.useRef(null),z=C===g.IOS?320:400,H=function(){w(!0),y(x.current,(function(){p()}),z)},F=ke(H,m),Y=function(e){null!==B.current&&cancelAnimationFrame(B.current),B.current=requestAnimationFrame((function(){D.current&&(D.current.style.transform="translate3d(".concat(e,"%, 0, 0)"))}))},W=F.clear;d.useEffect((function(){return F.set()}),[F]);var V=u||N||b?"vertical":o;return d.createElement(Gt,null,d.createElement("div",(0,M._)((0,l._)({},E),{className:(0,a.classNames)("vkuiSnackbar",C===g.IOS&&"vkuiSnackbar--ios",{vertical:"vkuiSnackbar--layout-vertical",horizontal:"vkuiSnackbar--layout-horizontal"}[V],"dark"===k&&"vkuiSnackbar--mode-dark",R&&"vkuiSnackbar--closing",A&&"vkuiSnackbar--touched",N&&"vkuiSnackbar--desktop",_)}),d.createElement(Re,{className:"vkuiSnackbar__in",getRootRef:x,onStart:W,onMoveX:function(e){var t,n,a=e.shiftX;e.originalEvent.preventDefault(),A||O(!0),P.current=a/(null!==(n=null===(t=D.current)||void 0===t?void 0:t.offsetWidth)&&void 0!==n?n:0)*100,T.current=Ne(P.current,72,1.2,C!==g.IOS),Y(T.current)},onEnd:function(e){var t;if(A){var n=T.current;n+=n/e.duration*240*.6,N&&n<=-50?(F.clear(),y(D.current,(function(){p()}),z),Y(-120)):!N&&n>=50?(F.clear(),y(D.current,(function(){p()}),z),Y(120)):t=function(){F.set(),Y(0)}}else F.set();O(!1),t&&requestAnimationFrame(t)}},d.createElement("div",{className:"vkuiSnackbar__body",ref:D},i&&d.createElement("div",{className:"vkuiSnackbar__before"},i),d.createElement("div",{className:"vkuiSnackbar__content"},d.createElement(te,{className:"vkuiSnackbar__content-text"},t),b&&!r&&d.createElement(ae,{className:"vkuiSnackbar__content-subtitle"},b),r&&!b&&d.createElement(Ve,{align:"left",mode:"link",appearance:"dark"===k?"overlay":"accent",size:"s",className:"vkuiSnackbar__action",onClick:function(e){H(),r&&"function"==typeof f&&f(e)}},r)),u&&d.createElement("div",{className:"vkuiSnackbar__after"},u)))))},jn=n(1033),Qn=n(395),Zn=n(396),Jn=n(1479),$n=n(1480),ea=n(1027);var ta;!function(e){e.PAGE="page",e.CARD="card"}(ta||(ta={}));(0,Xe.warnOnce)("ModalRoot");function na(e,t){if("setActive"===t.type&&t.id!==e.activeModal){var n=t.id,a=e.exitingModal||e.activeModal,o=e.history?(0,u._)(e.history):[],r=Boolean(n&&o.includes(n));return null===n?o=[]:r?o=o.splice(0,o.indexOf(n)+1):o.push(n),{activeModal:n,enteringModal:null,exitingModal:a,history:o,isBack:r}}return"entered"===t.type&&t.id===e.enteringModal?(0,M._)((0,l._)({},e),{enteringModal:null}):"exited"===t.type&&t.id===e.exitingModal?(0,M._)((0,l._)({},e),{exitingModal:null}):"inited"===t.type&&t.id===e.activeModal?(0,M._)((0,l._)({},e),{enteringModal:t.id}):e}function aa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.noop,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.noop,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.noop,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.noop,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:a.noop,u=d.useRef({}).current;(function(e){return d.Children.toArray(e)})(t).forEach((function(e){var t=e.props,n=Ge(t),a=void 0!==n&&u[n]||{id:null!=n?n:null};a.onOpen=e.props.onOpen,a.onOpened=e.props.onOpened,a.onClose=e.props.onClose,a.onClosed=e.props.onClosed,"number"==typeof t.settlingHeight&&(a.settlingHeight=t.settlingHeight),null!==a.id&&(u[a.id]=a)}));var v=e&&!u[e]?null:e,m=(0,s._)(d.useReducer(na,{activeModal:v,enteringModal:null,exitingModal:null,history:v?[v]:[],isBack:!1}),2),f=m[0],p=m[1];(0,I.useIsomorphicLayoutEffect)((function(){p({type:"setActive",id:null!=v?v:null})}),[e]),(0,I.useIsomorphicLayoutEffect)((function(){f.activeModal&&(c(u[f.activeModal]),p({type:"inited",id:f.activeModal}))}),[f.activeModal]);var h=function(e){var t;return null!=e&&(null===(t=u[e])||void 0===t?void 0:t.type)===ta.CARD},k=d.useCallback((function(e){if(e){var t=u[e];(0,a.isFunction)(t.onOpened)?t.onOpened():(0,a.isFunction)(o)&&o(e)}p({type:"entered",id:e})}),[u,o]),g=d.useCallback((function(e){if(e){var t=u[e];(0,a.isFunction)(t.onClosed)?t.onClosed():(0,a.isFunction)(i)&&i(e)}p({type:"exited",id:e})}),[u,i]),_=Boolean(f.exitingModal&&(h(e)||h(f.exitingModal))),b=d.useCallback((function(e){return e?u[e]:void 0}),[u]);return(0,M._)((0,l._)({onEnter:function(){var e=f.activeModal&&u[f.activeModal];e&&((0,a.isFunction)(e.onOpen)?e.onOpen():(0,a.isFunction)(n)&&e.id&&n(e.id))},onEntered:k,onExit:function(){var e=f.activeModal&&u[f.activeModal];e&&((0,a.isFunction)(e.onClose)?e.onClose():(0,a.isFunction)(r)&&e.id&&r(e.id))},onExited:g},f),{delayEnter:_,getModalState:b})}var oa=(0,Xe.warnOnce)("ModalRoot");function ra(e,t){return!!t&&(e>=t[0]&&e<=t[1])}function ia(e){return(0,ea.clamp)(e,0,98)}var la,ca=function(e){(0,Jn._)(n,e);var t=(0,$n._)(n);function n(e){var a,o;return(0,Qn._)(this,n),a=t.call(this,e),(0,i._)((0,jn._)(a),"documentScrolling",!1),(0,i._)((0,jn._)(a),"maskElementRef",void 0),(0,i._)((0,jn._)(a),"viewportRef",d.createRef()),(0,i._)((0,jn._)(a),"maskAnimationFrame",void 0),(0,i._)((0,jn._)(a),"modalRootContext",void 0),(0,i._)((0,jn._)(a),"frameIds",void 0),(0,i._)((0,jn._)(a),"restoreFocusTo",void 0),(0,i._)((0,jn._)(a),"preventTouch",(function(e){if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),!1})),(0,i._)((0,jn._)(a),"updateModalHeight",(function(){var e=a.props.getModalState(a.props.activeModal);e&&e.type===ta.PAGE&&(a.props.enteringModal?a.waitTransitionFinish(e,(function(){requestAnimationFrame((function(){return a.checkPageContentHeight()}))})):requestAnimationFrame((function(){return a.checkPageContentHeight()})))})),(0,i._)((0,jn._)(a),"onTouchMove",(function(e){if(!a.props.exitingModal){var t=a.props.getModalState(a.props.activeModal);if(t)return t.type===ta.PAGE?a.onPageTouchMove(e,t):t.type===ta.CARD?a.onCardTouchMove(e,t):void 0}})),(0,i._)((0,jn._)(a),"onTouchEnd",(function(e){var t,n,o=a.props.getModalState(a.props.activeModal);return(null===(t=o)||void 0===t?void 0:t.type)===ta.PAGE?a.onPageTouchEnd(e,o):(null===(n=o)||void 0===n?void 0:n.type)===ta.CARD?a.onCardTouchEnd(e,o):void 0})),(0,i._)((0,jn._)(a),"onScroll",(function(e){var t,n,o,r=a.props.activeModal,i=e.target;if(r){var l=a.props.getModalState(r);(null===(t=l)||void 0===t?void 0:t.type)===ta.PAGE&&(null===(o=l)||void 0===o||null===(n=o.contentElement)||void 0===n?void 0:n.contains(i))&&(l.contentScrolled=!0,l.contentScrollStopTimeout&&clearTimeout(l.contentScrollStopTimeout),l.contentScrollStopTimeout=setTimeout((function(){l.contentScrolled&&(l.contentScrolled=!1)}),250))}})),a.state={touchDown:!1,dragging:!1,modalOpenedLog:[]},a.maskElementRef=d.createRef(),a.modalRootContext={updateModalHeight:a.updateModalHeight,registerModal:function(e){var t=e.id,n=(0,c._)(e,["id"]);return Object.assign(null!==(o=a.props.getModalState(t))&&void 0!==o?o:{},n)},onClose:function(){return a.props.onExit()},isInsideModal:!0},a.frameIds={},a}return(0,Zn._)(n,[{key:"timeout",get:function(){return this.props.platform===g.IOS?400:320}},{key:"document",get:function(){return this.props.document}},{key:"window",get:function(){return this.props.window}},{key:"getModals",value:function(){return d.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function(){var e;null===(e=this.window)||void 0===e||e.addEventListener("resize",this.updateModalHeight,!1)}},{key:"componentWillUnmount",value:function(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalHeight,!1)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){var n,a=this.props.enteringModal,o=this.props.getModalState(a);this.props.onEnter(),this.waitTransitionFinish(o,(function(){var e;(null===(e=o)||void 0===e?void 0:e.innerElement)&&(o.innerElement.style.transitionDelay=""),t.props.onEntered(a)})),(null===(n=o)||void 0===n?void 0:n.innerElement)&&(o.innerElement.style.transitionDelay=this.props.delayEnter?"".concat(this.timeout,"ms"):"",this.animateTranslate(o,o.translateY))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=this.document.activeElement),this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}},{key:"toggleDocumentScrolling",value:function(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1}):this.window.addEventListener("touchmove",this.preventTouch,{passive:!1}))}},{key:"checkPageContentHeight",value:function(){var e,t,n=this.props.getModalState(this.props.activeModal);if((null===(e=n)||void 0===e?void 0:e.type)===ta.PAGE&&(null===(t=n)||void 0===t?void 0:t.modalElement)){var a=(0,l._)({},n);ua(n);var o=(0,l._)({},n),r=!1;a.expandable===o.expandable?a.translateYFrom!==o.translateYFrom&&(r=!0):r=!0,r&&this.animateTranslate(n,n.translateY)}}},{key:"closeModal",value:function(e){var t,n,a=this;this.setState({touchDown:!1});var o=this.props.getModalState(e);if(o){this.state.modalOpenedLog.length||this.setState((function(t){return{modalOpenedLog:(0,u._)(t.modalOpenedLog).concat([e])}}));var r,i,l,c=this.props.getModalState(this.props.activeModal),s=!!c&&c.type===ta.PAGE,d=!!o&&o.type===ta.PAGE;this.waitTransitionFinish(o,(function(){return a.props.onExited(e)}));var v=d&&s&&(null!==(r=o.translateY)&&void 0!==r?r:0)<=(null!==(i=null===(t=c)||void 0===t?void 0:t.translateYFrom)&&void 0!==i?i:0)&&!this.props.isBack?(null!==(l=null===(n=c)||void 0===n?void 0:n.translateYFrom)&&void 0!==l?l:0)+10:100;this.animateTranslate(o,v),c?c.id&&!this.state.modalOpenedLog.includes(c.id)&&(c.translateY=void 0,this.setState((function(e){return{modalOpenedLog:(0,u._)(e.modalOpenedLog).concat([c.id])}}))):(this.setMaskOpacity(o,0),this.setState({modalOpenedLog:[]}),o.translateY=void 0)}else e&&oa("closeActiveModal: модальное окно (страница) ".concat(e," не существует"),"error")}},{key:"onPageTouchMove",value:function(e,t){var n,a,o=e.shiftY,r=e.originalEvent,i=r.target;if(e.isY){if(!(null===(n=t.innerElement)||void 0===n?void 0:n.contains(i)))return r.preventDefault();r.stopPropagation();var l,c,s=t.expandable,u=t.contentScrolled,d=t.collapsed,v=t.expanded;if(!this.state.touchDown)t.touchStartContentScrollTop=null!==(c=null===(l=t.contentElement)||void 0===l?void 0:l.scrollTop)&&void 0!==c?c:0,this.setState({touchDown:!0});if(!u&&(null===t.touchMovePositive&&(t.touchMovePositive=o>0),!t.expandable||d||v&&t.touchMovePositive&&0===t.touchStartContentScrollTop||(null===(a=t.headerElement)||void 0===a?void 0:a.contains(i)))){if(r.preventDefault(),!s&&o<0||!this.window)return;!this.state.dragging&&this.setState({dragging:!0});var m,f=o/this.window.innerHeight*100,p=Ne(f,72,.8,this.props.platform!==g.IOS);t.touchShiftYPercent=f,t.translateYCurrent=ia((null!==(m=t.translateY)&&void 0!==m?m:0)+p),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}else{var h;(null===(h=this.viewportRef.current)||void 0===h?void 0:h.contains(i))&&r.preventDefault()}}},{key:"onCardTouchMove",value:function(e,t){var n,a=e.originalEvent,o=e.shiftY,r=a.target;if(null===(n=t.innerElement)||void 0===n?void 0:n.contains(r)){this.state.touchDown||this.setState({touchDown:!0,dragging:!0});var i,l=o/t.innerElement.offsetHeight*100,c=Ne(l,72,1.2,this.props.platform!==g.IOS);t.touchShiftYPercent=l,t.translateYCurrent=Math.max(0,(null!==(i=t.translateY)&&void 0!==i?i:0)+c),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onPageTouchEnd",value:function(e,t){var n,a=this,o=e.startY,r=e.shiftY;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging&&this.window){var i,l,c,s,u=(o+r)/this.window.innerHeight*100,d=null!==(i=t.translateYCurrent)&&void 0!==i?i:0;if(d=ia(d+d/e.duration*240*.6*((null!==(l=t.touchShiftYPercent)&&void 0!==l?l:0)<0?-1:1)),100!==t.settlingHeight)if(ra(d,t.expandedRange))d=null!==(s=null===(c=t.expandedRange)||void 0===c?void 0:c[0])&&void 0!==s?s:0;else if(ra(d,t.collapsedRange)){var v;d=null!==(v=t.translateYFrom)&&void 0!==v?v:0}else if(ra(d,t.hiddenRange))d=100;else{var m;d=null!==(m=t.translateYFrom)&&void 0!==m?m:0}else d=ra(d,[0,25])?0:100;100!==d&&u>=75&&(d=100),t.translateY=d,t.translateYCurrent=d,t.collapsed=d>0&&d<u,t.expanded=0===d,t.hidden=100===d,t.hidden&&this.props.onExit(),n=function(){t.hidden||a.animateTranslate(t,t.translateY),a.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"onCardTouchEnd",value:function(e,t){var n,a=e.duration,o=this;if(this.state.dragging){var r,i,l=null!==(r=t.translateYCurrent)&&void 0!==r?r:0,c=l/a*240*.6*((null!==(i=t.touchShiftYPercent)&&void 0!==i?i:0)<0?-1:1);l=(l=Math.max(0,l+c))>=30?100:0,t.translateY=l,t.hidden=100===l,t.hidden&&this.props.onExit(),n=function(){t.hidden||o.animateTranslate(t,t.translateY),o.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"waitTransitionFinish",value:function(e,t){if(et.supported){var n,a,o=function(){var n,a;null===(a=e)||void 0===a||null===(n=a.innerElement)||void 0===n||n.removeEventListener(et.name,o),t()};null===(a=e)||void 0===a||null===(n=a.innerElement)||void 0===n||n.addEventListener(et.name,o)}else setTimeout(t,this.timeout)}},{key:"animateTranslate",value:function(e,t){var n="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this.frameIds[n]),this.frameIds[n]=requestAnimationFrame((function(){var n,a;n=e.innerElement,a="translate3d(0, ".concat(t,"%, 0)"),n&&(n.style.transform=a,n.style.webkitTransform=a)}))}},{key:"setMaskOpacity",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this;null===n&&(null===(t=this.props.history)||void 0===t?void 0:t[0])!==e.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(a.maskElementRef.current){var t=e.translateY,o=void 0===t?0:t,r=e.translateYCurrent,i=null===n?1-((void 0===r?0:r)-o)/(100-o)||0:n;a.maskElementRef.current.style.opacity=(0,ea.clamp)(i,0,100).toString()}})))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.activeModal,r=n.exitingModal,i=n.enteringModal,c=this.state,s=c.touchDown,u=c.dragging;return o||r?d.createElement(we.Provider,{value:!0},d.createElement(Nt.Provider,{value:this.modalRootContext},d.createElement(Re,{className:(0,a.classNames)("vkuiModalRoot",(null===(e=this.props.configProvider)||void 0===e?void 0:e.webviewType)===C.VKAPPS&&"vkuiModalRoot--vkapps",s&&(0,a.classNames)("vkuiModalRoot--touched","vkuiInternalModalRoot--touched"),!(!i&&!r)&&(0,a.classNames)("vkuiModalRoot--switching","vkuiInternalModalRoot--switching")),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},d.createElement("div",{className:"vkuiModalRoot__mask",onClick:this.props.onExit,ref:this.maskElementRef}),d.createElement("div",{className:"vkuiModalRoot__viewport",ref:this.viewportRef},this.getModals().map((function(e){var n=Ge(e.props),i=t.props.getModalState(n);if(n!==o&&n!==r||!i)return null;var c=(0,l._)({},i),s=c.type===ta.PAGE,v="modal-".concat(n);return d.createElement(mn,{key:v,getRootRef:function(e){var a=t.props.getModalState(n);a&&(a.modalElement=e)},onClose:t.props.onExit,timeout:t.timeout,className:(0,a.classNames)("vkuiModalRoot__modal",u&&"vkuiInternalModalRoot__modal--dragging",s&&c.expandable&&"vkuiInternalModalRoot__modal--expandable",s&&c.collapsed&&"vkuiInternalModalRoot__modal--collapsed"),restoreFocus:!1},e)})))))):null}}]),n}(d.Component),sa=function(e,t,n){return function(a){var o=d.useContext(t);return d.createElement(e,(0,M._)((0,l._)({},a),(0,i._)({},n,o)))}}((la=(0,H.withDOM)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;return function(t){return function(n){var a=aa(n.activeModal,n.children,n.onOpen,n.onOpened,n.onClose,n.onClosed,e);return d.createElement(t,(0,l._)({},n,a))}}}((function(e){switch(e.type){case ta.PAGE:return e.settlingHeight=e.settlingHeight||75,ua(e);case ta.CARD:return function(e){e.translateY=0}(e)}}))(ca)),function(e){var t=R().platform;return d.createElement(la,(0,M._)((0,l._)({},e),{platform:t}))}),S,"configProvider");function ua(e){var t,n,a,o=e.contentElement,r=(null===(t=o)||void 0===t?void 0:t.firstElementChild).offsetHeight,i=e.translateY;e.expandable=r>(null!==(a=null===(n=o)||void 0===n?void 0:n.clientHeight)&&void 0!==a?a:0)||100===e.settlingHeight||e.expanded;var l,c,s,u,d,v=!1,m=!1;if(e.expandable){var f,p=(l=100-(null!==(f=e.settlingHeight)&&void 0!==f?f:0))/2,h=100-l;s=[0,p],u=[p,l+h/4],d=[l+h/4,100],v=l>0,m=l<=0,c=l}else{var k,g,_,b,E;s=[c=l=100-(r+(null!==(b=null===(k=e.headerElement)||void 0===k?void 0:k.offsetHeight)&&void 0!==b?b:0))/(null!==(E=null===(_=e.innerElement)||void 0===_||null===(g=_.parentElement)||void 0===g?void 0:g.offsetHeight)&&void 0!==E?E:0)*100,c+25],u=[c+25,c+25],d=[c+25,c+100]}(e.expandable&&c>(null!=i?i:100)||100===e.settlingHeight)&&(c=0),0===c&&(m=!0,v=!1),e.expandedRange=s,e.collapsedRange=u,e.hiddenRange=d,e.translateY=c,e.translateYFrom=l,e.collapsed=v,e.expanded=m}(0,Xe.warnOnce)("ModalRoot");var da=function(e){var t,n=e.activeModal,o=e.children,r=e.onOpen,i=e.onOpened,l=e.onClose,s=e.onClosed,u=d.useRef(null),v=d.useRef(void 0),m=d.useRef(void 0),f=(0,H.useDOM)().document,p=R(),h=p.webviewType,k=p.platform,_=aa(n,o,r,i,l,s,a.noop),b=_.activeModal,E=_.exitingModal,N=_.onExit,y=_.getModalState,S=_.enteringModal,w=_.onEnter,M=_.onEntered,I=_.onExited,A=_.history,O=_.delayEnter,P=tt().waitTransitionFinish,T=Ze({exitingModal:E,enteringModal:S,activeModal:b}),D=Ue({updateModalHeight:function(){},registerModal:function(e){var n=e.id,a=(0,c._)(e,["id"]);return Object.assign(null!==(t=y(n))&&void 0!==t?t:{},a)},onClose:N,isInsideModal:!0}),L=k===g.IOS?400:320,x=d.Children.toArray(o),B=function(e,t){var n;(null===(n=e)||void 0===n?void 0:n.innerElement)&&(e.innerElement.style.transition="",e.innerElement.style.transitionDelay=t&&O?"".concat(L,"ms"):"",e.innerElement.style.opacity=t?"1":"0")},z=function(e){var t=y(e);t&&(b?I(e):requestAnimationFrame((function(){var n;P(null===(n=t)||void 0===n?void 0:n.innerElement,(function(){return I(e)}),L),B(t,!1),function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===n&&(null===(t=A)||void 0===t?void 0:t[0])!==e.id||(v.current&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame((function(){if(u.current){var t=e.translateY,a=void 0===t?0:t,o=e.translateYCurrent,r=null===n?1-((void 0===o?0:o)-a)/(100-a)||0:n;u.current.style.opacity=(0,ea.clamp)(r,0,100).toString()}})))}(t,0)})))};return d.useEffect((function(){if(T){var e,t;if(E&&E!==T.exitingModal&&z(E),S&&S!==T.enteringModal&&function(){var e;if(S&&T){var t=y(S);w(),T.exitingModal?((null===(e=t)||void 0===e?void 0:e.innerElement)&&(t.innerElement.style.transition="none",t.innerElement.style.opacity="1"),M(S)):requestAnimationFrame((function(){var e;S==S&&(P(null===(e=t)||void 0===e?void 0:e.innerElement,(function(){return M(S)}),L),B(t,!0))}))}}(),b&&!T.activeModal)m.current=null!==(t=null===(e=f)||void 0===e?void 0:e.activeElement)&&void 0!==t?t:void 0;b||E||!m.current||(m.current.focus(),m.current=void 0)}})),b||E?d.createElement(Nt.Provider,{value:D},d.createElement("div",{className:(0,a.classNames)("vkuiModalRoot",h===C.VKAPPS&&"vkuiModalRoot--vkapps","vkuiModalRoot--desktop")},d.createElement("div",{className:"vkuiModalRoot__mask",ref:u,onClick:N}),d.createElement("div",{className:"vkuiModalRoot__viewport"},x.map((function(e){var t=Ge(e.props);if(t!==b&&t!==E)return null;var n="modal-".concat(t);return d.createElement(mn,{restoreFocus:!1,onClose:N,timeout:L,key:n,className:"vkuiModalRoot__modal"},e)}))))):null},va=function(e){var t=zt().isDesktop;(0,X.useScrollLock)(!!e.activeModal);var n=t?da:sa;return d.createElement(n,e)},ma=n(1034),fa=d.createContext({}),pa={s:"vkuiModalPage--size-s",m:"vkuiModalPage--size-m",l:"vkuiModalPage--size-l"},ha=((0,Xe.warnOnce)("ModalPage"),function(e){var t=e.children,n=e.header,o=e.size,r=void 0===o?"s":o,i=(e.onOpen,e.onOpened,e.onClose),s=(e.onClosed,e.settlingHeight,e.dynamicContentHeight),u=e.getModalContentRef,v=e.nav,m=e.id,f=e.hideCloseButton,p=void 0!==f&&f,h=e.className,k=(0,c._)(e,["children","header","size","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav","id","hideCloseButton","className"]),_=dn(),b=m||_,E=d.useContext(Nt).updateModalHeight,C=he(),N=(0,ma.useOrientationChange)(),y=zt(),S=y.sizeX,R=y.isDesktop;d.useEffect((function(){s&&E()}),[t,s,N,E]);var w=!p&&R,I=R?r:"s",A=d.useContext(Nt),O=yt(Ge({nav:v,id:b}),ta.PAGE).refs,P=d.useMemo((function(){return{labelId:"".concat(b,"-label")}}),[b]);return d.createElement(fa.Provider,{value:P},d.createElement("div",(0,M._)((0,l._)({},k),{role:"dialog","aria-modal":"true","aria-labelledby":P.labelId,id:b,className:(0,a.classNames)("vkuiModalPage",C===g.IOS&&"vkuiModalPage--ios",R&&"vkuiModalPage--desktop",S===B.REGULAR&&"vkuiInternalModalPage--sizeX-regular","string"==typeof I&&pa[I],h)}),d.createElement("div",{className:"vkuiModalPage__in-wrap",style:{maxWidth:"number"==typeof I?I:void 0},ref:O.innerElement},d.createElement("div",{className:"vkuiModalPage__in"},d.createElement("div",{className:"vkuiModalPage__header",ref:O.headerElement},n),d.createElement("div",{className:"vkuiModalPage__content-wrap"},d.createElement("div",{className:"vkuiModalPage__content",ref:de(O.contentElement,u)},d.createElement("div",{className:"vkuiModalPage__content-in"},t))),w&&d.createElement(pn,{onClick:i||A.onClose})))))}),ka=function(e){var t=e.children,n=e.separator,o=void 0===n||n,r=e.getRef,i=e.className,s=(0,c._)(e,["children","separator","getRef","className"]),u=he(),v=o&&u===g.VKCOM,m=zt().isDesktop,f=d.useContext(fa).labelId;return d.createElement("div",{className:(0,a.classNames)("vkuiModalPageHeader",u!==g.VKCOM&&"vkuiModalPageHeader--withGaps",m&&"vkuiModalPageHeader--desktop"),ref:r},d.createElement(Ot,(0,M._)((0,l._)({className:(0,a.classNames)("vkuiInternalModalPageHeader__in",i)},s),{fixed:!1,separator:!1,transparent:!0,typographyProps:{Component:"h2",id:f}}),t),v&&d.createElement(St,{wide:!0}))},ga=n(222);var _a={passive:!0,capture:!1};var ba,Ea=function(e){var t=e.getRootRef,n=e.icon,o=e.header,r=e.subheader,i=e.children,u=e.actions,v=e.onClose,m=e.dismissLabel,p=void 0===m?"Скрыть":m,h=e.className,k=e.style,_=e.size,b=(0,c._)(e,["getRootRef","icon","header","subheader","children","actions","onClose","dismissLabel","className","style","size"]),E=he(),C=zt().isDesktop,N=function(){var e,t,n=(0,H.useDOM)().document,a=(0,s._)(d.useState(!1),2),o=a[0],r=a[1],i=d.useCallback((function(e){var t,a,o,i,l=!(!0!==e&&"focusin"!==e.type||"INPUT"!==(null===(a=n)||void 0===a||null===(t=a.activeElement)||void 0===t?void 0:t.tagName)&&"TEXTAREA"!==(null===(i=n)||void 0===i||null===(o=i.activeElement)||void 0===o?void 0:o.tagName));r(l)}),[null===(t=n)||void 0===t||null===(e=t.activeElement)||void 0===e?void 0:e.tagName]);return d.useEffect((function(){i(!0)}),[i]),(0,F.useGlobalEventListener)(n,"focusout",i,_a),(0,F.useGlobalEventListener)(n,"focusin",i,_a),{isOpened:o}}().isOpened,y=E===g.IOS&&!C,S=C?_:void 0;return d.createElement("div",(0,M._)((0,l._)({},b),{className:(0,a.classNames)("vkuiInternalModalCardBase",E===g.IOS&&"vkuiModalCardBase--ios",C&&"vkuiModalCardBase--desktop",h),ref:t,style:(0,M._)((0,l._)({},k),{maxWidth:S})}),d.createElement("div",{className:(0,a.classNames)("vkuiModalCardBase__container",N&&"vkuiModalCardBase__container--softwareKeyboardOpened")},(0,a.hasReactNode)(n)&&d.createElement("div",{className:"vkuiModalCardBase__icon"},n),(0,a.hasReactNode)(o)&&d.createElement(Q,{level:"2",weight:"2",className:(0,a.classNames)("vkuiModalCardBase__header","vkuiInternalModalCardBase__header")},o),(0,a.hasReactNode)(r)&&d.createElement(f.Provider,{value:{sizeY:B.REGULAR}},d.createElement(ae,{className:(0,a.classNames)("vkuiModalCardBase__subheader","vkuiInternalModalCardBase__subheader")},r)),i,(0,a.hasReactNode)(u)&&d.createElement("div",{className:"vkuiModalCardBase__actions"},u),C&&d.createElement(pn,{onClick:v}),y&&d.createElement(ut,{"aria-label":p,className:"vkuiModalCardBase__dismiss",onClick:v},d.createElement(ga.Icon24Dismiss,null))))},Ca={ios:"vkuiModalCard--ios",android:"vkuiModalCard--android",vkcom:"vkuiModalCard--vkcom"},Na=((0,Xe.warnOnce)("ModalCard"),function(e){var t=e.icon,n=e.header,o=e.subheader,r=e.children,i=e.actions,s=e.onClose,u=e.nav,v=e.id,m=e.className,f=e.size,p=e.getRootRef,h=(0,c._)(e,["icon","header","subheader","children","actions","onClose","nav","id","className","size","getRootRef"]),k=zt().isDesktop,g=he(),_=d.useContext(Nt),b=yt(Ge({nav:u,id:v}),ta.CARD).refs;return d.createElement("div",(0,M._)((0,l._)({},h),{ref:p,id:v,className:(0,a.classNames)("vkuiModalCard",Ca.hasOwnProperty(g)?Ca[g]:Ca.android,k&&"vkuiModalCard--desktop",m)}),d.createElement(Ea,{className:"vkuiModalCard__in",getRootRef:b.innerElement,icon:t,header:n,subheader:o,actions:i,onClose:s||_.onClose,size:f},r))}),ya=function(e){var t=e.mode,n=void 0===t?"new":t,o=e.className,r=(0,c._)(e,["mode","className"]);return d.createElement("span",(0,l._)({className:(0,a.classNames)("vkuiBadge",{new:"vkuiBadge--mode-new",prominent:"vkuiBadge--mode-prominent"}[n],o)},r))},Sa=function(e){var t=e.mode,n=void 0===t?"horizontal":t,o=e.gap,r=void 0===o?"m":o,i=e.stretched,s=void 0!==i&&i,u=e.align,v=void 0===u?"left":u,m=e.getRootRef,f=e.className,p=e.children,h=(0,c._)(e,["mode","gap","stretched","align","getRootRef","className","children"]);return d.createElement("div",(0,l._)({className:(0,a.classNames)(f,"vkuiButtonGroup",{vertical:"vkuiButtonGroup--mode-vertical",horizontal:"vkuiButtonGroup--mode-horizontal"}[n],"none"!==r&&{space:"vkuiButtonGroup--gap-space",s:"vkuiButtonGroup--gap-s",m:"vkuiButtonGroup--gap-m"}[r],s&&"vkuiButtonGroup--stretched",{left:"vkuiButtonGroup--align-left",center:"vkuiButtonGroup--align-center",right:"vkuiButtonGroup--align-right"}[v]),role:"group",ref:m},h),p)},Ra=(0,i._)({none:"vkuiIconButton--sizeY-none"},B.COMPACT,"vkuiIconButton--sizeY-compact"),wa=((0,Xe.warnOnce)("IconButton"),function(e){var t=e.children,n=e.className,o=(0,c._)(e,["children","className"]),r=he(),i=p().sizeY,s=void 0===i?"none":i;return d.createElement(xe,(0,M._)((0,l._)({activeEffectDelay:200,activeMode:"background",Component:o.href?"a":"button"},o),{className:(0,a.classNames)("vkuiIconButton",s!==B.REGULAR&&Ra[s],r===g.IOS&&"vkuiIconButton--ios",n)}),t)}),Ma=function(e){var t=e.mode,n=void 0===t?"tint":t,o=e.children,r=e.getRootRef,i=e.className,s=(0,c._)(e,["mode","children","getRootRef","className"]);return d.createElement("div",(0,M._)((0,l._)({},s),{ref:r,className:(0,a.classNames)("vkuiCard","outline"===n&&"vkuiCard--mode-outline","shadow"===n&&"vkuiCard--mode-shadow",i)}),o)},Ia=(0,i._)({none:"vkuiCardGrid--sizeX-none"},B.COMPACT,"vkuiCardGrid--sizeX-compact"),Aa=function(e){var t=e.children,n=e.size,o=void 0===n?"s":n,r=e.spaced,i=void 0!==r&&r,s=e.className,u=(0,c._)(e,["children","size","spaced","className"]),v=p().sizeX,m=void 0===v?"none":v;return d.createElement("div",(0,M._)((0,l._)({},u),{className:(0,a.classNames)("vkuiCardGrid","vkuiInternalCardGrid",i&&"vkuiCardGrid--spaced",{s:"vkuiInternalCardGrid--size-s",m:"vkuiInternalCardGrid--size-m",l:"vkuiInternalCardGrid--size-l"}[o],m!==B.REGULAR&&Ia[m],s)}),t)},Oa=function(e){var t=e.children,n=e.size,o=void 0===n?"s":n,r=e.showArrows,i=void 0===r||r,s=e.withSpaces,v=void 0===s||s,m=e.className,f=(0,c._)(e,["children","size","showArrows","withSpaces","className"]),p=d.useRef(null),h=d.useRef(null),k=(0,H.useDOM)().window;return d.createElement("div",(0,M._)((0,l._)({},f),{className:(0,a.classNames)("vkuiCardScroll","vkuiInternalCardScroll",!1!==o&&{s:"vkuiInternalCardScroll--size-s",m:"vkuiInternalCardScroll--size-m",l:"vkuiInternalCardScroll--size-l"}[o],v&&"vkuiCardScroll--withSpaces",m)}),d.createElement(ln,{getScrollToLeft:function(e){if(!p.current||!h.current)return e;var t=p.current.offsetWidth,n=(0,u._)(p.current.children).findIndex((function(t){return t.offsetLeft+t.offsetWidth+parseInt(k.getComputedStyle(t).marginRight)-e>=0}));if(-1===n)return e;if(0===n)return 0;var a=p.current.children[n],o=a.offsetLeft-(t-a.offsetWidth)+h.current.offsetWidth;return o<=2*h.current.offsetWidth?0:o},getScrollToRight:function(e){if(!p.current||!h.current)return e;var t=p.current.offsetWidth,n=Array.prototype.find.call(p.current.children,(function(n){return n.offsetLeft+n.offsetWidth-e>t}));return n?n.offsetLeft-h.current.offsetWidth:e},showArrows:i},d.createElement("div",{className:"vkuiCardScroll__in",ref:p},d.createElement("span",{className:"vkuiCardScroll__gap",ref:h}),t,d.createElement("span",{className:"vkuiCardScroll__gap"}))))},Pa=function(e){var t=e.mode,n=e.size,a=(0,c._)(e,["mode","size"]),o="large"===n;if(he()===g.IOS)switch(t){case"primary":return o?d.createElement(Q,(0,l._)({level:"2",weight:"2"},a)):d.createElement(Q,(0,l._)({weight:"1",level:"3"},a));case"secondary":return d.createElement(oe,(0,l._)({weight:"1",caps:!0},a));case"tertiary":return d.createElement(Q,(0,l._)({weight:"1",level:"3"},a))}switch(t){case"primary":return o?d.createElement(Q,(0,l._)({level:"2",weight:"2"},a)):d.createElement(J,(0,l._)({weight:"2"},a));case"secondary":return d.createElement(oe,(0,l._)({weight:"1",caps:!0},a));case"tertiary":return d.createElement(J,(0,l._)({weight:"2"},a))}return null},Ta=function(e){var t=e.mode,n=void 0===t?"primary":t,o=e.size,r=void 0===o?"regular":o,i=e.children,s=e.subtitle,u=e.indicator,v=e.aside,m=e.getRootRef,f=e.multiline,p=e.className,h=(0,c._)(e,["mode","size","children","subtitle","indicator","aside","getRootRef","multiline","className"]),k=he();return d.createElement("header",(0,M._)((0,l._)({},h),{ref:m,className:(0,a.classNames)("vkuiHeader",k===g.IOS&&"vkuiHeader--ios",{primary:"vkuiHeader--mode-primary",secondary:"vkuiHeader--mode-secondary",tertiary:"vkuiHeader--mode-tertiary"}[n],(0,a.isPrimitiveReactNode)(u)&&"vkuiHeader--pi",(0,a.hasReactNode)(s)&&"vkuiHeader--with-subtitle",p)}),d.createElement("div",{className:"vkuiHeader__main"},d.createElement(Pa,{className:"vkuiHeader__content",Component:"span",mode:n,size:r},d.createElement("span",{className:(0,a.classNames)("vkuiHeader__content-in",f&&"vkuiHeader__content--multiline")},i),(0,a.hasReactNode)(u)&&d.createElement(oe,{className:"vkuiHeader__indicator",weight:"2"},u)),(0,a.hasReactNode)(s)&&d.createElement(ae,{className:(0,a.classNames)("vkuiHeader__subtitle",f&&"vkuiHeader__content--multiline"),Component:"span"},s)),(0,a.hasReactNode)(v)&&d.createElement(te,{className:"vkuiHeader__aside",Component:"span"},v))},Da=(0,i._)({none:(0,a.classNames)("vkuiGroup--sizeX-none","vkuiInternalGroup--sizeX-none")},B.COMPACT,"vkuiGroup--sizeX-compact"),La=((0,Xe.warnOnce)("Group"),function(e){var t=e.header,n=e.description,o=e.children,r=e.separator,i=void 0===r?"auto":r,s=e.getRootRef,u=e.mode,v=e.padding,m=void 0===v?"m":v,f=e.className,h=e.tabIndex,k=(0,c._)(e,["header","description","children","separator","getRootRef","mode","padding","className","tabIndex"]),_=d.useContext(Nt).isInsideModal,b=he(),E=p().sizeX,C=void 0===E?"none":E,N=u;u||(N=_?"plain":"none"),"none"===N&&"none"!==C&&(N=C===B.REGULAR?"card":"plain");var y="tabpanel"===k.role&&void 0===h?0:h,S=(0,a.classNames)("vkuiGroup__separator","show"===i&&"vkuiGroup__separator--force");return d.createElement(d.Fragment,null,d.createElement("section",(0,M._)((0,l._)({},k),{tabIndex:y,ref:s,className:(0,a.classNames)("vkuiInternalGroup","vkuiGroup",_&&"vkuiGroup--inside-modal",b===g.IOS&&"vkuiGroup--ios",C!==B.REGULAR&&Da[C],N&&{none:(0,a.classNames)("vkuiGroup--mode-none","vkuiInternalGroup--mode-none"),plain:(0,a.classNames)("vkuiGroup--mode-plain","vkuiInternalGroup--mode-plain"),card:(0,a.classNames)("vkuiGroup--mode-card","vkuiInternalGroup--mode-card")}[N],{s:"vkuiGroup--padding-s",m:"vkuiGroup--padding-m"}[m],f)}),t,o,(0,a.hasReactNode)(n)&&d.createElement(oe,{className:"vkuiGroup__description"},n)),"hide"!==i&&d.createElement(d.Fragment,null,d.createElement(Rt,{className:(0,a.classNames)(S,"vkuiGroup__separator--spacing"),size:16}),d.createElement(St,{className:(0,a.classNames)(S,"vkuiGroup__separator--separator")})))}),xa=function(e){var t=e.mode,n=void 0===t?"tint":t,o=e.children,r=e.to,i=void 0===r?"top":r,s=e.className,u=(0,c._)(e,["mode","children","to","className"]);return d.createElement("div",(0,M._)((0,l._)({role:"presentation"},u),{className:(0,a.classNames)({tint:"vkuiGradient--mode-tint",black:"vkuiGradient--mode-black",white:"vkuiGradient--mode-white"}[n],{top:"vkuiGradient--to-top",bottom:"vkuiGradient--to-bottom"}[i],s)}),o)},Ba=d.createContext({toggleDrag:a.noop}),za=function(e){var t=e.children,n=e.className,o=(0,c._)(e,["children","className"]),r=(0,s._)(d.useState(!1),2),i=r[0],u=r[1];return d.createElement("div",(0,M._)((0,l._)({role:"list"},o),{className:(0,a.classNames)("vkuiList",i&&"vkuiInternalList--dragging",n)}),d.createElement(Ba.Provider,{value:d.useMemo((function(){return{toggleDrag:u}}),[])},t))},Ha=function(e){var t=e.onRemove,n=e.removePlaceholder,o=e.removePlaceholderString,r=e.children,i=(0,H.useDOM)().window,l=d.useRef(null),c=d.useRef(!0),u=(0,s._)(d.useState(0),2),v=u[0],m=u[1];(0,F.useGlobalEventListener)(i,"click",(function(){v>0&&m(0)}),{capture:!0});return d.createElement("div",{className:(0,a.classNames)("vkuiRemovable__content","vkuiInternalRemovable__content"),style:{transform:"translateX(-".concat(null!=v?v:0,"px)")},onTransitionEnd:function(){var e,t;v>0?null===(t=l)||void 0===t||null===(e=t.current)||void 0===e||e.focus():c.current=!0}},d.createElement(wa,{hasActive:!1,hasHover:!1,"aria-label":o,className:(0,a.classNames)("vkuiRemovable__action","vkuiRemovable__toggle"),onClick:function(e){if(e.stopPropagation(),l.current){var t=l.current.offsetWidth;c.current=!1,m(t)}},disabled:v>0},d.createElement("i",{className:"vkuiRemovable__toggle-in",role:"presentation"})),r,d.createElement("span",{className:"vkuiRemovable__offset","aria-hidden":!0}),d.createElement(xe,{Component:"button",hasActive:!1,hasHover:!1,disabled:c.current,getRootRef:l,className:"vkuiRemovable__remove",onClick:t},d.createElement("span",{className:"vkuiRemovable__remove-in"},n)))},Fa=function(e){var t=e.getRootRef,n=e.children,o=e.onRemove,r=void 0===o?a.noop:o,i=e.removePlaceholder,s=void 0===i?"Удалить":i,u=e.align,v=void 0===u?"center":u,m=e.className,f=e.indent,p=void 0!==f&&f,h=(0,c._)(e,["getRootRef","children","onRemove","removePlaceholder","align","className","indent"]),k=he(),_=fe(t),b=function(e){e.preventDefault(),r(e)},E=ve(s);return d.createElement("div",(0,M._)((0,l._)({},h),{ref:_,className:(0,a.classNames)(k===g.IOS&&"vkuiRemovable--ios","start"===v&&"vkuiRemovable--align-start",p&&"vkuiRemovable--indent",m)}),k!==g.IOS&&d.createElement("div",{className:(0,a.classNames)("vkuiRemovable__content","vkuiInternalRemovable__content")},n,d.createElement(wa,{activeMode:"opacity",hoverMode:"opacity",className:"vkuiRemovable__action",onClick:b,"aria-label":E},d.createElement(Gn.Icon24Cancel,{role:"presentation"})),d.createElement("span",{className:"vkuiRemovable__offset","aria-hidden":!0})),k===g.IOS&&d.createElement(Ha,{onRemove:b,removePlaceholder:s,removePlaceholderString:E},n))},Ya=n(636),Wa={s:Jt.Icon16Chevron,m:Ya.Icon24ChevronCompactRight},Va=function(e){var t=e.size,n=void 0===t?"m":t,a=(0,c._)(e,["size"]),o=Wa[n];return d.createElement(o,a)},Ga=((0,Xe.warnOnce)("SimpleCell"),{ios:(0,a.classNames)("vkuiSimpleCell--ios","vkuiInternalSimpleCell--ios"),android:"vkuiSimpleCell--android",vkcom:"vkuiSimpleCell--vkcom"}),Xa=(ba={none:(0,a.classNames)("vkuiSimpleCell--sizeY-none","vkuiInternalSimpleCell--sizeY-none")},(0,i._)(ba,B.COMPACT,(0,a.classNames)("vkuiSimpleCell--sizeY-compact","vkuiInternalSimpleCell--sizeY-compact")),(0,i._)(ba,B.REGULAR,"vkuiSimpleCell--sizeY-regular"),ba),Ua=function(e){var t=e.badgeBeforeTitle,n=e.badgeAfterTitle,o=e.badgeBeforeSubtitle,r=e.badgeAfterSubtitle,i=e.before,s=e.indicator,u=e.children,v=e.after,m=e.expandable,f=e.multiline,h=e.subhead,k=e.subtitle,_=e.extraSubtitle,b=e.className,E=e.chevronSize,C=void 0===E?"m":E,N=(0,c._)(e,["badgeBeforeTitle","badgeAfterTitle","badgeBeforeSubtitle","badgeAfterSubtitle","before","indicator","children","after","expandable","multiline","subhead","subtitle","extraSubtitle","className","chevronSize"]),y=he();var S="always"===m||(!0===m||"auto"===m)&&y===g.IOS,R=(0,a.hasReactNode)(v)||S,w=p().sizeY,I=void 0===w?"none":w;return d.createElement(xe,(0,M._)((0,l._)({},N),{className:(0,a.classNames)("vkuiSimpleCell","vkuiInternalSimpleCell",Ga.hasOwnProperty(y)?Ga[y]:Ga.android,Xa[I],f&&"vkuiSimpleCell--mult",b)}),i,d.createElement("div",{className:(0,a.classNames)("vkuiSimpleCell__main","vkuiInternalSimpleCell__main")},h&&d.createElement(ae,{Component:"span",className:(0,a.classNames)("vkuiSimpleCell__text","vkuiSimpleCell__subhead")},h),d.createElement("div",{className:"vkuiSimpleCell__content"},t&&d.createElement("span",{className:"vkuiSimpleCell__badge"},t),d.createElement(J,{Component:"span",className:"vkuiSimpleCell__children",weight:"3"},u),(0,a.hasReactNode)(n)&&d.createElement("span",{className:"vkuiSimpleCell__badge"},n)),k&&d.createElement("div",{className:"vkuiSimpleCell__content"},o&&d.createElement("span",{className:"vkuiSimpleCell__badge"},o),d.createElement(oe,{normalize:!1,className:(0,a.classNames)("vkuiSimpleCell__text","vkuiSimpleCell__subtitle")},k),r&&d.createElement("span",{className:"vkuiSimpleCell__badge"},r)),_&&d.createElement(oe,{normalize:!1,className:(0,a.classNames)("vkuiSimpleCell__text","vkuiSimpleCell__extraSubtitle")},_)),(0,a.hasReactNode)(s)&&d.createElement(J,{Component:"span",weight:"3",className:"vkuiSimpleCell__indicator"},s),R&&d.createElement("div",{className:(0,a.classNames)("vkuiSimpleCell__after","vkuiInternalSimpleCell__after")},v,S&&d.createElement(Va,{size:C,className:"vkuiSimpleCell__chevronIcon"})))},Ka=n(1483),qa=n(1484),ja=n(1485),Qa=n(1486),Za=n(1487),Ja=function(e){var t=e.IconCompact,n=e.IconRegular,a=Ct().sizeY;return d.createElement(d.Fragment,null,a.compact&&d.createElement(t,{className:a.compact.className}),a.regular&&d.createElement(n,{className:a.regular.className}))},$a=n(1029),eo=function(){return d.createElement(Ja,{IconCompact:Ka.Icon20CheckBoxOn,IconRegular:qa.Icon24CheckBoxOn})},to=function(){return d.createElement(Ja,{IconCompact:ja.Icon20CheckBoxOff,IconRegular:Qa.Icon24CheckBoxOff})};var no=function(e){var t=e.getRootRef,n=e.getRef,o=e.className,r=e.style,i=e.type,s=void 0===i?"auto":i,u=(0,c._)(e,["getRootRef","getRef","className","style","type"]),v=function(e){var t=he();return"auto"!==e?e:t===g.IOS||t===g.VKCOM?"circle":"square"}(s),m="circle"===v?Za.Icon24CheckCircleOff:to,f="circle"===v?Yn.Icon24CheckCircleOn:eo;return d.createElement("span",{className:(0,a.classNames)("vkuiCellCheckbox",o),style:r,ref:t},d.createElement($a.VisuallyHidden,(0,M._)((0,l._)({},u),{Component:"input",type:"checkbox",className:"vkuiCellCheckbox__input",getRootRef:n})),d.createElement("span",{className:(0,a.classNames)("vkuiCellCheckbox__icon","vkuiCellCheckbox__icon--off"),"aria-hidden":!0},d.createElement(m,null)),d.createElement("span",{className:(0,a.classNames)("vkuiCellCheckbox__icon","vkuiCellCheckbox__icon--on"),"aria-hidden":!0},d.createElement(f,null)))},ao=n(1481),oo=n(1482),ro=function(e){var t=e.onDragStart,n=e.onDragMove,o=e.onDragEnd,r=e.onClick,i=e.className,s=(0,c._)(e,["onDragStart","onDragMove","onDragEnd","onClick","className"]),u=he();return d.createElement(Re,(0,l._)({className:(0,a.classNames)("vkuiCellDragger",i),onStart:t,onMoveY:n,onEnd:o,onClick:function(e){e.preventDefault(),r&&r(e)}},s),u===g.IOS?d.createElement(ao.Icon24ReorderIos,null):d.createElement(oo.Icon24Reorder,null))},io=function(e){var t,n,o=e.mode,r=e.onRemove,i=void 0===r?a.noop:r,u=e.removePlaceholder,v=void 0===u?"Удалить":u,m=e.onDragFinish,f=e.before,p=e.after,h=e.disabled,k=e.draggable,_=e.Component,b=e.onChange,E=e.name,C=e.value,N=e.checked,y=e.defaultChecked,S=e.getRootRef,R=e.draggerLabel,w=void 0===R?"Перенести ячейку":R,I=e.className,A=e.style,O=(0,c._)(e,["mode","onRemove","removePlaceholder","onDragFinish","before","after","disabled","draggable","Component","onChange","name","value","checked","defaultChecked","getRootRef","draggerLabel","className","style"]),P="selectable"===o,T="removable"===o,D=P?"label":_,L=he(),x=fe(S),B=function(e){var t=e.rootElRef,n=e.onDragFinish,a=(0,s._)(d.useState(!1),2),o=a[0],r=a[1],i=(0,s._)(d.useState([]),2),l=i[0],c=i[1],u=(0,s._)(d.useState(0),2),v=u[0],m=u[1],f=(0,s._)(d.useState(0),2),p=f[0],h=f[1],k=(0,s._)(d.useState(0),2),g=k[0],_=k[1],b=(0,s._)(d.useState(void 0),2),E=b[0],C=b[1];return{onDragStart:function(e){var n,a=t.current;if(a){e.originalEvent.stopPropagation(),e.originalEvent.preventDefault(),r(!0);var o=[];(null===(n=a.parentElement)||void 0===n?void 0:n.childNodes)&&(o=Array.from(a.parentElement.children));var i=o.indexOf(a);m(i),h(i),c(o),_(0)}},onDragMove:function(e){e.originalEvent.stopPropagation(),e.originalEvent.preventDefault();var n=t.current;if(n){n.style.transform="translateY(".concat(e.shiftY,"px)");var a=n.getBoundingClientRect();C(g-e.shiftY<0?"down":"up"),_(e.shiftY),h(v),l.forEach((function(e,t){var n=e.getBoundingClientRect(),o=n.height/2,r=a.bottom>n.top+o,i=a.top<n.bottom-o;v<t?(r&&("down"===E&&(e.style.transform="translateY(-100%)"),h((function(e){return e+1}))),i&&"up"===E&&(e.style.transform="translateY(0)")):v>t&&(i&&("up"===E&&(e.style.transform="translateY(100%)"),h((function(e){return e-1}))),r&&"down"===E&&(e.style.transform="translateY(0)"))}))}},onDragEnd:function(e){e.originalEvent.stopPropagation(),e.originalEvent.preventDefault();var t=[v,p],a=t[0],o=t[1];l.forEach((function(e){e.style.transform=""})),c([]),h(0),m(0),C(void 0),_(0),r(!1),n&&n({from:a,to:o})},dragging:o}}({rootElRef:x,onDragFinish:m}),z=B.dragging,H=(0,c._)(B,["dragging"]),F=d.useContext(Ba).toggleDrag;if(d.useEffect((function(){if(z)return F(!0),function(){return F(!1)}}),[z,F]),k&&(t=d.createElement(ro,(0,l._)({className:"vkuiCell__dragger","aria-label":w},H))),P){var Y={name:E,value:C,onChange:b,defaultChecked:y,checked:N,disabled:h};n=d.createElement(no,(0,l._)({className:"vkuiCell__checkbox"},Y))}var W=k&&!P||T||h,V=!W&&!z,G=(0,a.classNames)("vkuiCell",L===g.IOS&&"vkuiCell--ios",z&&"vkuiCell--dragging",T&&"vkuiCell--removable","label"===D&&"vkuiCell--selectable",h&&"vkuiCell--disabled"),X=d.createElement(Ua,(0,M._)((0,l._)({hasActive:V,hasHover:V},O),{className:"vkuiCell__content",disabled:W,Component:D,before:d.createElement(d.Fragment,null,k&&L!==g.IOS&&t,P&&n,f),after:d.createElement(d.Fragment,null,k&&L===g.IOS&&t,p)}));return T?d.createElement(Fa,{className:(0,a.classNames)(G,I),style:A,getRootRef:x,removePlaceholder:v,onRemove:function(e){return i(e,x.current)}},X):d.createElement("div",{className:(0,a.classNames)(G,I),style:A,ref:x},X)};io.Checkbox=no;var lo=(0,i._)({none:"vkuiRichCell--sizeY-none"},B.COMPACT,"vkuiRichCell--sizeY-compact"),co=function(e){var t=e.subhead,n=e.children,o=e.text,r=e.caption,i=e.before,s=e.after,u=e.afterCaption,v=e.bottom,m=e.actions,f=e.multiline,h=e.className,k=(0,c._)(e,["subhead","children","text","caption","before","after","afterCaption","bottom","actions","multiline","className"]),g=p().sizeY,_=void 0===g?"none":g;return d.createElement(xe,(0,M._)((0,l._)({},k),{className:(0,a.classNames)("vkuiRichCell",!f&&"vkuiRichCell--text-ellipsis",_!==B.REGULAR&&lo[_],h)}),i&&d.createElement("div",{className:"vkuiRichCell__before"},i),d.createElement("div",{className:"vkuiRichCell__in"},d.createElement("div",{className:"vkuiRichCell__content"},d.createElement("div",{className:"vkuiRichCell__content-before"},t&&d.createElement(ae,{Component:"div",className:"vkuiRichCell__subhead"},t),d.createElement("div",{className:"vkuiRichCell__children"},n),o&&d.createElement("div",{className:"vkuiRichCell__text"},o),r&&d.createElement(ae,{Component:"div",className:"vkuiRichCell__caption"},r)),(s||u)&&d.createElement("div",{className:"vkuiRichCell__content-after"},s&&d.createElement("div",{className:"vkuiRichCell__after-children"},s),u&&d.createElement("div",{className:"vkuiRichCell__after-caption"},u))),v&&d.createElement("div",{className:"vkuiRichCell__bottom"},v),m&&d.createElement("div",{className:"vkuiRichCell__actions"},m)))};co.Icon=function(e){var t=e.children,n=e.className,o=(0,c._)(e,["children","className"]);return d.createElement("div",(0,M._)((0,l._)({},o),{className:(0,a.classNames)("vkuiRichCellIcon",n)}),t)};var so=function(e){var t=e.centered,n=void 0!==t&&t,o=e.mode,r=void 0===o?"primary":o,i=e.className,s=(0,c._)(e,["centered","mode","className"]);return d.createElement(Ua,(0,M._)((0,l._)({stopPropagation:!0},s),{className:(0,a.classNames)("vkuiCellButton","vkuiInternalCellButton","danger"===r&&(0,a.classNames)("vkuiCellButton--mode-danger","vkuiInternalCellButton--mode-danger"),n&&"vkuiCellButton--centered",i)}))},uo={stroke:"vkuiImageBaseBadge--background-stroke",shadow:"vkuiImageBaseBadge--background-shadow"},vo=d.createContext({size:0}),mo=function(e){var t=e.alt,n=e.crossOrigin,o=e.decoding,r=e.loading,i=e.referrerPolicy,u=e.sizes,v=e.src,m=e.srcSet,f=e.useMap,p=e.getRef,h=e.size,k=void 0===h?24:h,g=e.width,_=e.height,b=e.style,E=e.className,C=e.getRootRef,N=e.withBorder,y=void 0===N||N,S=e.fallbackIcon,R=e.children,w=e["aria-label"],I=e.onClick,A=e.onLoad,O=e.onError,P=(0,c._)(e,["alt","crossOrigin","decoding","loading","referrerPolicy","sizes","src","srcSet","useMap","getRef","size","width","height","style","className","getRootRef","withBorder","fallbackIcon","children","aria-label","onClick","onLoad","onError"]),T=(0,s._)(d.useState(!1),2),D=T[0],L=T[1],x=(0,s._)(d.useState(!1),2),B=x[0],z=x[1],H=v||m,F=(B||!H)&&d.isValidElement(S)?S:null;var Y=function(){switch(k){case 28:return"vkuiImageBase--size-28";case 32:return"vkuiImageBase--size-32";case 40:return"vkuiImageBase--size-40";case 48:return"vkuiImageBase--size-48";case 72:return"vkuiImageBase--size-72"}return null}();return d.createElement(vo.Provider,{value:{size:k}},d.createElement("div",(0,M._)((0,l._)({},P),{ref:C,style:(0,M._)((0,l._)({},b),{width:k,height:k}),className:(0,a.classNames)(E,"vkuiImageBase",Y,D&&"vkuiImageBase--loaded"),role:H?"img":"presentation","aria-label":w,onClick:I}),H&&d.createElement("img",{ref:p,alt:t,className:"vkuiImageBase__img",crossOrigin:n,decoding:o,loading:r,referrerPolicy:i,sizes:u,src:v,srcSet:m,useMap:f,width:g,height:_,onLoad:function(e){var t;L(!0),z(!1),null===(t=A)||void 0===t||t(e)},onError:function(e){var t;L(!1),z(!0),null===(t=O)||void 0===t||t(e)}}),F&&d.createElement("div",{className:(0,a.classNames)("vkuiImageBase__fallback")},F),R,y&&d.createElement("div",{"aria-hidden":!0,className:"vkuiImageBase__border"})))};mo.Badge=function(e){var t=e.background,n=void 0===t?"shadow":t,o=e.children,r=e.className,i=(0,c._)(e,["background","children","className"]);return d.createElement("div",(0,M._)((0,l._)({},i),{className:(0,a.classNames)("vkuiImageBaseBadge",uo[n],r)}),o)},mo.Overlay=function(e){var t=e.className,n=e.theme,o=e.visibility,r=e.children,i=e.onClick,s=(0,c._)(e,["className","theme","visibility","children","onClick"]),u=w(),v=ce(),m=null!=n?n:u,f=null!=o?o:v?"on-hover":"always";return d.createElement(xe,(0,M._)((0,l._)({},s),{type:"button",Component:"button",className:(0,a.classNames)("vkuiImageBaseOverlay","always"===f&&"vkuiImageBaseOverlay--visible","light"===m&&"vkuiImageBaseOverlay--theme-light","dark"===m&&"vkuiImageBaseOverlay--theme-dark",t),hasHover:"on-hover"===f,hoverMode:"on-hover"===f?"vkuiImageBaseOverlay--visible":void 0,focusVisibleMode:"vkuiImageBaseOverlay--focus-visible",hasActive:!1,onClick:i}),r)};function fo(e){return e<=36?12:e>36&&e<=48?16:e>48&&e<=64?20:fo.MAX_SIZE}fo.MAX_SIZE=24;var po=n(637),ho=n(638),ko=function(e){var t=e.width,n=void 0===t?12:t,a=e.height,o=void 0===a?12:a,r=(0,c._)(e,["width","height"]);return d.createElement(po.Icon12Circle,(0,M._)((0,l._)({},r),{width:n>=24?15:12,height:o>=24?15:12}))},go=function(e){var t=e.width,n=void 0===t?8:t,a=e.height,o=void 0===a?12:a,r=(0,c._)(e,["width","height"]);return d.createElement(ho.Icon12OnlineMobile,(0,M._)((0,l._)({},r),{width:n>=24?9:8,height:o>=24?15:12}))};function _o(e){if(e<=16)return 5;if(e<=24)return 8;if(e<=32)return 10;if(e<=36)return 13;if(e<=44)return 14;if(e<=48)return 17;if(e<56)return 18;if(e<=64)return 21;if(e<=88)return 26;if(e<=96)return 30;var t=Math.ceil(.3125*e);return t+t%2}var bo={1:"red",2:"orange",3:"yellow",4:"green",5:"l-blue",6:"violet"},Eo={red:"vkuiAvatar--gradient-red",orange:"vkuiAvatar--gradient-orange",yellow:"vkuiAvatar--gradient-yellow",green:"vkuiAvatar--gradient-green",blue:"vkuiAvatar--gradient-blue","l-blue":"vkuiAvatar--gradient-l-blue",violet:"vkuiAvatar--gradient-violet"},Co=function(e){var t=e.size,n=void 0===t?48:t,o=e.className,r=e.gradientColor,i=e.initials,s=e.fallbackIcon,u=e.children,v=(0,c._)(e,["size","className","gradientColor","initials","fallbackIcon","children"]),m="number"==typeof r?bo[r]:r,f=m&&"custom"!==m,p=i?void 0:s;return d.createElement(mo,(0,M._)((0,l._)({},v),{size:n,fallbackIcon:p,className:(0,a.classNames)("vkuiAvatar",m&&"vkuiAvatar--has-gradient",f&&Eo[m],o)}),i&&d.createElement("div",{className:"vkuiAvatar__initials",style:{fontSize:_o(n)}},i),u)};Co.Badge=function(e){var t=e.className,n=(0,c._)(e,["className"]),o=d.useContext(vo).size;return d.createElement(mo.Badge,(0,M._)((0,l._)({},n),{className:(0,a.classNames)("vkuiAvatarBadge",o<96&&"vkuiAvatarBadge--shifted",t)}))},Co.BadgeWithPreset=function(e){var t=e.preset,n=void 0===t?"online":t,o=e.className,r=(0,c._)(e,["preset","className"]),i=fo(d.useContext(vo).size),s="online"===n,u=s?"vkuiAvatarBadge--preset-online":"vkuiAvatarBadge--preset-onlineMobile",v=s?ko:go;return d.createElement(mo.Badge,(0,l._)({background:"stroke",className:(0,a.classNames)("vkuiAvatarBadge",u,o)},r),d.createElement(v,{width:i,height:i}))},Co.Overlay=mo.Overlay;var No=function(e){var t=e.size,n=e.children,a=(0,c._)(e,["size","children"]);return"s"===t?d.createElement(re,a,n):d.createElement(ae,a,n)},yo=function(e){var t=e.className,n=e.header,o=e.style,r=e.subtitle,i=e.size,s=void 0===i?"s":i,u=e.children,v=void 0===u?d.createElement(Co,{size:56}):u,m=e.getRootRef,f=e.getRef,p=e.extraSubtitle,h=(0,c._)(e,["className","header","style","subtitle","size","children","getRootRef","getRef","extraSubtitle"]);return d.createElement("div",{ref:m,style:o,className:(0,a.classNames)("vkuiHorizontalCell",{s:"vkuiHorizontalCell--size-s",m:"vkuiHorizontalCell--size-m",l:"vkuiHorizontalCell--size-l"}[s],t)},d.createElement(xe,(0,l._)({className:"vkuiHorizontalCell__body",getRootRef:f},h),(0,a.hasReactNode)(v)&&d.createElement("div",{className:"vkuiHorizontalCell__image"},v),d.createElement("div",{className:"vkuiHorizontalCell__content"},(0,a.hasReactNode)(n)&&d.createElement(No,{size:s},n),(0,a.hasReactNode)(r)&&d.createElement(oe,{className:"vkuiHorizontalCell__subtitle"},r),(0,a.hasReactNode)(p)&&d.createElement(oe,{className:"vkuiHorizontalCell__subtitle"},p))))},So=function(e){var t=e.children,n=e.className,o=(0,c._)(e,["children","className"]);return d.createElement(oe,(0,M._)((0,l._)({Component:"footer"},o),{className:(0,a.classNames)("vkuiFooter",n)}),t)},Ro=function(e){var t=e.header,n=e.children,o=e.className,r=(0,c._)(e,["header","children","className"]);return d.createElement(J,(0,M._)((0,l._)({},r),{Component:"span",className:(0,a.classNames)("vkuiInfoRow",o),weight:"3"}),(0,a.hasReactNode)(t)&&d.createElement(ae,{Component:"strong",className:"vkuiInfoRow__header"},t,d.createElement($a.VisuallyHidden,null," ")),n)},wo=function(e){var t=e.containerWidth,n=void 0===t?0:t,a=e.layerWidth,o=void 0===a?0:a,r=e.slides,i=void 0===r?[]:r,l=e.viewportOffsetWidth,c=void 0===l?0:l,s=e.align,u=e.isCenterWithCustomWidth;switch(s){case"left":return n-o;case"right":return c-o;case"center":if(u&&i.length){var d=i[i.length-1];return c/2-d.coordX-d.width/2}return c-(n-c)/2-o}},Mo=function(e){var t=e.slides,n=void 0===t?[]:t,a=e.viewportOffsetWidth,o=void 0===a?0:a;if(e.isCenterWithCustomWidth&&n.length){var r=n[0],i=r.width;return o/2-r.coordX-i/2}return 0},Io={containerWidth:0,viewportOffsetWidth:0,layerWidth:0,min:0,max:0,slides:[],isFullyVisible:!0},Ao={animation:void 0,shiftX:0,dragging:!1,deltaX:0,indent:0},Oo=function(e){var t=e.bullets,n=void 0!==t&&t,o=e.getRootRef,r=e.children,i=e.slideWidth,u=void 0===i?"100%":i,v=e.slideIndex,m=void 0===v?0:v,f=e.isDraggable,p=void 0===f||f,h=e.onDragStart,k=e.onDragEnd,g=e.onChange,_=e.onPrevClick,b=e.onNextClick,E=e.align,C=void 0===E?"left":E,N=e.showArrows,y=e.getRef,S=e.className,R=e.arrowSize,w=void 0===R?"l":R,A=(0,c._)(e,["bullets","getRootRef","children","slideWidth","slideIndex","isDraggable","onDragStart","onDragEnd","onChange","onPrevClick","onNextClick","align","showArrows","getRef","className","arrowSize"]),O=d.useRef({}),P=d.useRef(Io),T=(0,s._)(d.useState(Ao),2),D=T[0],L=T[1],x=fe(o),B=fe(y),z=(0,H.useDOM)().window,Y=ce(),W="custom"===u&&"center"===C,V=function(e){var t,n,a=null!==(t=P.current.max)&&void 0!==t?t:0,o=null!==(n=P.current.min)&&void 0!==n?n:0;return e<o?o:e>a?a:e},G=function(e){var t;if(P.current.isFullyVisible)return 0;var n=(null===(t=P.current.slides)||void 0===t?void 0:t.length)?P.current.slides[e]:null;if(n){var a,o=n.coordX,r=n.width;return W?(null!==(a=P.current.viewportOffsetWidth)&&void 0!==a?a:0)/2-o-r/2:V(-1*o)}return 0},X=function(){var e,t,n=null!==(e=P.current.max)&&void 0!==e?e:0,a=null!==(t=P.current.min)&&void 0!==t?t:0,o=D.shiftX+D.deltaX;return o>n?n+Number((o-n)/3):o<a?a+Number((o-a)/3):o},U=function(){var e,t,n,a,o,i,c,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=null!==(o=d.Children.map(r,(function(e,t){var n,a,o,r,i=O.current["slide-".concat(t)];return{coordX:null!==(o=null===(n=i)||void 0===n?void 0:n.offsetLeft)&&void 0!==o?o:0,width:null!==(r=null===(a=i)||void 0===a?void 0:a.offsetWidth)&&void 0!==r?r:0}})))&&void 0!==o?o:[],f=null!==(i=null===(e=x.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==i?i:0,p=null!==(c=null===(t=B.current)||void 0===t?void 0:t.offsetWidth)&&void 0!==c?c:0,h=v.reduce((function(e,t){return t.width+e}),0),k=v.length<=P.current.slides.length||(null===(n=P.current.slides[m])||void 0===n?void 0:n.coordX)!==(null===(a=v[m])||void 0===a?void 0:a.coordX);P.current={containerWidth:f,viewportOffsetWidth:p,layerWidth:h,max:Mo({slides:v,viewportOffsetWidth:p,isCenterWithCustomWidth:W}),min:wo({containerWidth:f,layerWidth:h,slides:v,viewportOffsetWidth:p,isCenterWithCustomWidth:W,align:C}),slides:v,isFullyVisible:h<=f},L((function(e){return(0,M._)((0,l._)({},e),{shiftX:k?G(m):e.shiftX,animation:null!==(s=u.animation)&&void 0!==s?s:e.shiftX===V(e.shiftX)})}))};(0,F.useGlobalEventListener)(z,"resize",(function(){void 0!==D.animation&&U({animation:!1})})),(0,I.useIsomorphicLayoutEffect)((function(){U({animation:!1})}),[r,C,u]),(0,I.useIsomorphicLayoutEffect)((function(){void 0!==D.animation&&L((function(e){return(0,M._)((0,l._)({},e),{animation:!0,deltaX:0,shiftX:G(null!=m?m:0)})}))}),[m]);var K,q=D.dragging?X():D.shiftX,j={WebkitTransform:"translateX(".concat(q,"px)"),transform:"translateX(".concat(q,"px)"),WebkitTransition:D.animation?"-webkit-transform ".concat(.24,"s cubic-bezier(.1, 0, .25, 1)"):"none",transition:D.animation?"transform ".concat(.24,"s cubic-bezier(.1, 0, .25, 1)"):"none"},Q=!P.current.isFullyVisible&&D.shiftX<0,Z=!P.current.isFullyVisible&&("left"===C&&P.current.containerWidth-D.shiftX<(null!==(K=P.current.layerWidth)&&void 0!==K?K:0)||"left"!==C&&m<P.current.slides.length-1),J=p&&!P.current.isFullyVisible;return d.createElement("div",(0,M._)((0,l._)({},A),{className:(0,a.classNames)("vkuiBaseGallery","center"===C&&"vkuiBaseGallery--align-center","custom"===u&&"vkuiBaseGallery--custom-width",J&&"vkuiBaseGallery--draggable",S),ref:x}),d.createElement(Re,{className:"vkuiBaseGallery__viewport",onStartX:function(e){var t;null===(t=h)||void 0===t||t(e),L((function(e){return(0,M._)((0,l._)({},e),{animation:!1})}))},onMoveX:function(e){p&&!P.current.isFullyVisible&&(e.originalEvent.preventDefault(),e.isSlideX&&D.deltaX!==e.shiftX&&L((function(t){return(0,M._)((0,l._)({},t),{deltaX:e.shiftX,dragging:e.isSlideX})})))},onEnd:function(e){var t,n=e.isSlide?function(e){var t,n=D.deltaX/e.duration*240*.6,a=D.shiftX+D.deltaX+n-(null!==(t=P.current.max)&&void 0!==t?t:0),o=D.deltaX<0?1:-1,r=P.current.slides.reduce((function(e,t,n){return Math.abs(P.current.slides[e].coordX+a)<Math.abs(t.coordX+a)?e:n}),m);if(r===m){var i=m+o;i>=0&&i<P.current.slides.length&&Math.abs(D.deltaX)>.05*P.current.slides[i].width&&(r=i)}return r}(e):null!=m?m:0;null===(t=k)||void 0===t||t(e,n);var a,o={animation:!0,dragging:!1,deltaX:0},r=X();(n!==m&&(o.shiftX=r),L((function(e){return(0,l._)({},e,o)})),n!==m)&&(null===(a=g)||void 0===a||a(n))},style:{width:"custom"===u?"100%":u},getRootRef:B,noSlideClick:!0},d.createElement("div",{className:"vkuiBaseGallery__layer",style:j},d.Children.map(r,(function(e,t){return d.createElement("div",{className:"vkuiBaseGallery__slide",key:"slide-".concat(t),ref:function(e){return function(e,t){O.current["slide-".concat(t)]=e}(e,t)}},e)})))),n&&d.createElement("div",{"aria-hidden":!0,className:(0,a.classNames)("vkuiBaseGallery__bullets",{dark:"vkuiBaseGallery__bullets--dark",light:"vkuiBaseGallery__bullets--light"}[n])},d.Children.map(r,(function(e,t){return d.createElement("div",{className:(0,a.classNames)("vkuiBaseGallery__bullet",t===m&&"vkuiBaseGallery__bullet--active"),key:t})}))),N&&Y&&Q&&d.createElement(nn,{className:"vkuiBaseGallery__arrow",direction:"left",onClick:function(e){var t,n;null===(t=g)||void 0===t||t(m-1),null===(n=_)||void 0===n||n(e)},size:w}),N&&Y&&Z&&d.createElement(nn,{className:"vkuiBaseGallery__arrow",direction:"right",onClick:function(e){var t,n;null===(t=g)||void 0===t||t(m+1),null===(n=b)||void 0===n||n(e)},size:w}))},Po=function(e){var t,n=e.initialSlideIndex,a=void 0===n?0:n,o=e.children,r=e.timeout,i=void 0===r?0:r,u=e.onChange,v=e.bullets,m=(0,c._)(e,["initialSlideIndex","children","timeout","onChange","bullets"]),f=(0,s._)(d.useState(a),2),p=f[0],h=f[1],k="number"==typeof m.slideIndex,g=k?null!==(t=m.slideIndex)&&void 0!==t?t:0:p,_=!k||Boolean(u),b=d.useMemo((function(){return d.Children.toArray(o).filter((function(e){return Boolean(e)}))}),[o]),E=b.length,C=d.useCallback((function(e){e!==g&&(!k&&h(e),u&&u(e))}),[k,u,g]),N=ke((function(){return C((g+1)%E)}),i);d.useEffect((function(){return i?N.set():N.clear()}),[i,g,N]);var y=E>0?(0,ea.clamp)(g,0,E-1):g;return d.useEffect((function(){u&&y!==g&&u(y),h(y)}),[u,y,g]),d.createElement(Oo,(0,M._)((0,l._)({isDraggable:_},m),{bullets:E>0&&v,slideIndex:y,onChange:C}),b)},To=function(e){var t,n=e.size,a=void 0===n?48:n,o=e.borderRadius,r=void 0===o?"m":o,i=e.style,s=e.className,u=(0,c._)(e,["size","borderRadius","style","className"]);switch(r){case"s":a<=32?t=2:a<=56&&(t=3),t=4;break;case"m":a<=32?t=3:a<=48?t=4:a<=72?t=6:a<=80&&(t=8),t=10;break;case"l":a<=16?t=4:a<=20?t=5:a<=32?t=6:a<=40?t=8:a<=48?t=10:a<=56?t=12:a<=64&&(t=14),t=16}return d.createElement(mo,(0,M._)((0,l._)({},u),{size:a,style:(0,M._)((0,l._)({},i),{borderRadius:t}),className:s}))};To.Badge=function(e){var t=e.className,n=(0,c._)(e,["className"]),o=d.useContext(vo).size;return d.createElement(mo.Badge,(0,M._)((0,l._)({},n),{className:(0,a.classNames)("vkuiImageBadge",o<96&&"vkuiImageBadge--shifted",t)}))},To.Overlay=mo.Overlay;var Do=function(e){var t=e.value,n=void 0===t?0:t,o=e.getRootRef,r=e.className,i=e.appearance,s=void 0===i?"accent":i,u=(0,c._)(e,["value","getRootRef","className","appearance"]),v=(0,ea.clamp)(n,0,100),m="".concat(v," / ").concat(100);return d.createElement("div",(0,M._)((0,l._)({"aria-valuenow":n,title:m},u),{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,ref:o,className:(0,a.classNames)("vkuiProgress",{accent:"vkuiProgress--appearance-accent",positive:"vkuiProgress--appearance-positive",negative:"vkuiProgress--appearance-negative"}[s],r)}),d.createElement("div",{className:"vkuiProgress__in",style:{width:"".concat(v,"%")}}))},Lo=n(1035),xo=n(1488);function Bo(e){var t=e.onChange,n=e.disabled,a=(0,c._)(e,["onChange","disabled"]),o=(0,s._)(zo(a),2),r=o[0],i=o[1];return[r,d.useCallback((function(e){n||(i(e.target.value),t&&t(e))}),[i,t,n])]}function zo(e){var t=e.disabled,n=e.onChange,a=e.defaultValue,o=e.value,r=void 0!==o,i=(0,s._)(d.useState(a),2),l=i[0],c=i[1],u=d.useCallback((function(e){t||(!r&&c(e),n&&n(e))}),[t,r,n]);return[r?o:l,u]}var Ho=function(e){var t=e.before,n=void 0===t?d.createElement(Lo.Icon16SearchOutline,null):t,o=e.className,r=e.defaultValue,i=void 0===r?"":r,u=e.placeholder,v=void 0===u?"Поиск":u,m=e.after,f=void 0===m?"Отмена":m,h=e.getRef,k=e.icon,_=e.onIconClick,b=void 0===_?a.noop:_,E=e.style,C=e.autoComplete,N=void 0===C?"off":C,y=e.onChange,S=e.value,R=e.iconAriaLabel,w=e.clearAriaLabel,I=void 0===w?"Очистить":w,A=(0,c._)(e,["before","className","defaultValue","placeholder","after","getRef","icon","onIconClick","style","autoComplete","onChange","value","iconAriaLabel","clearAriaLabel"]),O=fe(h),P=se(!1),T=P.value,D=P.setTrue,L=P.setFalse,x=(0,s._)(Bo({defaultValue:i,onChange:y,value:S}),2),z=x[0],H=x[1],F=p().sizeY,Y=void 0===F?"none":F,W=he(),V=d.useCallback((function(){var e,t,n;null===(t=null===(e=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"))||void 0===e?void 0:e.set)||void 0===t||t.call(O.current,"");var a=new Event("input",{bubbles:!0});null===(n=O.current)||void 0===n||n.dispatchEvent(a)}),[O]),G=d.useCallback((function(e){return b(e.originalEvent)}),[b]),X=d.useCallback((function(e){var t;e.originalEvent.preventDefault(),null===(t=O.current)||void 0===t||t.focus()}),[O]);return d.createElement("div",{className:(0,a.classNames)("vkuiInternalSearch","vkuiSearch","none"===Y&&"vkuiSearch--sizeY-none",Y===B.COMPACT&&"vkuiSearch--sizeY-compact",T&&"vkuiSearch--focused",z&&"vkuiSearch--has-value",f&&"vkuiSearch--has-after",k&&"vkuiSearch--has-icon",A.disabled&&"vkuiSearch--disabled",o),style:E},d.createElement("div",{className:"vkuiSearch__field"},d.createElement("label",{className:"vkuiSearch__control"},n,d.createElement(J,(0,M._)((0,l._)({Component:"input",type:"search",level:"1",weight:"3"},A),{placeholder:v,autoComplete:N,getRootRef:O,className:"vkuiSearch__input",onFocus:function(e){D(),A.onFocus&&A.onFocus(e)},onBlur:function(e){L(),A.onBlur&&A.onBlur(e)},onChange:H,value:z}))),d.createElement("div",{className:"vkuiSearch__icons"},k&&d.createElement(wa,{hoverMode:"opacity",onStart:G,className:"vkuiSearch__icon",onFocus:D,onBlur:L,"aria-label":R},k),!!z&&d.createElement(wa,{hoverMode:"opacity",onStart:X,onClick:V,className:"vkuiSearch__icon","aria-label":I},W===g.IOS?d.createElement(xo.Icon16Clear,null):d.createElement(Gn.Icon24Cancel,null)))),W===g.IOS&&f&&d.createElement(Ve,{mode:"tertiary",size:"m",className:"vkuiSearch__after",focusVisibleMode:"inside",onClick:V,onFocus:D,onBlur:L},d.createElement("span",{className:"vkuiSearch__afterText"},f)))},Fo=d.createContext({mode:"default",withGaps:!1}),Yo=function(e){var t=e.children,n=e.mode,o=void 0===n?"default":n,r=e.getRootRef,i=e.className,s=e.role,u=void 0===s?"tablist":s,v=(0,c._)(e,["children","mode","getRootRef","className","role"]),m=he(),f=(0,H.useDOM)().document,p="tablist"===u,h=d.useRef(null),k="accent"===o||"secondary"===o,_=function(){return h.current?Array.from(h.current.querySelectorAll("[role=tab]:not([disabled])")):[]};return(0,F.useGlobalEventListener)(f,"keydown",(function(e){if(f&&h.current&&p){var t=D(e);switch(t){case"ArrowLeft":case"ArrowRight":case"End":case"Home":var n=_(),a=n.findIndex((function(e){return f.activeElement===e}));if(-1===a)return;var o=0;if("Home"===t)o=0;else if("End"===t)o=n.length-1;else{o=a+("ArrowRight"===t?1:-1)}var r=n[o];r&&(e.preventDefault(),r.focus());break;case"ArrowDown":var i=_().find((function(e){return f.activeElement===e}));if(!i||"true"!==i.getAttribute("aria-selected"))return;var l=i.getAttribute("aria-controls");if(!l)return;var c=f.getElementById(l);if(!c)return;e.preventDefault(),c.focus();break;case"Space":case"Enter":var s=_().find((function(e){return f.activeElement===e}));s&&s.click()}}}),{capture:!0}),d.createElement("div",(0,M._)((0,l._)({},v),{ref:r,className:(0,a.classNames)("vkuiTabs","vkuiInternalTabs",m===g.VKCOM&&"vkuiInternalTabs--vkcom",k&&(0,a.classNames)("vkuiTabs--withGaps","vkuiInternalTabs--withGaps"),"default"===o&&"vkuiTabs--mode-default",i),role:u}),d.createElement("div",{className:"vkuiTabs__in",ref:h},d.createElement(Fo.Provider,{value:{mode:o,withGaps:k}},t)))},Wo=(0,i._)({none:"vkuiTabsItem--sizeY-none"},B.COMPACT,"vkuiTabsItem--sizeY-compact"),Vo=((0,Xe.warnOnce)("TabsItem"),function(e){var t=e.before,n=e.children,o=e.status,r=e.after,i=e.selected,s=void 0!==i&&i,u=e.className,v=e.role,m=void 0===v?"tab":v,f=e.tabIndex,h=(0,c._)(e,["before","children","status","after","selected","className","role","tabIndex"]),k=p().sizeY,g=void 0===k?"none":k,_=d.useContext(Fo),b=_.mode,E=_.withGaps,C=null,N="tab"===m;o&&(C="number"==typeof o?d.createElement(ae,{Component:"span",className:(0,a.classNames)("vkuiTabsItem__status","vkuiTabsItem__status--count"),weight:"2"},d.createElement($a.VisuallyHidden,null," "),o):d.createElement("span",{className:"vkuiTabsItem__status"},d.createElement($a.VisuallyHidden,null," "),o));var y=f;return N&&void 0===y&&(y=s?0:-1),d.createElement(xe,(0,M._)((0,l._)({},h),{className:(0,a.classNames)("vkuiTabsItem",b&&{default:"vkuiTabsItem--mode-default",accent:"vkuiTabsItem--mode-accent",secondary:"vkuiTabsItem--mode-secondary"}[b],s&&"vkuiTabsItem--selected",g!==B.REGULAR&&Wo[g],E&&"vkuiTabsItem--withGaps",u),hoverMode:"vkuiTabsItem--hover",activeMode:"",focusVisibleMode:"inside",hasActive:!1,role:m,"aria-selected":s,tabIndex:y}),t&&d.createElement("div",{className:"vkuiTabsItem__before"},t),d.createElement(J,{Component:"span",className:"vkuiTabsItem__label",level:"default"===b?"1":"2",weight:"2"},n),C,r&&d.createElement("div",{className:"vkuiTabsItem__after"},r),"default"===b&&d.createElement("div",{className:"vkuiTabsItem__underline","aria-hidden":!0,"data-selected":s}))});var Go=function(e){var t=e.on,n=void 0===t||t,o=e.size,r=void 0===o?24:o,i=e.strokeWidth,l=void 0===i?2.5:i,c=e.style,s=e.progress,u=void 0===s?0:s,v=e["aria-label"],m=void 0===v?"Пожалуйста, подождите...":v,f=.5*r-.5*l,p=2*Math.PI*f,h=.5*r,k=function(e,t){var n=e/100;return 2*Math.PI*t*(1-n)}(n?80:u,f);return d.createElement("div",{className:(0,a.classNames)("vkuiPullToRefresh__spinner",n&&"vkuiPullToRefresh__spinner--on"),style:c,"aria-label":n?m:void 0},d.createElement("svg",{role:"presentation",className:"vkuiPullToRefresh__spinner-self",style:{width:r,height:r},viewBox:"0 0 ".concat(r," ").concat(r),xmlns:"http://www.w3.org/2000/svg"},d.createElement("g",{style:{width:r,height:r,transformOrigin:"".concat(h,"px ").concat(h,"px")}},d.createElement("circle",{className:"vkuiPullToRefresh__spinner-path",fill:"none",strokeDasharray:p,strokeDashoffset:k,strokeWidth:l,strokeLinecap:"round",cx:h,cy:h,r:f}))))};function Xo(e){if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}var Uo={cancelable:!0,passive:!1},Ko=function(e){var t=e.children,n=e.isFetching,o=e.onRefresh,r=e.className,i=(0,c._)(e,["children","isFetching","onRefresh","className"]),u=he(),v=(0,X.useScroll)(),m=(0,H.useDOM)().document,f=Ze(n),p=d.useMemo((function(){return{start:u===g.IOS?-10:-45,max:u===g.IOS?50:80,maxY:u===g.IOS?400:80,refreshing:u===g.IOS?36:50,positionMultiplier:u===g.IOS?.21:1}}),[u]),h=(0,s._)(d.useState(p.start),2),_=h[0],b=h[1],E=(0,s._)(d.useState(!1),2),C=E[0],N=E[1],y=(0,s._)(d.useState(!1),2),S=y[0],R=y[1],w=(0,s._)(d.useState(!1),2),A=w[0],O=w[1],P=(0,s._)(d.useState(!1),2),T=P[0],D=P[1],L=Ze(T),x=d.useRef(0),B=(0,s._)(d.useState(0),2),z=B[0],Y=B[1],W=(0,s._)(d.useState(0),2),V=W[0],G=W[1];(0,F.useGlobalEventListener)(m,"touchmove",(function(e){S&&(e.preventDefault(),e.stopPropagation())}),Uo);var U=d.useCallback((function(){N(!1),O(!1),R(!1),b(p.start),G(0),Y(0)}),[p]),K=d.useCallback((function(){T||U()}),[T,U]),q=ke(K,1e3),j=q.set,Q=q.clear;(0,I.useIsomorphicLayoutEffect)((function(){void 0!==f&&f&&!n&&K()}),[f,n,K]),(0,I.useIsomorphicLayoutEffect)((function(){void 0!==f&&!f&&n&&Q()}),[n,f,Q]);var Z=d.useCallback((function(){var e;!S&&o&&(j(),R(!0),b((function(e){return u===g.IOS?e:p.refreshing})),o(),e="light",k().supports("VKWebAppTapticImpactOccurred")&&k().send("VKWebAppTapticImpactOccurred",{style:e}).catch((function(){})))}),[S,o,j,u,p.refreshing]);(0,I.useIsomorphicLayoutEffect)((function(){void 0!==L&&L&&!T&&(!S&&A?Z():S&&!n?U():(b(S?p.refreshing:p.start),G(0),Y(0)))}),[p,f,n,K,L,T,S,A,Z]);var J="translate3d(0, ".concat(_,"px, 0)"),$="";return u===g.IOS&&S&&!T?$="translate3d(0, 100px, 0)":u===g.IOS&&(z||S)&&($="translate3d(0, ".concat(z,"px, 0)")),d.createElement(we.Provider,{value:!0},d.createElement(Re,(0,M._)((0,l._)({},i),{onStart:function(e){S&&Xo(e),D(!0)},onMove:function(e){var t,n=e.isY,a=e.shiftY,o=p.start,r=p.max,i=null===(t=v)||void 0===t?void 0:t.getScroll().y;if(C&&T){Xo(e);var l=p.positionMultiplier,c=p.maxY,s=Math.max(0,a-x.current),d=(0,ea.clamp)(o+s*l,o,c),m=d>-10?80*Math.abs((d+10)/r):0;b(d),G((0,ea.clamp)(m,0,80)),O(m>80),Y(2.3*(d+10)),m>85&&!S&&u===g.IOS&&Z()}else n&&0===i&&a>0&&!S&&T&&(Xo(e),x.current=a,N(!0),b(o),G(0))},onEnd:function(){N(!1),D(!1)},className:(0,a.classNames)("vkuiPullToRefresh",u===g.IOS&&"vkuiPullToRefresh--ios",C&&"vkuiPullToRefresh--watching",S&&"vkuiPullToRefresh--refreshing",r)}),d.createElement(Fe,{className:"vkuiPullToRefresh__controls",useParentWidth:!0},d.createElement(Go,{style:{transform:J,WebkitTransform:J,opacity:C||S||A?1:0},on:S,progress:S?void 0:V})),d.createElement("div",{className:"vkuiPullToRefresh__content",style:{transform:$,WebkitTransform:$}},t)))},qo=function(e){var t=e.hasVisited,n=e.children,o=e.className,r=(0,c._)(e,["hasVisited","children","className"]);return d.createElement(xe,(0,M._)((0,l._)({Component:r.href?"a":"button"},r),{className:(0,a.classNames)("vkuiLink",t&&"vkuiLink--has-visited",o),hasHover:!1,activeMode:"opacity",focusVisibleMode:"vkuiLink--focus-visible"}),n)},jo=function(e){return d.isValidElement(e)&&"string"==typeof e.type},Qo=((0,Xe.warnOnce)("Tooltip"),{accent:"vkuiTooltip--appearance-accent",white:"vkuiTooltip--appearance-white",black:"vkuiTooltip--appearance-black",inversion:"vkuiTooltip--appearance-inversion"});function Zo(e){switch(e){case"left":return"start";case"right":return"end";default:return""}}var Jo=function(e){var t=e.children,n=e.isShown,o=void 0===n||n,r=e.offsetX,u=void 0===r?0:r,v=e.offsetY,m=void 0===v?15:v,f=e.alignX,p=e.alignY,h=e.onClose,k=e.cornerOffset,g=void 0===k?0:k,_=e.cornerAbsoluteOffset,b=e.appearance,E=void 0===b?"accent":b,C=e.arrow,N=void 0===C||C,y=e.arrowPadding,S=void 0===y?14:y,R=e.ArrowIcon,w=void 0===R?Tn:R,I=e.placement,A=e.text,O=e.header,P=e.className,T=(0,c._)(e,["children","isShown","offsetX","offsetY","alignX","alignY","onClose","cornerOffset","cornerAbsoluteOffset","appearance","arrow","arrowPadding","ArrowIcon","placement","text","header","className"]),D=(0,s._)(d.useState(null),2),L=D[0],x=D[1],B=(0,s._)(d.useState(null),2),z=B[0],Y=B[1],W=d.useMemo((function(){var e;return null===(e=z)||void 0===e?void 0:e.closest("[".concat(ze,"]"))}),[z]),V=qe().entering,G=o&&W&&!V,X=I||function(e,t){return[t||"bottom",Zo(e||"left")].filter((function(e){return!!e})).join("-")}(f,p),U=yn(X),K=d.useMemo((function(){var e;return"fixed"===(null===(e=z)||void 0===e?void 0:e.style.position)?"fixed":"absolute"}),[z]);var q=d.useMemo((function(){var e=[(0,wn.offset)({crossAxis:u,mainAxis:m})];return U?e.push((0,wn.flip)()):e.push((0,wn.autoPlacement)({alignment:X?Sn(X):null})),e.push((0,wn.shift)()),N&&(e.push((0,Mn.arrow)({element:L,padding:S})),e.push({name:"arrowOffset",fn:function(e){var t=e.placement,n=e.middlewareData;return n.arrow?(!function(e){return e.startsWith("top")||e.startsWith("bottom")}(t)?void 0!==_?n.arrow.y=_:void 0!==n.arrow.y&&(n.arrow.y+=g):void 0!==_?n.arrow.x=_:void 0!==n.arrow.x&&(n.arrow.x+=g),Promise.resolve({})):Promise.resolve({})}})),e}),[N,L,S,_,g,u,m,X,U]),j=(0,Mn.useFloating)({strategy:K,placement:U?X:void 0,middleware:q,whileElementsMounted:Pn}),Q=j.x,Z=j.y,J=j.placement,$=j.refs,ee=j.middlewareData.arrow,te=(0,H.useDOM)().document;(0,F.useGlobalEventListener)(te,"click",G&&h,{capture:!0,passive:!0});var ne=jo(t)?t.ref:d.isValidElement(t)?t.props.getRootRef:null,oe=fe(Y,$.setReference,ne),re=d.isValidElement(t)?d.cloneElement(t,(0,i._)({},jo(t)?"ref":"getRootRef",oe)):t;return d.createElement(d.Fragment,null,re,G&&null!=z&&Ht.createPortal(d.createElement("div",(0,M._)((0,l._)({},T),{className:(0,a.classNames)("vkuiTooltip","neutral"!==E&&Qo[E],P)}),d.createElement("div",{ref:$.setFloating,style:Rn(K,Q,Z)},N&&d.createElement(Ln,{coords:ee,placement:J,arrowClassName:"vkuiTooltip__arrow",getRootRef:x,Icon:w}),d.createElement("div",{className:"vkuiTooltip__content"},O&&d.createElement(ae,{weight:"2"},O),A&&d.createElement(ae,null,A)))),W))},$o={secondary:"vkuiCounter--mode-secondary",primary:"vkuiCounter--mode-primary",prominent:"vkuiCounter--mode-prominent",contrast:"vkuiCounter--mode-contrast",inherit:"vkuiCounter--mode-inherit"},er={s:"vkuiCounter--size-s",m:"vkuiCounter--size-m"},tr=function(e){var t=e.mode,n=void 0===t?"inherit":t,o=e.size,r=void 0===o?"m":o,i=e.children,s=e.className,u=(0,c._)(e,["mode","size","children","className"]);if(0===d.Children.count(i))return null;var v="s"===r?re:J,m="s"===r?"1":"2";return d.createElement(v,(0,M._)((0,l._)({},u),{Component:"span",className:(0,a.classNames)("vkuiInternalCounter","vkuiCounter",$o[n],er[r],s),level:m}),i)},nr=function(e){var t=e.icon,n=e.header,o=e.action,r=e.children,i=e.stretched,s=e.getRootRef,u=e.className,v=e.withPadding,m=void 0===v||v,f=(0,c._)(e,["icon","header","action","children","stretched","getRootRef","className","withPadding"]);return d.createElement("div",(0,M._)((0,l._)({},f),{ref:s,className:(0,a.classNames)("vkuiPlaceholder",i&&"vkuiPlaceholder--stretched",m&&"vkuiPlaceholder--withPadding",u)}),(0,a.hasReactNode)(t)&&d.createElement("div",{className:"vkuiPlaceholder__icon"},t),(0,a.hasReactNode)(n)&&d.createElement(Q,{level:"2",weight:"2",className:"vkuiPlaceholder__header"},n),(0,a.hasReactNode)(r)&&d.createElement(J,{weight:"3",className:"vkuiPlaceholder__text"},r),(0,a.hasReactNode)(o)&&d.createElement("div",{className:"vkuiPlaceholder__action"},o))},ar=n(639),or=n(1489),rr=function(e){var t=e.mode,n=void 0===t?"tint":t,o=e.imageTheme,r=void 0===o?"dark":o,i=e.size,s=void 0===i?"s":i,u=e.before,v=e.asideMode,m=e.header,f=e.subheader,p=e.text,h=(e.children,e.background),k=e.actions,_=e.onDismiss,b=e.dismissLabel,E=void 0===b?"Скрыть":b,C=e.className,N=e.getRootRef,y=e.noPadding,S=(0,c._)(e,["mode","imageTheme","size","before","asideMode","header","subheader","text","children","background","actions","onDismiss","dismissLabel","className","getRootRef","noPadding"]),R=he(),w="m"===s?Q:J,I="m"===s?ee:ae,A="image"===n?ar.Icon24DismissDark:or.Icon24DismissSubstract,O=d.createElement(d.Fragment,null,"image"===n&&h&&d.createElement("div",{"aria-hidden":!0,className:"vkuiBanner__bg"},h),u&&d.createElement("div",{className:"vkuiBanner__before"},u),d.createElement("div",{className:"vkuiBanner__content"},(0,a.hasReactNode)(m)&&d.createElement(w,{Component:"p",weight:"2",level:"m"===s?"2":"1"},m),(0,a.hasReactNode)(f)&&d.createElement(I,{Component:"p",className:"vkuiBanner__subheader"},f),(0,a.hasReactNode)(p)&&d.createElement(ee,{Component:"p",className:"vkuiBanner__text"},p),(0,a.hasReactNode)(k)&&d.Children.count(k)>0&&d.createElement("div",{className:"vkuiBanner__actions"},k)));return d.createElement("section",(0,M._)((0,l._)({},S),{className:(0,a.classNames)("vkuiBanner",!y&&"vkuiBanner--withPadding",R===g.IOS&&"vkuiBanner--ios","image"===n&&"vkuiBanner--mode-image",{s:"vkuiBanner--size-s",m:"vkuiBanner--size-m"}[s],"image"===n&&"dark"===r&&"vkuiBanner--inverted",C),ref:N}),"expand"===v?d.createElement(xe,{className:"vkuiBanner__in",activeMode:R===g.IOS?"opacity":"background",role:"button"},O,d.createElement("div",{className:"vkuiBanner__aside"},d.createElement(en.Icon24Chevron,{className:"vkuiBanner__expand"}))):d.createElement("div",{className:"vkuiBanner__in"},O,"dismiss"===v&&d.createElement("div",{className:"vkuiBanner__aside"},d.createElement(wa,{"aria-label":E,className:"vkuiBanner__dismiss",onClick:_,hoverMode:"opacity",hasActive:!1},R===g.IOS?d.createElement(A,null):d.createElement(Gn.Icon24Cancel,null)))))},ir=function(e){var t=e.before,n=e.after,o=e.children,r=e.mode,i=void 0===r?"base":r,s=e.textWrap,u=void 0===s?"nowrap":s,v=e.expandable,m=void 0!==v&&v,f=e.className,p=(0,c._)(e,["before","after","children","mode","textWrap","expandable","className"]),h=(0,a.classNames)("vkuiMiniInfoCell",{nowrap:"vkuiMiniInfoCell--textWrap-nowrap",full:"vkuiMiniInfoCell--textWrap-full",short:"vkuiMiniInfoCell--textWrap-short"}[u],"base"!==i&&{add:"vkuiMiniInfoCell--mode-add",accent:"vkuiMiniInfoCell--mode-accent",more:"vkuiMiniInfoCell--mode-more"}[i],f),k=d.createElement(d.Fragment,null,d.createElement("span",{className:"vkuiMiniInfoCell__before"},t),d.createElement("div",{className:"vkuiMiniInfoCell__middle"},d.createElement(te,{className:"vkuiMiniInfoCell__content",weight:"more"===i?"2":void 0},o),m&&d.createElement(Jt.Icon16Chevron,null)),(0,a.hasReactNode)(n)&&d.createElement("span",{className:"vkuiMiniInfoCell__after"},n));return p.onClick?d.createElement(xe,(0,M._)((0,l._)({Component:"div",role:"button"},p),{className:h}),k):d.createElement("div",(0,M._)((0,l._)({},p),{className:h}),k)},lr=function(e){return he()===g.IOS?d.createElement(Q,(0,M._)((0,l._)({},e),{level:"3",weight:"3"})):d.createElement(J,e)},cr=function(e){var t=e.className,n=e.style,o=e.before,r=e.inlineAfter,i=e.after,u=e.getRootRef,v=e.getRef,m=e.onHeightChange,f=e.shadow,p=void 0!==f&&f,h=e.defaultValue,k=(0,c._)(e,["className","style","before","inlineAfter","after","getRootRef","getRef","onHeightChange","shadow","defaultValue"]),_=he(),b=(0,s._)(Bo((0,l._)({defaultValue:h},k)),2),E=b[0],C=b[1],N=fe(v),y=d.useRef(),S=d.useCallback((function(){var e=N.current;e&&e.offsetParent&&(e.style.height="",e.style.height="".concat(e.scrollHeight,"px"),e.scrollHeight!==y.current&&m&&(m(),y.current=e.scrollHeight))}),[m,N]);return d.useEffect(S,[S,E,_]),d.createElement("div",{ref:u,className:(0,a.classNames)("vkuiWriteBar",_===g.IOS&&"vkuiWriteBar--ios",p&&"vkuiWriteBar--shadow",t),style:n},d.createElement("div",{className:"vkuiWriteBar__form"},(0,a.hasReactNode)(o)&&d.createElement("div",{className:"vkuiWriteBar__before"},o),d.createElement("div",{className:"vkuiWriteBar__formIn"},d.createElement(lr,(0,M._)((0,l._)({},k),{Component:"textarea",className:"vkuiWriteBar__textarea",onChange:C,getRootRef:N,value:E})),(0,a.hasReactNode)(r)&&d.createElement("div",{className:"vkuiWriteBar__inlineAfter"},r)),(0,a.hasReactNode)(i)&&d.createElement("div",{className:"vkuiWriteBar__after"},i)))},sr=n(1490),ur=n(1491),dr=n(1492),vr=n(1493),mr=n(1494),fr=n(1495),pr=n(1496),hr=n(1497),kr=n(1498),gr=((0,Xe.warnOnce)("WriteBarIcon"),function(e){var t,n=e.mode,o=e.children,r=e.count,i=e.className,s=(0,c._)(e,["mode","children","count","className"]),u=he(),v=void 0;switch(n){case"attach":t={IconCompact:u===g.IOS?sr.Icon28AddCircleOutline:ur.Icon24Attach,IconRegular:u===g.IOS?sr.Icon28AddCircleOutline:dr.Icon28AttachOutline},v="Прикрепить файл";break;case"send":t={IconCompact:u===g.IOS?vr.Icon48WritebarSend:mr.Icon24Send,IconRegular:u===g.IOS?vr.Icon48WritebarSend:fr.Icon28Send},v="Отправить";break;case"done":t={IconCompact:u===g.IOS?pr.Icon48WritebarDone:hr.Icon24CheckCircleOutline,IconRegular:u===g.IOS?pr.Icon48WritebarDone:kr.Icon28CheckCircleOutline},v="Готово"}return d.createElement(xe,(0,M._)((0,l._)({"aria-label":v},s),{Component:"button",hasHover:!1,activeMode:"vkuiWriteBarIcon__active",className:(0,a.classNames)("vkuiWriteBarIcon",u===g.IOS&&"vkuiWriteBarIcon--ios","send"===n&&"vkuiWriteBarIcon--mode-send","done"===n&&"vkuiWriteBarIcon--mode-done",i)}),d.createElement("span",{className:"vkuiWriteBarIcon__in"},t?d.createElement(Ja,t):o),(0,a.hasReactNode)(r)&&d.createElement(tr,{className:"vkuiWriteBarIcon__counter",size:"s"},r))}),_r=function(e){return e-240},br=function(e){return e+240},Er=function(e){var t,n=e.mode,o=void 0===n?"overflow":n,r=e.children,i=e.showArrows,s=void 0===i||i,u=e.getScrollToLeft,v=void 0===u?_r:u,m=e.getScrollToRight,f=void 0===m?br:m,p=e.scrollAnimationDuration,h=e.className,k=(0,c._)(e,["mode","children","showArrows","getScrollToLeft","getScrollToRight","scrollAnimationDuration","className"]),g={};return"fixed"===o?t="div":(t=ln,g={showArrows:s,getScrollToLeft:v,getScrollToRight:f,scrollAnimationDuration:p}),d.createElement("div",(0,M._)((0,l._)({},k),{className:(0,a.classNames)("fixed"===o&&(0,a.classNames)("vkuiInternalSubnavigationBar--mode-fixed"),h)}),d.createElement(t,(0,l._)({className:"vkuiSubnavigationBar__in"},g),d.createElement("ul",{className:"vkuiSubnavigationBar__scrollIn"},d.Children.map(r,(function(e,t){return d.createElement("li",{key:t,className:"vkuiSubnavigationBar__item"},e)})))))},Cr=n(1499),Nr=(0,i._)({none:"vkuiSubnavigationButton--sizeY-none"},B.COMPACT,"vkuiSubnavigationButton--sizeY-compact"),yr=function(e){var t=e.textLevel,n=(0,c._)(e,["textLevel"]);return"1"===t?d.createElement(ae,n):d.createElement(re,(0,l._)({level:"2"===t?"1":"2"},n))},Sr=function(e){var t=e.mode,n=void 0===t?"primary":t,o=e.size,r=void 0===o?"m":o,i=e.selected,s=e.textLevel,u=void 0===s?"1":s,v=e.before,m=e.after,f=e.expandable,h=e.children,k=e.className,g=(0,c._)(e,["mode","size","selected","textLevel","before","after","expandable","children","className"]),_=p().sizeY,b=void 0===_?"none":_;return d.createElement(xe,(0,M._)((0,l._)({},g),{hasActive:!1,focusVisibleMode:"outside",className:(0,a.classNames)("vkuiSubnavigationButton",{s:"vkuiSubnavigationButton--size-s",m:"vkuiSubnavigationButton--size-m",l:"vkuiSubnavigationButton--size-l"}[r],{primary:"vkuiSubnavigationButton--mode-primary",outline:"vkuiSubnavigationButton--mode-outline",tertiary:"vkuiSubnavigationButton--mode-tertiary"}[n],i&&"vkuiSubnavigationButton--selected",b!==B.REGULAR&&Nr[b],k)}),d.createElement("span",{className:"vkuiSubnavigationButton__in"},v&&d.createElement("span",{className:"vkuiSubnavigationButton__before"},v),d.createElement(yr,{textLevel:u,className:"vkuiSubnavigationButton__label",Component:"span"},h),m&&d.createElement("span",{className:"vkuiSubnavigationButton__after"},m),f&&d.createElement(Cr.Icon16Dropdown,{className:"vkuiSubnavigationButton__expandableIcon"})))},Rr=function(e){return e.preventDefault()},wr=function(e){var t=e.children,n=e.Component,o=void 0===n?"form":n,r=e.getRef,i=e.onSubmit,s=void 0===i?Rr:i,u=e.className,v=(0,c._)(e,["children","Component","getRef","onSubmit","className"]);return d.createElement(o,(0,M._)((0,l._)({},v),{className:(0,a.classNames)("vkuiFormLayout",u),onSubmit:s,ref:r}),t,"form"===o&&d.createElement("input",{type:"submit",className:"vkuiFormLayout__submit",value:""}))},Mr=(0,i._)({none:(0,a.classNames)("vkuiFormItem--sizeY-none","vkuiInternalFormItem--sizeY-none")},B.COMPACT,(0,a.classNames)("vkuiFormItem--sizeY-compact","vkuiInternalFormItem--sizeY-compact")),Ir=function(e){var t=e.children,n=e.top,o=e.bottom,r=e.status,i=void 0===r?"default":r,s=e.Component,u=void 0===s?"div":s,v=e.removable,m=e.onRemove,f=void 0===m?a.noop:m,h=e.removePlaceholder,k=void 0===h?"Удалить":h,g=e.getRootRef,_=e.className,b=e.htmlFor,E=e.bottomId,C=(0,c._)(e,["children","top","bottom","status","Component","removable","onRemove","removePlaceholder","getRootRef","className","htmlFor","bottomId"]),N=fe(g),y=p().sizeY,S=void 0===y?"none":y,R=d.createElement(d.Fragment,null,(0,a.hasReactNode)(n)&&d.createElement(ae,{className:"vkuiFormItem__top",Component:b?"label":"h5",htmlFor:b},n),t,(0,a.hasReactNode)(o)&&d.createElement(oe,{className:"vkuiFormItem__bottom",id:E,role:"error"===i?"alert":void 0},o));return d.createElement(u,(0,M._)((0,l._)({},C),{ref:N,className:(0,a.classNames)("vkuiFormItem","vkuiInternalFormItem","default"!==i&&{error:(0,a.classNames)("vkuiFormItem--status-error","vkuiInternalFormItem--status-error"),valid:(0,a.classNames)("vkuiFormItem--status-valid","vkuiInternalFormItem--status-valid")}[i],S!==B.REGULAR&&Mr[S],(0,a.hasReactNode)(n)&&(0,a.classNames)("vkuiFormItem--withTop","vkuiInternalFormItem--withTop"),v&&(0,a.classNames)("vkuiFormItem--removable","vkuiInternalFormItem--removable"),_)}),v?d.createElement(Fa,{align:"start",onRemove:function(e){var t;(null===(t=N)||void 0===t?void 0:t.current)&&f(e,N.current)},removePlaceholder:k,indent:"indent"===v},d.createElement("div",{className:(0,a.classNames)("vkuiFormItem__removable","vkuiInternalFormItem__removable")},R)):R)},Ar=(0,i._)({none:"vkuiSwitch--sizeY-none"},B.COMPACT,"vkuiSwitch--sizeY-compact"),Or=function(e){var t=e.style,n=e.className,o=e.getRootRef,r=e.getRef,i=(0,c._)(e,["style","className","getRootRef","getRef"]),s=he(),u=p().sizeY,v=void 0===u?"none":u,m=pe(),f=m.focusVisible,h=m.onBlur,k=m.onFocus;return d.createElement("label",{className:(0,a.classNames)("vkuiSwitch",s===g.IOS&&"vkuiSwitch--ios",v!==B.REGULAR&&Ar[v],i.disabled&&"vkuiSwitch--disabled",n),style:t,ref:o,onBlur:ge(h,i.onBlur),onFocus:ge(k,i.onFocus)},d.createElement($a.VisuallyHidden,(0,M._)((0,l._)({},i),{Component:"input",getRootRef:r,type:"checkbox",className:"vkuiSwitch__self"})),d.createElement("span",{"aria-hidden":!0,className:"vkuiSwitch__pseudo"}),d.createElement(ye,{visible:f,mode:"outside"}))},Pr=function(e){var t=e.children,n=void 0===t?"Выберите файл":t,a=e.align,o=void 0===a?"left":a,r=e.size,i=e.mode,s=e.stretched,u=e.before,v=e.after,m=e.loading,f=e.className,p=e.style,h=e.getRef,k=e.getRootRef,g=e.appearance,_=(0,c._)(e,["children","align","size","mode","stretched","before","after","loading","className","style","getRef","getRootRef","appearance"]);return d.createElement(Ve,{Component:"label",align:o,className:f,stretched:s,mode:i,appearance:g,size:r,before:u,after:v,loading:m,style:p,getRootRef:k,disabled:_.disabled},d.createElement($a.VisuallyHidden,(0,M._)((0,l._)({},_),{Component:"input",type:"file",getRootRef:h})),n)};var Tr=(0,i._)({none:"vkuiFormField--sizeY-none"},B.COMPACT,"vkuiFormField--sizeY-compact"),Dr=function(e){var t=e.Component,n=void 0===t?"span":t,o=e.status,r=void 0===o?"default":o,i=e.children,u=e.getRootRef,v=e.before,m=e.after,f=e.disabled,h=e.mode,k=void 0===h?"default":h,g=e.className,_=(0,c._)(e,["Component","status","children","getRootRef","before","after","disabled","mode","className"]),b=fe(u),E=function(e){var t=(0,H.useDOM)().document,n=function(){return!(!e.current||!t)&&e.current.contains(t.activeElement)},a=(0,s._)(d.useState(n),2),o=a[0],r=a[1],i=function(){var e=n();e!==o&&r(e)};return(0,F.useGlobalEventListener)(t,"focus",i,{capture:!0}),(0,F.useGlobalEventListener)(t,"blur",i,{capture:!0}),o}(b),C=p().sizeY,N=void 0===C?"none":C,y=(0,s._)(d.useState(!1),2),S=y[0],R=y[1];return d.createElement(n,(0,M._)((0,l._)({},_),{ref:b,onMouseEnter:function(e){e.stopPropagation(),R(!0)},onMouseLeave:function(e){e.stopPropagation(),R(!1)},className:(0,a.classNames)("vkuiFormField","default"===k&&"vkuiFormField--mode-default","default"!==r&&{error:"vkuiFormField--status-error",valid:"vkuiFormField--status-valid"}[r],N!==B.REGULAR&&Tr[N],f&&"vkuiFormField--disabled",!f&&S&&"vkuiFormField--hover",g)}),v&&d.createElement("span",{className:"vkuiFormField__before"},v),i,m&&d.createElement("span",{className:(0,a.classNames)("vkuiFormField__after","vkuiInternalFormField__after")},m),d.createElement("span",{"aria-hidden":!0,className:"vkuiFormField__border"}),d.createElement(ye,{thin:!0,visible:E,mode:"outline"}))},Lr=(0,i._)({none:"vkuiInput--sizeY-none"},B.COMPACT,"vkuiInput--sizeY-compact"),xr=function(e){var t=e.type,n=void 0===t?"text":t,o=e.align,r=void 0===o?"left":o,i=e.getRef,s=e.className,u=e.getRootRef,v=e.style,m=e.before,f=e.after,h=e.status,k=e.mode,g=(0,c._)(e,["type","align","getRef","className","getRootRef","style","before","after","status","mode"]),_=p().sizeY,b=void 0===_?"none":_;return d.createElement(Dr,{style:v,className:(0,a.classNames)("vkuiInput","right"===r&&"vkuiInput--align-right","center"===r&&"vkuiInput--align-center",b!==B.REGULAR&&Lr[b],m&&"vkuiInput--hasBefore",f&&"vkuiInput--hasAfter",s),getRootRef:u,before:m,after:f,disabled:g.disabled,mode:k,status:h},d.createElement(ee,(0,M._)((0,l._)({},g),{Component:"input",normalize:!1,type:n,className:"vkuiInput__el",getRootRef:i})))},Br=function(e){var t=e.className,n=e.getRootRef,o=e.inputProps,r=(0,c._)(e,["className","getRootRef","inputProps"]),i=pe(!1),s=i.focusVisible,u=i.onBlur,v=i.onFocus;return d.createElement("span",(0,l._)({ref:n,className:(0,a.classNames)("vkuiSliderThumb",s&&"vkuiSliderThumb--focused",t)},r),d.createElement("input",(0,M._)((0,l._)({},o),{type:"range",className:"vkuiSliderThumb__nativeInput","aria-orientation":"horizontal",onBlur:u,onFocus:v})),d.createElement(ye,{visible:s,mode:"outside"}))},zr=function(e,t,n){return(e-t)/(n-t)*100},Hr=function(e,t,n,a,o){return(0,ea.rescale)(e,[0,t],[n,a],{step:o})},Fr=function(e,t,n){return e<t?t:e>n?n:e},Yr=function(e,t,n,a,o){var r=(0,s._)(e,2),i=r[0],l=r[1];if(null===l)return[Fr(t,n,a),null];switch(o){case"start":return t>l?[l,l]:[Fr(t,n,a),l];case"end":return t<i?[i,i]:[i,Fr(t,n,a)];default:return e}};var Wr,Vr,Gr=function(e){if(e){if("start"===e.dataset.type)return"start";if("end"===e.dataset.type)return"end"}return null},Xr={"aria-label":void 0,"aria-valuetext":void 0,"aria-labelledby":void 0},Ur=(0,i._)({none:"vkuiSlider--sizeY-none"},B.COMPACT,"vkuiSlider--sizeY-compact"),Kr=function(e){var t=e.step,n=e.min,o=void 0===n?0:n,r=e.max,i=void 0===r?100:r,u=e.value,v=e.multiple,m=e.defaultValue,f=void 0===m?v?[o,i]:o:m,h=e.disabled,k=e.className,g=e.getRootRef,_=e.getAriaLabel,b=e.getAriaValueText,E=e.onChange,C=(0,c._)(e,["step","min","max","value","multiple","defaultValue","disabled","className","getRootRef","getAriaLabel","getAriaValueText","onChange"]),N=p().sizeY,y=void 0===N?"none":N,S=void 0!==u,R=(0,s._)(d.useState(f),2),w=R[0],I=R[1],A=d.useMemo((function(){var e=S?u:w;return Array.isArray(e)?[(0,ea.clamp)(e[0],o,i),(0,ea.clamp)(e[1],o,i)]:[(0,ea.clamp)(e,o,i),null]}),[S,u,w,o,i]),O=(0,s._)(A,2),P=O[0],T=O[1],D=v&&null!==T,L=zr(P,o,i),x=D?zr(T,o,i):0,z=d.useRef({dragging:null,startX:0,containerWidth:0}).current,H=fe(g),F=d.useRef(null),Y=d.useRef(null),W=function(e){var t=e["aria-label"],n=e["aria-valuetext"],a=e["aria-labelledby"];return(0,M._)((0,l._)({},e,Xr),{ariaLabel:t,ariaValueText:n,ariaLabelledBy:a})}(C),V=W.ariaLabel,G=W.ariaValueText,X=W.ariaLabelledBy,U=(0,c._)(W,["ariaLabel","ariaValueText","ariaLabelledBy"]),K=function(e,t){h||A[0]===e[0]&&A[1]===e[1]||(v?function(e){return null!==e[1]}(e)&&(!S&&I(e),E&&E(e,t)):(!S&&I(e[0]),E&&E(e[0],t)))},q=function(e){K(function(e,t,n){var a=(0,s._)(e,2),o=a[0],r=a[1];switch(n){case"start":return[t,r];case"end":return[o,t];default:return e}}(A,Number(e.target.value),Gr(e.target)),e)};return d.createElement(Re,(0,M._)((0,l._)({"data-value":D?"".concat(P,",").concat(T):P},U),{className:(0,a.classNames)("vkuiSlider",h&&"vkuiSlider--disabled",y!==B.REGULAR&&Ur[y],k),onStart:h?void 0:function(e){if(H.current){var n=H.current.getBoundingClientRect(),a=n.left,r=n.width,l=Gr(e.originalEvent.target),c=e.startX-a,u=Hr(c,r,o,i,t),d=function(e,t,n){if("start"===n)return"start";if("end"===n)return"end";var a=(0,s._)(e,2),o=a[0],r=a[1],i=null!==r?o-.1:o,l=null!==r?r+.1:0;return Math.abs(i-t)<=Math.abs(l-t)?"start":"end"}(A,u,l);z.dragging=d,z.containerWidth=r,z.startX=c;var v=Yr(A,u,o,i,d),m=(0,s._)(v,2),f=m[0],p=m[1];F.current&&("start"===l||f!==P&&p===T)?(F.current.focus(),e.originalEvent.preventDefault()):Y.current&&("end"===l||p!==T&&f===P)&&(Y.current.focus(),e.originalEvent.preventDefault()),K(v,e),e.originalEvent.stopPropagation()}},onMove:h?void 0:function(e){var n=z.startX,a=z.containerWidth,r=z.dragging,l=e.shiftX,c=Hr(n+(void 0===l?0:l),a,o,i,t);K(Yr(A,c,o,i,r),e),e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()},onEnd:h?void 0:function(e){z.dragging=null,e.originalEvent.stopPropagation()}}),d.createElement("div",{className:"vkuiSlider__track"}),d.createElement("div",{className:"vkuiSlider__track-fill",style:D?{left:"".concat(L,"%"),right:"".concat(100-x,"%")}:{width:"".concat(L,"%")}}),d.createElement("div",{ref:H,className:"vkuiSlider__thumbs"},d.createElement(Br,{"data-type":"start",className:"vkuiSlider__thumb",style:{left:"".concat(L,"%"),zIndex:D&&L>=50?2:void 0},inputProps:{"data-type":"start",ref:F,step:t,min:o,value:P,max:D?T:i,disabled:h,"aria-label":_?_(0):V,"aria-valuetext":b?b(P,0):G,"aria-labelledby":X,onChange:q}}),D&&d.createElement(Br,{"data-type":"end",className:"vkuiSlider__thumb",style:{left:"".concat(x,"%")},inputProps:{"data-type":"end",ref:Y,step:t,min:P,value:T,max:i,disabled:h,"aria-label":_?_(1):V,"aria-valuetext":b?b(T,1):G,"aria-labelledby":X,onChange:q}})))},qr=function(e){var t=e.step,n=void 0===t?0:t,a=e.min,o=void 0===a?0:a,r=e.max,i=void 0===r?100:r,s=e.defaultValue,u=void 0===s?[o,i]:s,v=(0,c._)(e,["step","min","max","defaultValue"]);return d.createElement(Kr,(0,M._)((0,l._)({step:n,min:o,max:i,defaultValue:u},v),{multiple:!0}))},jr=(0,i._)({none:"vkuiTextarea--sizeY-none"},B.COMPACT,"vkuiTextarea--sizeY-compact"),Qr=function(e){var t=e.defaultValue,n=void 0===t?"":t,o=e.grow,r=void 0===o||o,i=e.style,u=e.onResize,v=e.className,m=e.getRootRef,f=e.getRef,h=e.rows,k=void 0===h?2:h,g=e.maxHeight,_=e.status,b=e.onChange,E=e.value,C=(0,c._)(e,["defaultValue","grow","style","onResize","className","getRootRef","getRef","rows","maxHeight","status","onChange","value"]),N=(0,s._)(Bo({defaultValue:n,onChange:b,value:E}),2),y=N[0],S=N[1],R=d.useRef(),w=fe(f),I=p().sizeY,A=void 0===I?"none":I;return d.useEffect((function(){var e,t=w.current;r&&(null===(e=t)||void 0===e?void 0:e.offsetParent)&&(t.style.height="",t.style.height="".concat(t.scrollHeight,"px"),t.scrollHeight!==R.current&&u&&(u(t),R.current=t.scrollHeight))}),[r,y,A,w,u]),d.createElement(Dr,{className:(0,a.classNames)("vkuiTextarea",A!==B.REGULAR&&jr[A],v),style:i,getRootRef:m,disabled:C.disabled,status:_},d.createElement(ee,(0,M._)((0,l._)({},C),{Component:"textarea",normalize:!1,style:{maxHeight:g},rows:k,className:"vkuiTextarea__el",value:y,onChange:S,getRootRef:w})))},Zr=(0,i._)({none:"vkuiRadio--sizeY-none"},B.COMPACT,"vkuiRadio--sizeY-compact"),Jr=function(e){return d.createElement("svg",(0,l._)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":!0},e),d.createElement("circle",{cx:"12",cy:"12",r:"11",stroke:"currentColor",strokeWidth:"2",fill:"none"}),d.createElement("circle",{cx:"12",cy:"12",r:"7.5",className:"vkuiRadio__pin",fill:"currentColor"}))},$r=function(e){var t=e.children,n=e.description,o=e.style,r=e.className,i=e.getRootRef,s=e.titleAfter,u=e.getRef,v=(0,c._)(e,["children","description","style","className","getRootRef","titleAfter","getRef"]),m=he(),f=p().sizeY,h=void 0===f?"none":f;return d.createElement(xe,{Component:"label",style:o,className:(0,a.classNames)("vkuiRadio",h!==B.REGULAR&&Zr[h],r),activeEffectDelay:m===g.IOS?100:600,disabled:v.disabled,getRootRef:i},d.createElement($a.VisuallyHidden,(0,M._)((0,l._)({},v),{Component:"input",type:"radio",getRootRef:u,className:"vkuiRadio__input"})),d.createElement("div",{className:"vkuiRadio__container"},d.createElement(Jr,{className:"vkuiRadio__icon"}),d.createElement("div",{className:"vkuiRadio__content"},d.createElement("div",{className:"vkuiRadio__title"},d.createElement(ee,null,t),d.createElement("div",{className:"vkuiRadio__titleAfter"},s)),(0,a.hasReactNode)(n)&&d.createElement(oe,{className:"vkuiRadio__description"},n))))},ei=function(e){var t=e.mode,n=void 0===t?"vertical":t,o=e.children,r=e.className,i=(0,c._)(e,["mode","children","className"]);return d.createElement("div",(0,l._)({className:(0,a.classNames)("vkuiRadioGroup","vkuiInternalRadioGroup","horizontal"===n&&"vkuiRadioGroup--mode-horizontal",r)},i),o)},ti=n(1500),ni=(Wr={none:"vkuiCheckbox--sizeY-none"},(0,i._)(Wr,B.COMPACT,"vkuiCheckbox--sizeY-compact"),(0,i._)(Wr,B.REGULAR,"vkuiCheckbox--sizeY-regular"),Wr),ai=((0,Xe.warnOnce)("Checkbox"),function(e){var t=e.children,n=e.className,o=e.style,r=e.getRootRef,i=e.getRef,s=e.description,u=e.indeterminate,v=e.defaultIndeterminate,m=e.hoverMode,f=e.activeMode,h=e.hasHover,k=e.hasActive,_=e.focusVisibleMode,b=e.onChange,E=e.titleAfter,C=(0,c._)(e,["children","className","style","getRootRef","getRef","description","indeterminate","defaultIndeterminate","hoverMode","activeMode","hasHover","hasActive","focusVisibleMode","onChange","titleAfter"]),N=fe(i),y=he(),S=p().sizeY,R=void 0===S?"none":S,w=Ct().sizeY;d.useEffect((function(){var e=void 0===u?v:u;N.current&&(N.current.indeterminate=Boolean(e))}),[v,u,N]);var I=d.useCallback((function(e){void 0!==v&&void 0===u&&void 0===C.checked&&N.current&&(N.current.indeterminate=!1),void 0!==u&&N.current&&(N.current.indeterminate=u),b&&b(e)}),[v,u,C.checked,b,N]);return d.createElement(xe,{Component:"label",className:(0,a.classNames)("vkuiCheckbox",y===g.VKCOM&&"vkuiCheckbox--vkcom",ni[R],!((0,a.hasReactNode)(t)||(0,a.hasReactNode)(s))&&"vkuiCheckbox--simple",n),style:o,disabled:C.disabled,activeEffectDelay:y===g.IOS?100:600,getRootRef:r,hoverMode:m,activeMode:f,hasHover:h,hasActive:k,focusVisibleMode:_},d.createElement($a.VisuallyHidden,(0,M._)((0,l._)({},C),{Component:"input",type:"checkbox",onChange:I,className:"vkuiCheckbox__input",getRootRef:N})),d.createElement("div",{className:(0,a.classNames)("vkuiCheckbox__icon","vkuiCheckbox__icon--on")},y===g.VKCOM?d.createElement(Ka.Icon20CheckBoxOn,null):d.createElement(d.Fragment,null,w.compact&&d.createElement(Ka.Icon20CheckBoxOn,{className:w.compact.className}),w.regular&&d.createElement(qa.Icon24CheckBoxOn,{className:w.regular.className}))),d.createElement("div",{className:(0,a.classNames)("vkuiCheckbox__icon","vkuiCheckbox__icon--off")},y===g.VKCOM?d.createElement(ja.Icon20CheckBoxOff,null):d.createElement(d.Fragment,null,w.compact&&d.createElement(ja.Icon20CheckBoxOff,{className:w.compact.className}),w.regular&&d.createElement(Qa.Icon24CheckBoxOff,{className:w.regular.className}))),d.createElement("div",{className:(0,a.classNames)("vkuiCheckbox__icon","vkuiCheckbox__icon--indeterminate")},y===g.VKCOM?d.createElement(ti.Icon20CheckBoxIndetermanate,{width:20,height:20}):d.createElement(d.Fragment,null,w.compact&&d.createElement(ti.Icon20CheckBoxIndetermanate,{className:w.compact.className,width:20,height:20}),w.regular&&d.createElement(ti.Icon20CheckBoxIndetermanate,{className:w.regular.className,width:24,height:24}))),d.createElement("div",{className:"vkuiCheckbox__content"},d.createElement("div",{className:"vkuiCheckbox__title"},d.createElement(ee,null,t),d.createElement("div",{className:"vkuiCheckbox__titleAfter"},E)),(0,a.hasReactNode)(s)&&d.createElement(oe,{className:"vkuiCheckbox__description"},s)))}),oi=n(394);try{Vr=new RegExp("\\p{L}","u")}catch(e){}var ri=function(e){return ve(e.label)},ii=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri;n=n.toLocaleLowerCase();var r=null===(e=o(a))||void 0===e?void 0:e.toLocaleLowerCase();if(null===(t=r)||void 0===t?void 0:t.startsWith(n))return!0;var i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],a=e.indexOf(t);-1!==a;)n.push(a),a=e.indexOf(t,a+1);return n}(r,n);if(!Vr||!r)return i.length>0;var l=!0,c=!1,s=void 0;try{for(var u,d=i[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var v=u.value;if(!Vr.test(r[v-1]))return!0}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}return!1},li=function(){return"default"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default")?"default":"plain"},ci=function(e){var t=e.className,n=e.children,o=e.boxRef,r=e.windowResize,i=e.autoHideScrollbar,l=void 0!==i&&i,c=e.autoHideScrollbarDelay,u=e.onScroll,v=(0,H.useDOM)(),m=v.document,f=v.window,p=d.useRef(NaN),h=d.useRef(0),k=d.useRef(0),g=d.useRef(0),_=d.useRef(0),b=d.useRef(""),E=d.useRef(0),C=d.useRef(0),N=fe(o),y=d.useRef(null),S=d.useRef(null),R=function(e){var t=e/(_.current-k.current);!function(e){h.current=e,null!==S.current&&(S.current.style[b.current]="translate(0, ".concat(e,"px)"))}((k.current-g.current)*t)},w=function(){if(N.current&&y.current&&S.current){var e=N.current.clientHeight,t=N.current.scrollHeight,n=e/t,a=Math.max(e*n,40);p.current=n,k.current=e,_.current=t,g.current=a,n>=1?y.current.style.display="none":(y.current.style.display="",S.current.style.height="".concat(a,"px"),R(N.current.scrollTop))}},M=(0,Se.useEventListener)("resize",w);(0,I.useIsomorphicLayoutEffect)((function(){r&&f&&M.add(f)}),[r,f]),(0,I.useIsomorphicLayoutEffect)((function(){var e,t=null===(e=S.current)||void 0===e?void 0:e.style,n="";void 0!==t&&("transform"in t?n="transform":"webkitTransform"in t&&(n="webkitTransform")),b.current=n}),[]),(0,I.useIsomorphicLayoutEffect)(w);var A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=(0,s._)(d.useState(!e),2),a=n[0],o=n[1],r=d.useRef(!1),i=d.useRef(!1),l=ke((function(){return o(!1)}),t),c=l.set,u=l.clear,v=d.useCallback((function(){u(),o(!0),i.current=!0}),[u]),m=d.useCallback((function(){i.current=!1,r.current||c()}),[c,r]),f=d.useCallback((function(){i.current||(o(!0),c())}),[c]);return{trackerVisible:a,onTrackerDragStart:v,onTrackerDragStop:m,onTrackerMouseEnter:d.useCallback((function(){u(),r.current=!0,o(!0)}),[u]),onTrackerMouseLeave:d.useCallback((function(){f(),r.current=!1}),[f]),onTargetScroll:d.useCallback((function(){f()}),[f])}}(l,c),O=A.trackerVisible,P=A.onTargetScroll,T=A.onTrackerDragStart,D=A.onTrackerDragStop,L=A.onTrackerMouseEnter,x=A.onTrackerMouseLeave,B=[(0,Se.useEventListener)("mousemove",(function(e){e.preventDefault();var t=e.clientY-E.current;!function(e){var t=e/(k.current-g.current);null!==N.current&&(N.current.scrollTop=(_.current-k.current)*t)}(Math.min(Math.max(C.current+t,0),k.current-g.current))})),(0,Se.useEventListener)("mouseup",(function(e){e.preventDefault(),l&&D(),B.forEach((function(e){return e.remove()}))}))];return d.createElement("div",{className:(0,a.classNames)("vkuiCustomScrollView",t)},d.createElement("div",{className:"vkuiCustomScrollView__box",tabIndex:-1,ref:N,onScroll:function(e){var t;p.current>=1||!N.current||(l&&P(),R(N.current.scrollTop),null===(t=u)||void 0===t||t(e))}},n),d.createElement("div",{className:"vkuiCustomScrollView__barY",ref:y,onClick:me},d.createElement("div",{className:(0,a.classNames)("vkuiCustomScrollView__trackerY",!O&&"vkuiCustomScrollView__trackerY--hidden"),onMouseEnter:l?L:void 0,onMouseLeave:l?x:void 0,ref:S,onMouseDown:function(e){var t;e.preventDefault(),E.current=e.clientY,C.current=h.current,l&&T(),(t=m)&&B.forEach((function(e){return e.add(t)}))}})))},si=function(e){var t;return null===(t=e)||void 0===t?void 0:t.includes("top")},ui=function(e){var t=e.children,n=e.targetRef,o=e.scrollBoxRef,r=e.placement,i=e.fetching,u=e.onPlacementChange,v=e.offsetDistance,m=void 0===v?0:v,f=e.sameWidth,p=void 0===f||f,h=e.forcePortal,k=void 0===h||h,g=e.autoHideScrollbar,_=e.autoHideScrollbarDelay,b=e.className,E=(0,c._)(e,["children","targetRef","scrollBoxRef","placement","fetching","onPlacementChange","offsetDistance","sameWidth","forcePortal","autoHideScrollbar","autoHideScrollbarDelay","className"]),C=(0,s._)(d.useState((function(){return si(r)})),2),N=C[0],y=C[1],S=d.useCallback((function(e){var t,n=e.placement;y(si(n)),null===(t=u)||void 0===t||t(n)}),[u,y]);return d.createElement(xn,(0,l._)({targetRef:n,offsetDistance:m,sameWidth:p,onPlacementChange:S,placement:r,className:(0,a.classNames)("vkuiCustomSelectDropdown","vkuiInternalCustomSelectDropdown",0===m&&(N?"vkuiCustomSelectDropdown--top":"vkuiCustomSelectDropdown--bottom"),p&&(0,a.classNames)("vkuiCustomSelectDropdown--wide","vkuiInternalCustomSelectDropdown--wide"),b),forcePortal:k,autoUpdateOnTargetResize:!0},E),d.createElement(ci,{boxRef:o,className:"vkuiCustomSelectDropdown__in",autoHideScrollbar:g,autoHideScrollbarDelay:_},i?d.createElement("div",{className:"vkuiCustomSelectDropdown__fetching"},d.createElement(Ye.Spinner,{size:"small"})):t))},di=n(1036),vi=(0,i._)({none:"vkuiCustomSelectOption--sizeY-none"},B.REGULAR,"vkuiCustomSelectOption--sizeY-regular"),mi=((0,Xe.warnOnce)("CustomSelectOption"),function(e){var t=e.children,n=e.hierarchy,o=void 0===n?0:n,r=e.hovered,i=e.selected,s=e.before,u=e.after,v=(e.option,e.description),m=e.disabled,f=e.style,h=e.className,k=e.onClick,g=(0,c._)(e,["children","hierarchy","hovered","selected","before","after","option","description","disabled","style","className","onClick"]),_="string"==typeof t?t:void 0,b=p().sizeY,E=void 0===b?"none":b,C=d.useMemo((function(){return o>0?(0,l._)({"--vkui_internal--custom_select_option_hierarchy_level":o},f):f}),[o,f]);return d.createElement(te,(0,M._)((0,l._)({},g),{onClick:m?void 0:k,Component:"div",role:"option",title:_,"aria-disabled":m,"aria-selected":i,className:(0,a.classNames)("vkuiCustomSelectOption",E!==B.COMPACT&&vi[E],r&&!m&&"vkuiCustomSelectOption--hover",m&&"vkuiCustomSelectOption--disabled",o>0&&"vkuiCustomSelectOption--hierarchy",h),style:C}),(0,a.hasReactNode)(s)&&d.createElement("div",{className:"vkuiCustomSelectOption__before"},s),d.createElement("div",{className:"vkuiCustomSelectOption__main"},d.createElement("div",{className:"vkuiCustomSelectOption__children"},t),(0,a.hasReactNode)(v)&&d.createElement(oe,{className:"vkuiCustomSelectOption__description"},v)),d.createElement("div",{className:"vkuiCustomSelectOption__after"},(0,a.hasReactNode)(u)&&d.createElement("div",null,u),i&&d.createElement(di.Icon16Done,{className:"vkuiCustomSelectOption__selectedIcon"})))}),fi=n(1501),pi=n(1502),hi=n(1503),ki=n(1504),gi=function(e){var t=e.opened,n=void 0!==t&&t,o=e.className,r=(0,c._)(e,["opened","className"]),i=Ct().sizeY,s=n?fi.Icon20ChevronUp:pi.Icon20Dropdown,u=n?hi.Icon24ChevronUp:ki.Icon24ChevronDown;return d.createElement(d.Fragment,null,i.compact&&d.createElement(s,(0,l._)({className:(0,a.classNames)(i.compact.className,o)},r)),i.regular&&d.createElement(u,(0,l._)({className:(0,a.classNames)(i.regular.className,o)},r)))},_i=function(e){var t=e.selectType,n=void 0===t?"default":t,a=e.children,o=(0,c._)(e,["selectType","children"]);return d.createElement(ee,(0,l._)({weight:"accent"===n?"2":"3"},o),a)},bi=(0,i._)({none:"vkuiSelect--sizeY-none"},B.COMPACT,"vkuiSelect--sizeY-compact"),Ei=function(e){var t=e.tabIndex,n=void 0===t?0:t,o=e.placeholder,r=e.children,i=e.align,s=e.getRootRef,u=e.multiline,v=e.disabled,m=e.onClick,f=e.before,h=e.after,k=void 0===h?d.createElement(gi,null):h,g=e.selectType,_=void 0===g?"default":g,b=e.status,E=e.className,C=(0,c._)(e,["tabIndex","placeholder","children","align","getRootRef","multiline","disabled","onClick","before","after","selectType","status","className"]),N=p().sizeY,y=void 0===N?"none":N,S=r||o;return d.createElement(Dr,(0,M._)((0,l._)({},C),{tabIndex:v?void 0:n,className:(0,a.classNames)("vkuiSelect",y!==B.REGULAR&&bi[y],!r&&"vkuiSelect--empty",u&&"vkuiSelect--multiline","center"===i&&"vkuiSelect--align-center","right"===i&&"vkuiSelect--align-right",f&&"vkuiSelect--hasBefore",E),getRootRef:s,onClick:v?void 0:m,disabled:v,before:f,after:k,mode:li(_),status:b}),d.createElement("div",{className:"vkuiSelect__container"},d.createElement(_i,{selectType:_,className:"vkuiSelect__title"},S)))},Ci=n(640),Ni=function(e){var t=e.className,n=e.onClick;return d.createElement(wa,{className:t,Component:"div",onClick:function(e){me(e),n()},"aria-label":"Очистить поле",onKeyDown:me,role:"button",activeMode:"opacity",hoverMode:"opacity"},d.createElement(Ci.Icon16Cancel,null))},yi=(0,i._)({none:"vkuiCustomSelect--sizeY-none"},B.COMPACT,"vkuiCustomSelect--sizeY-compact"),Si=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t>=e.length-1?-1:e.findIndex((function(e,n){return n>t&&!e.disabled}))},Ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=-1;if(t<=0)return n;for(var a=t-1;a>=0;a--){if(!e[a].disabled){n=a;break}}return n};(0,Xe.warnOnce)("CustomSelect");function wi(e){e.option;var t=(0,c._)(e,["option"]);return d.createElement(mi,t)}var Mi=function(e){e.preventDefault()};function Ii(e,t,n){return n&&""===t?-1:null!==(a=e.findIndex((function(e){return t="number"==typeof e.value?Number(t):t,e.value===t})))&&void 0!==a?a:-1;var a}var Ai=function(e,t,n){return"function"==typeof n?e.filter((function(e){return n(t,e)})):e},Oi=[];function Pi(e){var t,n=(0,s._)(d.useState(!1),2),o=n[0],r=n[1],i=e.before,v=e.name,m=e.className,f=e.getRef,h=e.getRootRef,k=e.popupDirection,g=e.style,_=e.onChange,b=(e.children,e.onInputChange),E=e.renderDropdown,C=e.onOpen,N=e.onClose,y=e.fetching,S=e.forceDropdownPortal,R=e.selectType,w=void 0===R?"default":R,A=e.autoHideScrollbar,O=e.autoHideScrollbarDelay,P=e.searchable,T=void 0!==P&&P,D=e.renderOption,L=void 0===D?wi:D,x=e.options,z=void 0===x?Oi:x,H=e.emptyText,F=void 0===H?"Ничего не найдено":H,Y=e.filterFn,W=void 0===Y?ii:Y,V=e.icon,G=e.ClearButton,X=void 0===G?Ni:G,U=e.allowClearButton,K=void 0!==U&&U,q=e.dropdownOffsetDistance,j=void 0===q?0:q,Q=e.fixDropdownWidth,Z=void 0===Q||Q,J=(0,c._)(e,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","fixDropdownWidth"]);var $,ee,te,ne=p().sizeY,ae=void 0===ne?"none":ne,re=d.useRef(null),ie=fe(re,h),le=d.useRef(null),ce=fe(f),se=(0,s._)(d.useState(-1),2),ue=se[0],de=se[1],me=(0,s._)(d.useState(void 0!==e.value),2),pe=me[0],he=me[1],ke=(0,s._)(d.useState(""),2),ge=ke[0],_e=ke[1],be=(0,s._)(d.useState((function(){return null!==(ee=null!==($=e.value)&&void 0!==$?$:e.defaultValue)&&void 0!==ee?ee:K?"":void 0})),2),Ee=be[0],Ce=be[1],Ne=(0,s._)(d.useState(""),2),ye=Ne[0],Se=Ne[1],Re=(0,s._)(d.useState(void 0),2),we=Re[0],Me=Re[1],Ie=(0,s._)(d.useState(z),2),Ae=Ie[0],Oe=Ie[1],Pe=(0,s._)(d.useState(Ii(z,null!==(te=e.value)&&void 0!==te?te:e.defaultValue,K)),2),Te=Pe[0],De=Pe[1];d.useEffect((function(){var t;he(void 0!==e.value),Ce((function(n){return null!==(t=e.value)&&void 0!==t?t:n}))}),[e.value]),(0,I.useIsomorphicLayoutEffect)((function(){if(Ae.some((function(e){var t=e.value;return Ee===t}))||K&&""===Ee){var e,t=new Event("change",{bubbles:!0});null===(e=ce.current)||void 0===e||e.dispatchEvent(t)}}),[Ee]);var Le=d.useMemo((function(){return Ae.length?void 0!==Te?Ae[Te]:void 0:null}),[Ae,Te]),xe=d.useMemo((function(){var e;return(0,a.classNames)(o&&0===j&&((null===(e=we)||void 0===e?void 0:e.includes("top"))?"vkuiCustomSelect--pop-up":"vkuiCustomSelect--pop-down"))}),[j,o,we]),Be=d.useCallback((function(){Se("")}),[]),ze=d.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=le.current,a=n?n.children[e]:null;if(a&&n){var o=n.offsetHeight,r=n.scrollTop,i=a.offsetTop,l=a.offsetHeight;t?n.scrollTop=i-o/2+l/2:i+l>o+r?n.scrollTop=i-o+l:i<r&&(n.scrollTop=i)}}),[]),He=d.useCallback((function(e){var t;return e>=0&&e<(null!==(t=Ae.length)&&void 0!==t?t:0)}),[Ae.length]),Fe=d.useCallback((function(e){var t,n,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];void 0===e||e<0||e>(null!==(n=Ae.length)&&void 0!==n?n:0)-1||((null===(t=Ae[e])||void 0===t?void 0:t.disabled)||(a&&ze(e),de((function(t){return t!==e?e:t}))))}),[Ae,ze]),Ye=d.useCallback((function(){return null!==le.current}),[]),We=d.useCallback((function(e){le.current=e,e&&void 0!==Te&&He(Te)&&ze(Te,!0)}),[He,ze,Te]),Ve=d.useCallback((function(e){var t=ye+e,n=Ae.findIndex((function(e){return ve(e.label).toLowerCase().includes(t)}));void 0!==n&&n>-1&&Fe(n),Se(t)}),[Fe,ye,Ae]),Ge=d.useCallback((function(){var e;Be(),_e(""),r(!1),de(-1),null===(e=N)||void 0===e||e()}),[N,Be]),Xe=d.useCallback((function(t){var n,a,o=Ae[t];if(Ce(null===(n=o)||void 0===n?void 0:n.value),Ge(),pe&&e.value!==Ee&&Ee===(null===(a=o)||void 0===a?void 0:a.value)){var r,i=new Event("change",{bubbles:!0});null===(r=ce.current)||void 0===r||r.dispatchEvent(i)}}),[Ge,Ae,ce,pe,e.value,Ee]),Ue=d.useCallback((function(){void 0!==ue&&He(ue)&&Xe(ue)}),[ue,He,Xe]),Ke=d.useCallback((function(){r(!0),de(Te),"function"==typeof C&&C()}),[C,Te]),qe=d.useCallback((function(){var e;Ge();var t=new Event("blur");null===(e=ce.current)||void 0===e||e.dispatchEvent(t)}),[Ge,ce]),je=d.useCallback((function(){de(-1)}),[]),Qe=d.useCallback((function(){var e,t=new Event("focus");null===(e=ce.current)||void 0===e||e.dispatchEvent(t)}),[ce]),Ze=d.useCallback((function(){o?Ge():Ke()}),[Ge,Ke,o]),Je=d.useMemo((function(){return e=Be,t=1e3,function(){for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,(0,u._)(o))}),t)};var e,t,n}),[Be]),$e=d.useCallback((function(e){var t=ue;if("next"===e){var n=Si(Ae,t);t=-1===n?Si(Ae):n}else if("prev"===e){var a=Ri(Ae,t);t=-1===a?Ri(Ae):a}Fe(t)}),[Fe,ue,Ae]);d.useEffect((function(){var t,n,a=null!==(n=null!==(t=e.value)&&void 0!==t?t:Ee)&&void 0!==n?n:e.defaultValue,o=T&&void 0!==ge?Ai(z,ge,W):z;Oe(o),De(Ii(o,a,K))}),[W,ge,Ee,z,e.defaultValue,e.value,T,K]);var et=d.useCallback((function(e){var t;(null===(t=le.current)||void 0===t?void 0:t.contains(e.target))&&e.preventDefault()}),[]),tt=d.useCallback((function(e){switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&Ye()&&e.preventDefault(),e.key){case"ArrowUp":Ye()&&$e("prev");break;case"ArrowDown":Ye()&&$e("next");break;case"Escape":Ge();break;case"Enter":Ye()&&Ue()}}),[Ye,Ge,$e,Ue]),nt=d.useCallback((function(e){if(b){var t=b(e,z);t&&(Oe(t),De(Ii(t,Ee,K)))}else{var n=Ai(z,e.target.value,W);Oe(n),De(Ii(n,Ee,K))}_e(e.target.value)}),[W,Ee,b,z,K]),at=d.useCallback((function(e){if(1!==e.key.length||" "===e.key)switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&Ye()&&e.preventDefault(),e.key){case"ArrowUp":o?Ye()&&$e("prev"):Ke();break;case"ArrowDown":o?Ye()&&$e("next"):Ke();break;case"Escape":Ge();break;case"Enter":case"Spacebar":case" ":o?Ye()&&Ue():Ke()}else Ve(e.key)}),[Ye,Ge,$e,Ve,Ke,o,Ue]),ot=d.useCallback((function(e){var t,n=Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),a=Ae[n];a&&!a.disabled&&Xe(n)}),[Ae,Xe]),rt=d.useCallback((function(e){var t;Fe(Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),!1)}),[Fe]),it=d.useCallback((function(e,t){var n=t===ue,a=t===Te;return d.createElement(d.Fragment,{key:"".concat(e.value)},L({option:e,hovered:n,children:e.label,selected:a,disabled:e.disabled,onClick:ot,onMouseDown:Mi,onMouseOver:rt}))}),[ue,ot,rt,L,Te]),lt=d.useMemo((function(){var e,t=(null===(e=Ae)||void 0===e?void 0:e.length)>0?Ae.map(it):d.createElement(oe,{className:"vkuiCustomSelect__empty"},F);return"function"==typeof E?E({defaultDropdownContent:t}):t}),[F,Ae,E,it]),ct=pe&&""!==e.value,st=K&&!o&&(ct||!pe&&""!==Ee),ut=d.useMemo((function(){return st?d.createElement(X,{className:void 0===V?"vkuiCustomSelect--clear-icon":void 0,onClick:function(){return Ce("")}}):null}),[st,X,V]),dt=d.useMemo((function(){return void 0!==V?V:d.createElement(gi,{className:st?"vkuiCustomSelect__dropdown-icon":void 0,opened:o})}),[st,V,o]),vt=(dt||st)&&d.createElement(d.Fragment,null,ut,dt);return d.createElement("label",{className:(0,a.classNames)("vkuiCustomSelect",ae!==B.REGULAR&&yi[ae],m),style:g,ref:ie,onClick:et},o&&T?d.createElement(xr,(0,M._)((0,l._)({},J),{autoFocus:!0,onBlur:qe,className:xe,value:ge,onKeyDown:tt,onChange:nt,onClick:e.onClick,before:i,after:vt,mode:li(w)})):d.createElement(Ei,(0,M._)((0,l._)({},J),{"aria-hidden":!0,onClick:Ze,onKeyDown:at,onKeyUp:Je,onFocus:Qe,onBlur:qe,className:xe,before:i,after:vt,selectType:w}),null===(t=Le)||void 0===t?void 0:t.label),d.createElement("select",{ref:ce,name:v,onChange:function(e){var t,n=Ii(Ae,e.currentTarget.value,K);Te!==n&&(pe||De(n),null===(t=_)||void 0===t||t(e))},onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:Ee,"aria-hidden":!0,className:"vkuiCustomSelect__control"},K&&d.createElement("option",{key:"",value:""}),z.map((function(e){return d.createElement("option",{key:"".concat(e.value),value:e.value})}))),o&&d.createElement(ui,{targetRef:re,placement:k,scrollBoxRef:We,onPlacementChange:Me,onMouseLeave:je,fetching:y,offsetDistance:j,sameWidth:Z,forcePortal:S,autoHideScrollbar:A,autoHideScrollbarDelay:O},lt))}var Ti,Di=(0,i._)({none:"vkuiSelect--sizeY-none"},B.COMPACT,"vkuiSelect--sizeY-compact"),Li=function(e){var t=e.style,n=e.defaultValue,o=void 0===n?"":n,r=e.align,i=e.placeholder,u=e.children,v=e.className,m=e.getRef,f=e.getRootRef,h=e.disabled,k=e.multiline,g=e.selectType,_=void 0===g?"default":g,b=e.status,E=e.icon,C=void 0===E?d.createElement(gi,null):E,N=e.before,y=e.onChange,S=e.value,R=(0,c._)(e,["style","defaultValue","align","placeholder","children","className","getRef","getRootRef","disabled","multiline","selectType","status","icon","before","onChange","value"]),w=(0,s._)(d.useState(""),2),A=w[0],O=w[1],P=(0,s._)(d.useState(!1),2),T=P[0],D=P[1],L=(0,s._)(Bo({defaultValue:o,disabled:h,onChange:y,value:S}),2),x=L[0],z=L[1],H=fe(m),F=p().sizeY,Y=void 0===F?"none":F;return(0,I.useIsomorphicLayoutEffect)((function(){var e,t=null===(e=H.current)||void 0===e?void 0:e.options[H.current.selectedIndex];t&&(O(t.text),D(""===t.value&&null!=i))}),[x,u]),d.createElement(Dr,{Component:"label",className:(0,a.classNames)("vkuiSelect","vkuiInternalNativeSelect",N&&"vkuiSelect--hasBefore",T&&"vkuiSelect--empty",k&&"vkuiSelect--multiline","center"===r&&"vkuiSelect--align-center","right"===r&&"vkuiSelect--align-right",Y!==B.REGULAR&&Di[Y],v),style:t,getRootRef:f,disabled:h,before:N,after:C,status:b},d.createElement("select",(0,M._)((0,l._)({},R),{disabled:h,className:"vkuiSelect__el",onChange:z,value:x,ref:H}),i&&d.createElement("option",{value:""},i),u),d.createElement("div",{className:"vkuiSelect__container","aria-hidden":!0},d.createElement(_i,{className:"vkuiSelect__title",selectType:_},A)))},xi=function(e){e.children;var t=(0,c._)(e,["children"]),n=t.options,a=void 0===n?[]:n,o=(t.searchable,t.emptyText,t.onInputChange,t.filterFn,t.popupDirection,t.renderOption,t.renderDropdown,t.fetching,t.onClose,t.onOpen,t.icon,t.ClearButton,t.allowClearButton,t.dropdownOffsetDistance,t.fixDropdownWidth,t.forceDropdownPortal,t.selectType,t.autoHideScrollbar,t.autoHideScrollbarDelay,(0,c._)(t,["options","searchable","emptyText","onInputChange","filterFn","popupDirection","renderOption","renderDropdown","fetching","onClose","onOpen","icon","ClearButton","allowClearButton","dropdownOffsetDistance","fixDropdownWidth","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay"])),r=ce();return d.createElement(d.Fragment,null,(void 0===r||r)&&d.createElement(Pi,t),(void 0===r||!r)&&d.createElement(Li,o,a.map((function(e){var t=e.label,n=e.value;return d.createElement("option",{value:n,key:"".concat(n)},t)}))))},Bi=function(e){var t=e.getRef,n=e.className,o=e.style,r=e.children,i=(0,c._)(e,["getRef","className","style","children"]),s=pe(),u=s.focusVisible,v=s.onBlur,m=s.onFocus;return d.createElement("label",{className:(0,a.classNames)("vkuiSegmentedControlOption",i.checked&&"vkuiSegmentedControlOption--checked",n),style:o},d.createElement($a.VisuallyHidden,(0,M._)((0,l._)({},i),{Component:"input",getRootRef:t,type:"radio",onBlur:ge(v,i.onBlur),onFocus:ge(m,i.onFocus)})),d.createElement(J,{className:"vkuiSegmentedControlOption__content",level:"2",weight:"2"},r),d.createElement(ye,{visible:u,mode:"inside"}))},zi=(0,i._)({none:"vkuiSegmentedControl--sizeY-none"},B.REGULAR,"vkuiSegmentedControl--sizeY-regular"),Hi=((0,Xe.warnOnce)("SegmentedControl"),function(e){var t=e.size,n=void 0===t?"l":t,o=e.name,r=e.options,i=e.getRootRef,u=e.defaultValue,v=void 0===u?null===(Ti=r[0])||void 0===Ti?void 0:Ti.value:u,m=(e.children,e.className),f=e.onChange,h=e.value,k=(0,c._)(e,["size","name","options","getRootRef","defaultValue","children","className","onChange","value"]),g=dn(),_=(0,s._)(zo({onChange:f,value:h,defaultValue:v}),2),b=_[0],E=_[1],C=p().sizeY,N=void 0===C?"none":C,y=r.findIndex((function(e){return e.value===b}));(0,I.useIsomorphicLayoutEffect)((function(){0}),[y]);var S="translateX(".concat(100*y,"%)");return d.createElement("div",(0,M._)((0,l._)({},k),{className:(0,a.classNames)("vkuiSegmentedControl",N!==B.COMPACT&&zi[N],"l"===n&&"vkuiSegmentedControl--size-l",m),ref:i}),d.createElement("div",{role:"radiogroup",className:"vkuiSegmentedControl__in"},y>-1&&d.createElement("div",{"aria-hidden":!0,className:"vkuiSegmentedControl__slider",style:{width:"".concat(100/r.length,"%"),transform:S,WebkitTransform:S}}),r.map((function(e){var t=e.label,n=e.className,r=(0,c._)(e,["label","className"]);return d.createElement(Bi,(0,M._)((0,l._)({key:"".concat(r.value)},r),{className:(0,a.classNames)("vkuiSegmentedControl__option",n),name:null!=o?o:g,checked:b===r.value,onChange:function(){return E(r.value)}}),t)}))))}),Fi=n(1037);var Yi=n(745),Wi=n.n(Yi);function Vi(e){return Wi()(e).endOf("day").toDate()}function Gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t%=7;var n=Wi()(e),a=n.day(),o=(a<t?7:0)+a-t;return n.date(n.date()-o).toDate()}function Xi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Wi()(Gi(e,t));return n.date(n.date()+6).toDate()}function Ui(e,t){return Wi()(e).format(t)}function Ki(e,t){return Wi()(e)<Wi()(t)}function qi(e,t){return Wi()(e).isSame(t,"day")}function ji(e,t){return Wi()(e).isSame(t,"month")}function Qi(e,t){return Wi()(e).add(t,"day").toDate()}function Zi(e,t){return Wi()(e).add(t,"month").toDate()}function Ji(e,t){return Wi()(e).subtract(t,"month").toDate()}function $i(e,t){for(var n=function(){var n=i.exec(t);if(!n)return"break";var a=n[0].length,o=i.lastIndex-a,m=r.find((function(e){return e[0]===n[0]}));if(u=t.slice(d,o),d=i.lastIndex,e.slice(c,c+u.length)!==u)return{v:new Date("")};var f=e.slice(c+u.length).match(m[1]);if(!f)return{v:new Date("")};c=c+u.length+f[0].length;var p=(0,s._)(m[2](f[0]),3),h=p[0],k=p[1];if(!p[2])return{v:new Date("")};l[h]=k,v=!0},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,o=/^\d\d/,r=[["YYYY",/^\d{4}/,function(e){return["Y",+e,!0]}],["MM",o,function(e){var t=+e;return["M",t-1,t>0&&t<=12]}],["DD",o,function(e){return["D",+e,!0]}],["HH",o,function(e){var t=parseInt(e,10);return["h",t,t>=0&&t<24]}],["mm",o,function(e){var t=parseInt(e,10);return["m",t,t>=0&&t<60]}]],i=new RegExp(r.map((function(e){return e[0]})).join("|"),"g"),l={Y:a.getFullYear(),M:a.getMonth(),D:a.getDate(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),ms:a.getMilliseconds()},c=0,u="",d=0,v=!1;;){var m=n();if("object"===(0,oi._)(m))return m.v;if("break"===m)break}if(!v)return new Date("");var f=new Date(l.Y,l.M,l.D,l.h,l.m,l.s,l.ms);return f.getMonth()!==l.M||f.getDate()!==l.D?new Date(""):f}function el(e){var t,n=e.value,a=e.disablePast,o=e.disableFuture,r=e.shouldDisableDate,i=e.onHeaderChange,l=e.onNextMonth,c=e.onPrevMonth,u=(0,s._)(d.useState(null!==(t=Array.isArray(n)?n[0]:n)&&void 0!==t?t:new Date),2),v=u[0],m=u[1],f=(0,s._)(d.useState(),2),p=f[0],h=f[1],k=d.useCallback((function(){var e;null===(e=c)||void 0===e||e(),m(Ji(v,1))}),[v,c]),g=d.useCallback((function(){var e;null===(e=l)||void 0===e||e(),m(Zi(v,1))}),[v,l]),_=d.useCallback((function(e){var t;null===(t=i)||void 0===t||t(e),m(e)}),[i]),b=d.useCallback((function(e){return Boolean(p&&qi(e,p))}),[p]),E=d.useCallback((function(e){var t,n,i,l=new Date,c=!1;return a&&(c=Ki(Vi(e),l)),o&&(i=e,t=Wi()(i).startOf("day").toDate(),n=l,c=Wi()(t)>Wi()(n)),r&&(c=r(e)),c}),[o,a,r]),C=d.useCallback((function(){h(void 0)}),[h]);return{viewDate:v,setViewDate:_,setPrevMonth:k,setNextMonth:g,focusedDay:p,setFocusedDay:h,isDayFocused:b,isDayDisabled:E,resetSelectedDay:C}}var tl=function(e,t,n){var a=new Intl.DateTimeFormat(n,{weekday:"short"});return function(e,t){var n=[],a=Wi()(e).toDate(),o=Wi()(t).toDate().getTime(),r=a;for(r.setHours(0,0,0,0);r.getTime()<=o;)n.push(new Date(r.getTime())),r.setDate(r.getDate()+1),r.setHours(0,0,0,0);return n}(Gi(e,t),Xi(e,t)).map((function(e){return a.format(e)}))},nl=function(e,t){var n=null!=e?e:new Date;switch(t){case"ArrowRight":n=Qi(n,1);break;case"ArrowLeft":n=function(e,t){return Wi()(e).subtract(t,"day").toDate()}(n,1);break;case"ArrowUp":n=function(e,t){return Wi()(e).subtract(t,"week").toDate()}(n,1);break;case"ArrowDown":n=function(e,t){return Wi()(e).add(t,"week").toDate()}(n,1)}return n},al=function(e,t){for(var n,a=Gi((n=e,Wi()(n).startOf("month").toDate()),t),o=Xi(function(e){return Wi()(e).endOf("month").toDate()}(e),t),r=0,i=a,l=[],c=null;Ki(i,o);){var s=Math.floor(r/7);l[s]=l[s]||[];var u=i.getDay();c!==u&&(c=u,l[s].push(i),r+=1),i=Qi(i,1)}return l},ol=function(e,t){return 0===t||(n=e,1===Wi()(n).date());var n},rl=function(e,t){return 6===t||(n=e,Wi()(n).endOf("day").isSame(Wi()(n).endOf("month")));var n};function il(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,H.useDOM)(),n=t.document,a=t.window,o=(0,s._)(d.useState((function(){return new Date})),2),r=o[0],i=o[1];return d.useEffect((function(){if(e&&n&&a){var t=void 0,o=function(){if("visible"===n.visibilityState){var e=new Date,o=(l=e,Wi()(Vi(l)).diff(Wi()(l),"ms"));a.clearTimeout(t),t=a.setTimeout((function(){i(e)}),o),qi(r,e)||i(e)}var l};return o(),n.addEventListener("visibilitychange",o),function(){a.clearTimeout(t),n.removeEventListener("visibilitychange",o)}}}),[n,e,r,a]),r}var ll=d.memo((function(e){var t=e.day,n=e.today,o=e.selected,r=e.onChange,i=e.hidden,s=e.disabled,u=e.active,v=e.selectionStart,m=e.selectionEnd,f=e.focused,p=e.onEnter,h=e.onLeave,k=e.hinted,g=e.hintedSelectionStart,_=e.hintedSelectionEnd,b=e.sameMonth,E=e.size,C=e.className,N=(0,c._)(e,["day","today","selected","onChange","hidden","disabled","active","selectionStart","selectionEnd","focused","onEnter","onLeave","hinted","hintedSelectionStart","hintedSelectionEnd","sameMonth","size","className"]),y=R().locale,S=d.useRef(null),w=d.useCallback((function(){return r(t)}),[t,r]),M=d.useCallback((function(){var e;return null===(e=p)||void 0===e?void 0:e(t)}),[t,p]),I=d.useCallback((function(){var e;return null===(e=h)||void 0===e?void 0:e(t)}),[t,h]);return d.useEffect((function(){f&&S.current&&(S.current.dispatchEvent(new Event(Y,{bubbles:!0})),S.current.focus())}),[f]),i?d.createElement("div",{className:"vkuiCalendarDay__hidden"}):d.createElement(xe,(0,l._)({className:(0,a.classNames)("vkuiCalendarDay","s"===E&&"vkuiCalendarDay--size-s",n&&"vkuiCalendarDay--today",o&&!s&&"vkuiCalendarDay--selected",v&&"vkuiCalendarDay--selection-start",m&&"vkuiCalendarDay--selection-end",s&&"vkuiCalendarDay--disabled",!b&&"vkuiCalendarDay--not-same-month",C),hoverMode:u?"":"vkuiCalendarDay--hover",hasActive:!1,onClick:w,disabled:s,"aria-label":new Intl.DateTimeFormat(y,{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(t),tabIndex:-1,getRootRef:S,focusVisibleMode:u?"outside":"inside",onEnter:M,onLeave:I},N),d.createElement("div",{className:(0,a.classNames)("vkuiCalendarDay__hinted",k&&"vkuiCalendarDay__hinted--active",g&&"vkuiCalendarDay__hinted--selection-start",_&&"vkuiCalendarDay__hinted--selection-end")},d.createElement("div",{className:(0,a.classNames)("vkuiCalendarDay__inner",u&&!s&&"vkuiCalendarDay__inner--active")},d.createElement("div",{className:"vkuiCalendarDay__day-number"},t.getDate()))))}));ll.displayName="CalendarDay";var cl=function(e){var t=e.viewDate,n=(e.value,e.weekStartsOn),o=e.onDayChange,r=e.isDaySelected,i=e.isDayActive,s=e.isDaySelectionEnd,u=e.isDaySelectionStart,v=e.onDayEnter,m=e.onDayLeave,f=e.isDayHinted,p=e.isHintedDaySelectionStart,h=e.isHintedDaySelectionEnd,k=e.isDayFocused,g=e.isDayDisabled,_=e.size,b=e.showNeighboringMonth,E=void 0!==b&&b,C=e.dayProps,N=e.className,y=e.listenDayChangesForUpdate,S=void 0!==y&&y,w=(0,c._)(e,["viewDate","value","weekStartsOn","onDayChange","isDaySelected","isDayActive","isDaySelectionEnd","isDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","isHintedDaySelectionStart","isHintedDaySelectionEnd","isDayFocused","isDayDisabled","size","showNeighboringMonth","dayProps","className","listenDayChangesForUpdate"]),I=R().locale,A=d.useRef(null),O=il(S),P=d.useMemo((function(){return al(t,n)}),[n,t]),T=d.useMemo((function(){return tl(O,n,I)}),[I,O,n]),D=d.useCallback((function(e){var t;o(e),null===(t=A.current)||void 0===t||t.focus()}),[o]);return d.createElement("div",(0,M._)((0,l._)({},w),{className:(0,a.classNames)("vkuiCalendarDays",N),ref:A}),d.createElement("div",{className:(0,a.classNames)("vkuiCalendarDays__row","s"===_&&"vkuiCalendarDays__row--size-s")},T.map((function(e){return d.createElement(oe,{key:e,className:"vkuiCalendarDays__weekday"},e)}))),P.map((function(e,n){return d.createElement("div",{className:(0,a.classNames)("vkuiCalendarDays__row","s"===_&&"vkuiCalendarDays__row--size-s"),key:n},e.map((function(e,n){var a,o,c,b,N=ji(e,t);return d.createElement(ll,(0,l._)({key:e.toISOString(),day:e,today:qi(e,O),active:i(e),onChange:D,hidden:!E&&!N,disabled:g(e),selectionStart:u(e,n),selectionEnd:s(e,n),hintedSelectionStart:null===(a=p)||void 0===a?void 0:a(e,n),hintedSelectionEnd:null===(o=h)||void 0===o?void 0:o(e,n),selected:null===(c=r)||void 0===c?void 0:c(e),focused:k(e),onEnter:v,onLeave:m,hinted:null===(b=f)||void 0===b?void 0:b(e),sameMonth:N,size:_},C))})))})))},sl=n(1505),ul=n(1038),dl=n(1506),vl={type:"",viewportWidth:0,viewportHeight:0};function ml(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"!==n||!a)return null;var o=a.adaptivity,r=a.viewport_width,i=a.viewport_height,l={type:"",viewportWidth:isFinite(r)?+r:0,viewportHeight:isFinite(i)?+i:0};switch(o){case"force_mobile":case"force_mobile_compact":case"adaptive":l.type=o}return l}k().subscribe((function(e){var t=ml(e);t&&(vl=t)}));var fl=function(e){var t,n,o,r=e.viewWidth,i=e.viewHeight,l=e.sizeX,c=e.sizeY,u=e.hasPointer,v=e.hasHover,m=e.children,p=(t=(0,s._)(d.useState(vl),2),n=t[0],o=t[1],(0,I.useIsomorphicLayoutEffect)((function(){var e=function(e){var t=ml(e);t&&o(t)};return k().subscribe(e),function(){k().unsubscribe(e)}}),[]),n),h=d.useMemo((function(){return function(e,t){var n=e.viewWidth,o=e.viewHeight,r=e.sizeX,i=e.sizeY,l=e.hasPointer,c=e.hasHover;if("adaptive"===t.type){var s=t.viewportWidth,u=t.viewportHeight;n=s>=Lt.BREAKPOINTS.DESKTOP?L.DESKTOP:s>=Lt.BREAKPOINTS.TABLET?L.TABLET:s>=Lt.BREAKPOINTS.SMALL_TABLET?L.SMALL_TABLET:s>=Lt.BREAKPOINTS.MOBILE?L.MOBILE:L.SMALL_MOBILE,o=u>=Lt.BREAKPOINTS.MEDIUM_HEIGHT?x.MEDIUM:u>=Lt.BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT?x.SMALL:x.EXTRA_SMALL,r=n<=L.MOBILE?B.COMPACT:B.REGULAR,i=n>=L.SMALL_TABLET&&a.hasMouse||o<=x.EXTRA_SMALL?B.COMPACT:B.REGULAR}else"force_mobile"===t.type||"force_mobile_compact"===t.type?(n=L.MOBILE,r=B.COMPACT,i="force_mobile_compact"===t.type?B.COMPACT:B.REGULAR):(void 0===r&&void 0!==n&&(r=n<=L.MOBILE?B.COMPACT:B.REGULAR),void 0===i&&void 0!==n&&void 0!==o&&(i=n>=L.SMALL_TABLET&&a.hasMouse||o<=x.EXTRA_SMALL?B.COMPACT:B.REGULAR));return{viewWidth:n,viewHeight:o,sizeX:r,sizeY:i,hasPointer:l,hasHover:c}}({viewWidth:r,viewHeight:i,sizeX:l,sizeY:c,hasPointer:u,hasHover:v},p)}),[r,i,l,c,u,v,p]);return d.createElement(f.Provider,{value:h},m)};for(var pl=function(e){var t=e.viewDate,n=e.onChange,o=e.prevMonth,r=void 0===o||o,i=e.nextMonth,s=void 0===i||i,u=e.disablePickers,v=void 0!==u&&u,m=e.onNextMonth,f=e.onPrevMonth,p=e.className,h=e.prevMonthProps,k=void 0===h?{}:h,g=e.nextMonthProps,_=void 0===g?{}:g,b=e.prevMonthAriaLabel,E=void 0===b?"Предыдущий месяц":b,C=e.nextMonthAriaLabel,N=void 0===C?"Следующий месяц":C,y=e.changeMonthAriaLabel,S=void 0===y?"Изменить месяц":y,w=e.changeYearAriaLabel,M=void 0===w?"Изменить год":w,I=e.prevMonthIcon,A=void 0===I?d.createElement(sl.Icon20ChevronLeftOutline,{className:"vkuiCalendarHeader__nav-icon--accent",width:30,height:30}):I,O=e.nextMonthIcon,P=void 0===O?d.createElement(ul.Icon20ChevronRightOutline,{className:"vkuiCalendarHeader__nav-icon--accent",width:30,height:30}):O,T=R().locale,D=d.useCallback((function(e){return n((a=t,o=Number(e.target.value),Wi()(a).set("month",o).toDate()));var a,o}),[n,t]),L=d.useCallback((function(e){return n((a=t,o=Number(e.target.value),Wi()(a).set("year",o).toDate()));var a,o}),[n,t]),x=d.useMemo((function(){return function(e){for(var t=[],n=new Intl.DateTimeFormat(e,{month:"long"}),a=0;a<12;a++)t.push({label:n.format(new Date("1970-01-01").setMonth(a)),value:a});return t}(T).map((function(e){var t=e.value,n=e.label;return{value:t,label:d.createElement("span",{className:"vkuiCalendarHeader__month"},n)}}))}),[T]),z=t.getFullYear(),H=d.useMemo((function(){return function(e,t){for(var n=[],a=e-t;a<=e+t;a++)n.push({label:String(a).padStart(4,"0"),value:a});return n}(z,100)}),[z]),F=new Intl.DateTimeFormat(T,{year:"numeric",month:"long"}),Y=k.className,W=(0,c._)(k,["className"]),V=_.className,G=(0,c._)(_,["className"]);return d.createElement("div",{className:(0,a.classNames)("vkuiCalendarHeader",p)},r&&d.createElement(fl,{sizeX:B.REGULAR},d.createElement(xe,(0,l._)({className:(0,a.classNames)("vkuiCalendarHeader__nav-icon","vkuiCalendarHeader__nav-icon-prev",Y),onClick:f,"aria-label":"".concat(E,", ").concat(F.format(Ji(t,1)))},W),A)),v?d.createElement(te,{className:(0,a.classNames)("vkuiCalendarHeader__pickers","vkuiInternalCalendarHeader__pickers"),weight:"2"},d.createElement("span",{className:"vkuiCalendarHeader__month"},new Intl.DateTimeFormat(T,{month:"long"}).format(t))," ",new Intl.DateTimeFormat(T,{year:"numeric"}).format(t)):d.createElement(fl,{sizeY:B.COMPACT},d.createElement("div",{className:(0,a.classNames)("vkuiCalendarHeader__pickers","vkuiInternalCalendarHeader__pickers")},d.createElement(Pi,{className:(0,a.classNames)("vkuiCalendarHeader__picker","vkuiInternalCalendarHeader__picker"),value:t.getMonth(),options:x,dropdownOffsetDistance:4,fixDropdownWidth:!1,icon:d.createElement(dl.Icon12Dropdown,null),onChange:D,forceDropdownPortal:!1,selectType:"accent","aria-label":S}),d.createElement(Pi,{className:(0,a.classNames)("vkuiCalendarHeader__picker","vkuiInternalCalendarHeader__picker"),value:t.getFullYear(),options:H,dropdownOffsetDistance:4,fixDropdownWidth:!1,icon:d.createElement(dl.Icon12Dropdown,null),onChange:L,forceDropdownPortal:!1,selectType:"accent","aria-label":M}))),s&&d.createElement(fl,{sizeX:B.REGULAR},d.createElement(xe,(0,l._)({className:(0,a.classNames)("vkuiCalendarHeader__nav-icon","vkuiCalendarHeader__nav-icon-next",V),onClick:m,"aria-label":"".concat(N,", ").concat(F.format(Zi(t,1)))},G),P)))},hl=[],kl=0;kl<24;kl+=1)hl.push({value:kl,label:String(kl).padStart(2,"0")});for(var gl=[],_l=0;_l<60;_l+=1)gl.push({value:_l,label:String(_l).padStart(2,"0")});var bl=function(e){var t=e.value,n=e.doneButtonText,a=void 0===n?"Готово":n,o=e.onChange,r=e.onClose,i=e.changeHoursAriaLabel,l=void 0===i?"Изменить час":i,c=e.changeMinutesAriaLabel,s=void 0===c?"Изменить минуту":c,u=d.useCallback((function(e){var n,a,r;return null===(n=o)||void 0===n?void 0:n((a=t,r=Number(e.target.value),Wi()(a).set("hour",r).toDate()))}),[o,t]),v=d.useCallback((function(e){var n,a,r;return null===(n=o)||void 0===n?void 0:n((a=t,r=Number(e.target.value),Wi()(a).set("minute",r).toDate()))}),[o,t]);return d.createElement("div",{className:"vkuiCalendarTime"},d.createElement("div",{className:"vkuiCalendarTime__picker"},d.createElement(fl,{sizeY:B.COMPACT},d.createElement(Pi,{value:t.getHours(),options:hl,onChange:u,forceDropdownPortal:!1,"aria-label":l}))),d.createElement("div",{className:"vkuiCalendarTime__divider"},":"),d.createElement("div",{className:"vkuiCalendarTime__picker"},d.createElement(fl,{sizeY:B.COMPACT},d.createElement(Pi,{value:t.getMinutes(),options:gl,onChange:v,forceDropdownPortal:!1,"aria-label":s}))),d.createElement("div",{className:"vkuiCalendarTime__button"},d.createElement(fl,{sizeY:B.COMPACT},d.createElement(Ve,{mode:"secondary",onClick:r,size:"l","aria-label":a},a))))},El=((0,Xe.warnOnce)("Calendar"),function(e){var t=e.value,n=e.onChange,o=e.disablePast,r=e.disableFuture,i=e.shouldDisableDate,s=e.onClose,u=e.enableTime,v=void 0!==u&&u,m=e.doneButtonText,f=e.weekStartsOn,p=void 0===f?1:f,h=e.getRootRef,k=e.disablePickers,g=e.changeHoursAriaLabel,_=e.changeMinutesAriaLabel,b=e.prevMonthAriaLabel,E=e.nextMonthAriaLabel,C=e.changeMonthAriaLabel,N=e.changeYearAriaLabel,y=e.showNeighboringMonth,S=e.changeDayAriaLabel,R=void 0===S?"Изменить день":S,w=e.size,A=void 0===w?"m":w,O=e.viewDate,P=e.onHeaderChange,T=e.onNextMonth,D=e.onPrevMonth,L=e.prevMonthIcon,x=e.nextMonthIcon,B=e.prevMonthProps,z=e.nextMonthProps,H=e.dayProps,F=e.className,Y=e.listenDayChangesForUpdate,W=(0,c._)(e,["value","onChange","disablePast","disableFuture","shouldDisableDate","onClose","enableTime","doneButtonText","weekStartsOn","getRootRef","disablePickers","changeHoursAriaLabel","changeMinutesAriaLabel","prevMonthAriaLabel","nextMonthAriaLabel","changeMonthAriaLabel","changeYearAriaLabel","showNeighboringMonth","changeDayAriaLabel","size","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","prevMonthProps","nextMonthProps","dayProps","className","listenDayChangesForUpdate"]),V=el({value:t,disableFuture:r,disablePast:o,shouldDisableDate:i,onHeaderChange:P,onNextMonth:T,onPrevMonth:D}),G=V.viewDate,X=V.setViewDate,U=V.setPrevMonth,K=V.setNextMonth,q=V.focusedDay,j=V.setFocusedDay,Q=V.isDayFocused,Z=V.isDayDisabled,J=V.resetSelectedDay;(0,I.useIsomorphicLayoutEffect)((function(){t&&X(t)}),[t]);var $=d.useCallback((function(e){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault();var n=nl(null!=q?q:t,e.key);n&&!ji(n,G)&&X(n),j(n)}),[q,j,X,t,G]),ee=d.useCallback((function(e){var a,o,r;null===(a=n)||void 0===a||a((o=e,(r=t)&&(o.setHours(r.getHours()),o.setMinutes(r.getMinutes()),o.setSeconds(r.getSeconds()),o.setMilliseconds(r.getMilliseconds())),o))}),[t,n]),te=d.useCallback((function(e){return Boolean(t&&qi(e,t))}),[t]);return d.createElement("div",(0,M._)((0,l._)({},W),{ref:h,className:(0,a.classNames)("vkuiCalendar","s"===A&&"vkuiCalendar--size-s",F)}),d.createElement(pl,{viewDate:O||G,onChange:X,onNextMonth:K,onPrevMonth:U,disablePickers:k||"s"===A,className:"vkuiCalendar__header",prevMonthAriaLabel:b,nextMonthAriaLabel:E,changeMonthAriaLabel:C,changeYearAriaLabel:N,prevMonthIcon:L,nextMonthIcon:x,prevMonthProps:B,nextMonthProps:z}),d.createElement(cl,{viewDate:O||G,value:t,weekStartsOn:p,isDayFocused:Q,tabIndex:0,"aria-label":R,onKeyDown:$,onDayChange:ee,isDayActive:te,isDaySelectionStart:ol,isDaySelectionEnd:rl,isDayDisabled:Z,onBlur:J,showNeighboringMonth:y,size:A,dayProps:H,listenDayChangesForUpdate:Y}),v&&t&&"s"!==A&&d.createElement("div",{className:"vkuiCalendar__time"},d.createElement(bl,{value:t,onChange:n,onClose:s,doneButtonText:m,changeHoursAriaLabel:g,changeMinutesAriaLabel:_})))}),Cl=String.fromCharCode(8199);var Nl=function(e){var t,n,o,r,i,s=e.value,u=e.length,v=e.index,m=e.onElementSelect,f=e.onClick,p=e.onFocus,h=e.getRootRef,k=e.className,g=(0,c._)(e,["value","length","index","onElementSelect","onClick","onFocus","getRootRef","className"]),_=d.useCallback((function(e){var t;me(e),null===(t=m)||void 0===t||t(v)}),[v,m]);return d.createElement("span",(0,l._)({className:(0,a.classNames)("vkuiInputLike",(null===(t=s)||void 0===t?void 0:t.length)===u&&"vkuiInputLike--full",k),tabIndex:0,ref:h,onClick:ge(f,_),onFocus:ge(me,p)},g),null===(n=s)||void 0===n?void 0:n.slice(0,u-1),(null===(o=s)||void 0===o?void 0:o.slice(u-1))&&d.createElement("span",{key:v,className:"vkuiInputLike__last_character"},s.slice(u-1)),function(e){for(var t=[],n=0;n<e;n+=1)t.push(d.createElement("span",{key:n,className:"vkuiInputLike__mask"},Cl));return t}(u-(null!==(i=null===(r=s)||void 0===r?void 0:r.length)&&void 0!==i?i:0)))};Nl.displayName="InputLike";var yl=function(e){var t=e.children,n=e.className,o=(0,c._)(e,["children","className"]);return d.createElement("span",(0,l._)({className:(0,a.classNames)("vkuiInputLike__divider",n)},o),t)},Sl=(0,i._)({none:"vkuiDateInput--sizeY-none"},B.COMPACT,"vkuiDateInput--sizeY-compact"),Rl=function(e){var t=2,n=1,a=0;switch(e){case 0:a=31;break;case 1:a=12;break;case 2:a=2100,n=1900,t=4;break;case 3:a=23;break;case 4:a=59}return{length:t,min:n,max:a}},wl=function(e){var t=["","","","",""];return e&&(t[0]=String(e.getDate()).padStart(2,"0"),t[1]=String(e.getMonth()+1).padStart(2,"0"),t[2]=String(e.getFullYear()).padStart(4,"0"),t[3]=String(e.getHours()).padStart(2,"0"),t[4]=String(e.getMinutes()).padStart(2,"0")),t},Ml=function(e){var t=e.enableTime,n=e.shouldDisableDate,o=e.disableFuture,r=e.disablePast,i=e.value,v=e.onChange,m=e.calendarPlacement,f=void 0===m?"bottom-start":m,h=e.style,k=e.className,g=e.doneButtonText,_=e.closeOnChange,b=void 0===_||_,E=e.disablePickers,C=e.getRootRef,N=e.name,y=e.autoFocus,S=e.disabled,R=e.onClick,w=e.onFocus,M=e.prevMonthAriaLabel,I=e.nextMonthAriaLabel,A=e.showNeighboringMonth,O=e.size,P=e.changeMonthAriaLabel,T=void 0===P?"Изменить месяц":P,D=e.changeYearAriaLabel,L=void 0===D?"Изменить год":D,x=e.changeDayAriaLabel,z=void 0===x?"Изменить день":x,Y=e.changeHoursAriaLabel,W=void 0===Y?"Изменить час":Y,V=e.changeMinutesAriaLabel,G=void 0===V?"Изменить минуту":V,X=e.clearFieldAriaLabel,U=void 0===X?"Очистить поле":X,K=e.showCalendarAriaLabel,q=void 0===K?"Показать календарь":K,j=e.viewDate,Q=e.onHeaderChange,Z=e.onNextMonth,J=e.onPrevMonth,$=e.prevMonthIcon,te=e.nextMonthIcon,ne=e.disableCalendar,ae=void 0!==ne&&ne,oe=(0,c._)(e,["enableTime","shouldDisableDate","disableFuture","disablePast","value","onChange","calendarPlacement","style","className","doneButtonText","closeOnChange","disablePickers","getRootRef","name","autoFocus","disabled","onClick","onFocus","prevMonthAriaLabel","nextMonthAriaLabel","showNeighboringMonth","size","changeMonthAriaLabel","changeYearAriaLabel","changeDayAriaLabel","changeHoursAriaLabel","changeMinutesAriaLabel","clearFieldAriaLabel","showCalendarAriaLabel","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","disableCalendar"]),re=d.useRef(null),ie=d.useRef(null),le=d.useRef(null),ce=d.useRef(null),ue=d.useRef(null),de=t?4:2,ve=d.useCallback((function(e){for(var n=0;n<=de;n+=1)if(e[n].length<Rl(n).length)return;var a,o="".concat(e[0],".").concat(e[1],".").concat(e[2]),r="DD.MM.YYYY";(t&&(o+=" ".concat(e[3],":").concat(e[4]),r+=" HH:mm"),function(e,t){return!isNaN(+$i(e,t))}(o,r))&&(null===(a=v)||void 0===a||a($i(o,r,null!=i?i:new Date)))}),[t,de,v,i]),me=d.useMemo((function(){return[re,ie,le,ce,ue]}),[re,ie,le,ce,ue]),pe=function(e){var t=e.maxElement,n=e.refs,a=e.autoFocus,o=e.disabled,r=e.elementsConfig,i=e.onChange,l=e.onInternalValueChange,c=e.getInternalValue,v=e.value,m=(0,H.useDOM)().document,f=se(!1),p=f.value,h=f.setTrue,k=f.setFalse,g=d.useRef(null),_=d.useRef(null),b=(0,s._)(d.useState([]),2),E=b[0],C=b[1],N=(0,s._)(d.useState(null),2),y=N[0],S=N[1],R=(0,H.useDOM)().window,w=d.useCallback((function(){var e;p&&(S(null),k(),null===(e=R.getSelection())||void 0===e||e.removeAllRanges(),C(c(v)))}),[k,c,p,v,R]),M=d.useCallback((function(e){var t,n;(null===(t=g.current)||void 0===t?void 0:t.contains(e.target))||(null===(n=_.current)||void 0===n?void 0:n.contains(e.target))||w()}),[w]),I=d.useCallback((function(){S(0)}),[]);(0,F.useGlobalEventListener)(m,"click",M,{capture:!0}),d.useEffect((function(){C(c(v))}),[c,v]),d.useEffect((function(){a&&I()}),[a,I]),d.useEffect((function(){if(!o&&null!==y){var e=R.document.createRange(),t=n[y].current;if(t){var a,r;t.focus(),h(),e.selectNodeContents(t);var i=R.getSelection();null===(a=i)||void 0===a||a.removeAllRanges(),null===(r=i)||void 0===r||r.addRange(e)}}}),[o,y,h,n,R]);var A=d.useCallback((function(){var e;null===(e=i)||void 0===e||e(void 0),I()}),[i,I]),O=d.useCallback((function(){p||I()}),[p,I]),P=d.useCallback((function(e){if(null!==y){var n=(0,u._)(E),a=r(y);if(/^\d+$/.test(e.key))n[y].length>=a.length?n[y]=e.key:(n[y]+=e.key,n[y].length>=a.length&&y<t&&S(y+1));else if("Backspace"===e.key)n[y]?n[y]=n[y].slice(0,-1):S(y<=0?t:y-1);else if("ArrowDown"===e.key||"Down"===e.key){var o=Number(n[y]);n[y]=String(o<=a.min?a.max:o-1).padStart(a.length,"0")}else if("ArrowUp"===e.key||"Up"===e.key){var i=Number(n[y]);n[y]=String(i>=a.max?a.min:i+1).padStart(a.length,"0")}else{if("Enter"===e.key||"Tab"===e.key&&y===t||"Tab"===e.key&&e.shiftKey&&0===y)return void w();if("ArrowLeft"===e.key||"Left"===e.key||"Tab"===e.key&&e.shiftKey)S(y<=0?t:y-1);else if("ArrowRight"===e.key||"Right"===e.key||"Tab"===e.key)S(y>=t?0:y+1);else{if("Delete"!==e.key&&"Del"!==e.key)return;n[y]=""}}e.preventDefault(),C(n),l(n)}}),[r,y,E,t,l,w]);return{rootRef:g,calendarRef:_,open:p,openCalendar:h,closeCalendar:k,internalValue:E,focusedElement:y,setFocusedElement:S,handleKeyDown:P,clear:A,handleFieldEnter:O,removeFocusFromField:w}}({maxElement:de,refs:me,autoFocus:y,disabled:S,elementsConfig:Rl,onChange:v,onInternalValueChange:ve,getInternalValue:wl,value:i}),he=pe.rootRef,ke=pe.calendarRef,_e=pe.open,be=pe.openCalendar,Ee=pe.closeCalendar,Ce=pe.internalValue,Ne=pe.handleKeyDown,ye=pe.setFocusedElement,Se=pe.handleFieldEnter,Re=pe.clear,we=pe.removeFocusFromField,Me=p().sizeY,Ie=void 0===Me?"none":Me,Ae=fe(he,C),Oe=d.useCallback((function(e){var n;null===(n=v)||void 0===n||n(e),b&&!t&&we()}),[v,we,b,t]);return d.createElement(Dr,(0,l._)({style:h,className:(0,a.classNames)(Ie!==B.REGULAR&&Sl[Ie],k),getRootRef:Ae,after:i?d.createElement(wa,{hoverMode:"opacity","aria-label":U,onClick:Re},d.createElement(xo.Icon16Clear,null)):d.createElement(wa,{hoverMode:"opacity","aria-label":q,onClick:be},d.createElement(Fi.Icon20CalendarOutline,null)),disabled:S,onClick:ge(Se,R),onFocus:ge(Se,w)},oe),d.createElement("input",{type:"hidden",name:N,value:i?Ui(i,t?"DD.MM.YYYYTHH:mm":"DD.MM.YYYY"):""}),d.createElement(ee,{className:"vkuiDateInput__input",onKeyDown:Ne},d.createElement(Nl,{length:2,getRootRef:re,index:0,onElementSelect:ye,value:Ce[0],"aria-label":z}),d.createElement(yl,null,"."),d.createElement(Nl,{length:2,getRootRef:ie,index:1,onElementSelect:ye,value:Ce[1],"aria-label":T}),d.createElement(yl,null,"."),d.createElement(Nl,{length:4,getRootRef:le,index:2,onElementSelect:ye,value:Ce[2],"aria-label":L}),t&&d.createElement(d.Fragment,null,d.createElement(yl,{className:"vkuiDateInput__input--time-divider"}," "),d.createElement(Nl,{length:2,getRootRef:ce,index:3,onElementSelect:ye,value:Ce[3],"aria-label":W}),d.createElement(yl,null,":"),d.createElement(Nl,{length:2,getRootRef:ue,index:4,onElementSelect:ye,value:Ce[4],"aria-label":G}))),_e&&!ae&&d.createElement(xn,{targetRef:he,offsetDistance:8,placement:f},d.createElement(El,{value:i,onChange:Oe,enableTime:t,disablePast:r,disableFuture:o,shouldDisableDate:n,onClose:Ee,getRootRef:ke,doneButtonText:g,disablePickers:E,changeHoursAriaLabel:W,changeMinutesAriaLabel:G,prevMonthAriaLabel:M,nextMonthAriaLabel:I,changeMonthAriaLabel:T,changeYearAriaLabel:L,changeDayAriaLabel:z,showNeighboringMonth:A,size:O,viewDate:j,onHeaderChange:Q,onNextMonth:Z,onPrevMonth:J,prevMonthIcon:$,nextMonthIcon:te})))},Il=function(e){var t=e.children,n=e.getRootRef,o=e.className,r=(0,c._)(e,["children","getRootRef","className"]);return d.createElement("div",(0,M._)((0,l._)({},r),{ref:n,className:(0,a.classNames)("vkuiDiv",o)}),t)},Al=d.memo((function(e){var t=e.height,n=void 0===t?96:t,a=e.style,o=(0,c._)(e,["height","style"]);return d.createElement(Ye.Spinner,(0,M._)((0,l._)({size:"regular"},o),{style:(0,l._)({height:n},a)}))}));Al.displayName="PanelSpinner";var Ol,Pl,Tl=n(1507),Dl=function(e){var t=e.children,n=void 0===t?"Отмена":t,a=(0,c._)(e,["children"]),o=he();return d.createElement(ut,(0,l._)({"aria-label":ve(n)},a),o===g.IOS?n:d.createElement(Tl.Icon28CancelOutline,null))},Ll=n(290),xl=n(1508),Bl=n(1509),zl=function(e){var t=e.label,n=e["aria-label"],o=void 0===n?"Назад":n,r=e.className,i=(0,c._)(e,["label","aria-label","className"]),s=he(),u=p().sizeX,v=void 0===u?"none":u,m=s===g.VKCOM||s===g.IOS,f=d.createElement(Ll.Icon28ArrowLeftOutline,null);switch(s){case g.IOS:f=d.createElement(xl.Icon28ChevronBack,null);break;case g.VKCOM:f=d.createElement(Bl.Icon28ChevronLeftOutline,null)}return d.createElement(ut,(0,M._)((0,l._)({},i),{className:(0,a.classNames)(v===B.COMPACT&&"vkuiPanelHeaderBack--sizeX-compact",s===g.IOS&&"vkuiPanelHeaderBack--ios",s===g.VKCOM&&"vkuiPanelHeaderBack--vkcom",m&&!!t&&"vkuiPanelHeaderBack--has-label",r),label:m&&t,"aria-label":o}),f)},Hl=n(1039),Fl=function(e){var t=e.children,n=void 0===t?"Готово":t,a=(0,c._)(e,["children"]),o=he();return d.createElement(ut,(0,l._)({"aria-label":ve(n),primary:!0},a),o===g.IOS?n:d.createElement(Hl.Icon28DoneOutline,null))},Yl=((0,Xe.warnOnce)("VisuallyHiddenInput"),function(e){var t=e.getRef,n=e.className,o=(0,c._)(e,["getRef","className"]);return d.createElement("input",(0,M._)((0,l._)({},o),{className:(0,a.classNames)("vkuiVisuallyHiddenInput",n),ref:t}))});!function(e){e.BRIGHT_LIGHT="bright_light",e.SPACE_GRAY="space_gray",e.VKCOM_LIGHT="vkcom_light",e.VKCOM_DARK="vkcom_dark"}(Ol||(Ol={})),function(e){e.DARK="dark",e.LIGHT="light"}(Pl||(Pl={}));var Wl=function(e){return e===Ol.SPACE_GRAY||e===Ol.VKCOM_DARK?"dark":"light"};function Vl(e,t){var n=function(n){var a=function(e){var t=e.scheme,n=e.appearance;return n||Wl(t)}(n);a&&(t(),e(a))},a=function(e){var t=e.detail,a=t.type,o=t.data;"VKWebAppUpdateConfig"===a&&n(o)};return k().subscribe(a),k().send("VKWebAppGetConfig").then(n).catch(console.error),function(){return k().unsubscribe(a)}}var Gl=function(e,t){var n=(0,H.useDOM)().window,o=d.useRef((function(){t&&t(),o.current=a.noop})),r=(0,s._)(d.useState((function(){var t;return e||((null===(t=n&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)"))||void 0===t?void 0:t.matches)?"dark":"light")})),2),i=r[0],l=r[1];return d.useEffect((function(){return e?(l(e),a.noop):k().isEmbedded()?Vl(l,o.current):function(e,t){var n=e&&e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)");if(void 0===n)return a.noop;var o=function(e){t(e.matches?"dark":"light")};return o(n),Tt(n,o),function(){return Dt(n,o)}}(n,l)}),[n,e]),i},Xl=function(e){var t=R(),n=(0,l._)({},t,e),o=n.children,r=n.webviewType,i=n.isWebView,c=n.transitionMotionEnabled,s=n.platform,u=n.locale,v=n.appearance,m=n.onDetectAppearanceByBridge,f=void 0===m?a.noop:m,p=Gl(v,f),h=(0,H.useDOM)().document;(0,I.useIsomorphicLayoutEffect)((function(){var e=Ft(s,p);return h.body.classList.add(e),function(){h.body.classList.remove(e)}}),[s,p]);var k=Ue({webviewType:r,isWebView:i,transitionMotionEnabled:c,platform:s,locale:u,appearance:p});return d.createElement(S.Provider,{value:k},d.createElement(Yt,{platform:s,appearance:p},o))},Ul=function(e){var t=e.value,n=e.getOptionValue,a=e.onChange,o=e.onInputChange,r=e.getNewOptionData,i=(0,s._)(d.useState(e.inputValue),2),l=i[0],c=i[1],u=(0,s._)(d.useState(null!=t?t:[]),2),v=u[0],m=u[1],f=d.useCallback((function(){c(""),o({target:{value:""}})}),[o]),p=d.useCallback((function(e){c(e.target.value),o(e)}),[o]),h=d.useCallback((function(e,t){var o=v.filter((function(t){return n(e)!==n(t)}));!0===t&&o.push(e),m(o),a(o)}),[v,n,a]),k=d.useCallback((function(e){return h(e,!0)}),[h]),g=d.useCallback((function(){var e,t=null===(e=l)||void 0===e?void 0:e.trim();t&&(k(r(void 0,t)),f())}),[k,f,r,l]),_=d.useCallback((function(e){h(r(void 0,e),!1)}),[h,r]);return d.useEffect((function(){return m(t),function(){return m([])}}),[e.value,t]),d.useEffect((function(){return c(e.inputValue),function(){return c("")}}),[e.inputValue]),{fieldValue:l,setFieldValue:c,selectedOptions:v,setSelectedOptions:m,clearInput:f,toggleOption:h,addOption:k,addOptionFromInput:g,removeOption:_,handleInputChange:p}},Kl=(0,i._)({none:"vkuiChip--sizeY-none"},B.COMPACT,"vkuiChip--sizeY-compact"),ql=function(e){var t=e.value,n=void 0===t?"":t,o=(e.option,e.removable),r=void 0===o||o,i=e.onRemove,s=void 0===i?a.noop:i,u=e.removeAriaLabel,v=void 0===u?"Удалить":u,m=e.before,f=void 0===m?null:m,h=e.after,k=e.children,g=e.className,_=(0,c._)(e,["value","option","removable","onRemove","removeAriaLabel","before","after","children","className"]),b=p().sizeY,E=void 0===b?"none":b,C=d.useCallback((function(e){s(e,n)}),[s,n]),N=ve(k);return d.createElement("div",(0,l._)({className:(0,a.classNames)("vkuiChip",E!==B.REGULAR&&Kl[E],r&&"vkuiChip--removable",g),role:"option","aria-label":N},_),d.createElement("div",{className:"vkuiChip__in",role:"presentation"},(0,a.hasReactNode)(f)&&d.createElement("div",{className:"vkuiChip__before"},f),d.createElement(oe,{className:"vkuiChip__content",title:N,"aria-hidden":!0},k),(0,a.hasReactNode)(h)&&d.createElement("div",{className:"vkuiChip__after"},h),r&&d.createElement(xe,{Component:"button",className:"vkuiChip__remove",onClick:C,hasHover:!1,hasActive:!1,"aria-label":"".concat(v," ").concat(N)},d.createElement(Ci.Icon16Cancel,null))))},jl={onChange:a.noop,onInputChange:a.noop,onKeyDown:a.noop,onBlur:a.noop,onFocus:a.noop,value:[],inputValue:"",inputAriaLabel:"Введите ваше значение...",getOptionValue:function(e){return e.value},getOptionLabel:function(e){return e.label},getNewOptionData:function(e,t){return{value:t,label:t}},renderChip:function(e){if(!e)return null;var t=e.disabled,n=e.value,a=e.label,o=(0,c._)(e,["disabled","value","label"]);return d.createElement(ql,(0,l._)({value:n,removable:!t},o),a)},addOnBlur:!1},Ql=function(e){var t=(0,l._)({},jl,e),n=t.style,o=t.className,r=t.getRootRef,i=(t.value,t.onChange,t.onInputChange,t.onKeyDown),u=t.onBlur,v=t.onFocus,m=(t.children,t.inputValue,t.getRef),f=t.placeholder,h=t.getOptionValue,k=t.getOptionLabel,g=(t.getNewOptionData,t.renderChip),_=t.inputAriaLabel,b=t.addOnBlur,E=(0,c._)(t,["style","className","getRootRef","value","onChange","onInputChange","onKeyDown","onBlur","onFocus","children","inputValue","getRef","placeholder","getOptionValue","getOptionLabel","getNewOptionData","renderChip","inputAriaLabel","addOnBlur"]),C=p().sizeY,N=(0,s._)(d.useState(!1),2),y=N[0],S=N[1],R=Ul(t),w=R.fieldValue,I=R.addOptionFromInput,A=R.removeOption,O=R.selectedOptions,P=R.handleInputChange,T=fe(m),D=E.disabled||E.readOnly,L=function(e,t){void 0!==t&&A(t)};return d.createElement("div",{onClick:function(e){var t;D?e.preventDefault():null===(null===(t=T)||void 0===t?void 0:t.current)||y||T.current.focus()},role:"presentation",style:n,className:(0,a.classNames)("vkuiChipsInputBase",C===B.COMPACT&&"vkuiChipsInputBase--sizeY-compact",!O.length&&"vkuiChipsInputBase--hasPlaceholder",o),ref:r},O.map((function(e){var t=h(e),n=k(e);return d.createElement(d.Fragment,{key:"".concat(void 0===t?"undefined":(0,oi._)(t),"-").concat(t)},g({option:e,value:t,label:n,onRemove:L,disabled:Boolean(E.disabled),className:"vkuiChipsInputBase__chip"}))})),d.createElement("label",{className:"vkuiChipsInputBase__label","aria-label":_},d.createElement("input",(0,M._)((0,l._)({type:"text",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",className:"vkuiChipsInputBase__el"},E),{ref:T,value:w,onChange:P,onKeyDown:function(e){D?e.preventDefault():(i(e),"Backspace"!==e.key||e.defaultPrevented||w||!O.length||(A(h(O[O.length-1])),e.preventDefault()),"Enter"===e.key&&!e.defaultPrevented&&w&&(I(),e.preventDefault()))},onFocus:function(e){y||S(!0),v(e)},onBlur:function(e){y&&S(!1),u(e),b&&!e.defaultPrevented&&I()},placeholder:O.length?void 0:f}))))},Zl="next",Jl="prev",$l=(0,M._)((0,l._)({},jl),{emptyText:"Ничего не найдено",creatableText:"Создать значение",onChangeStart:a.noop,creatable:!1,fetching:!1,showSelected:!0,closeAfterSelect:!0,options:[],filterFn:ii,renderOption:function(e){return d.createElement(mi,e)}}),ec=function(e){var t,n,o=(0,l._)({},$l,e),r=o.style,i=o.onFocus,v=o.onBlur,m=o.onKeyDown,f=o.className,p=o.fetching,h=o.renderOption,k=o.emptyText,g=o.getRef,_=(o.getRootRef,o.disabled),b=o.placeholder,E=o.tabIndex,C=o.getOptionValue,N=o.getOptionLabel,y=(o.showSelected,o.getNewOptionData),S=o.renderChip,R=o.popupDirection,w=o.creatable,I=(o.filterFn,o.inputValue,o.creatableText),A=o.closeAfterSelect,O=o.onChangeStart,P=o.before,T=o.icon,D=(o.options,o.fixDropdownWidth),L=o.forceDropdownPortal,x=(0,c._)(o,["style","onFocus","onBlur","onKeyDown","className","fetching","renderOption","emptyText","getRef","getRootRef","disabled","placeholder","tabIndex","getOptionValue","getOptionLabel","showSelected","getNewOptionData","renderChip","popupDirection","creatable","filterFn","inputValue","creatableText","closeAfterSelect","onChangeStart","before","icon","options","fixDropdownWidth","forceDropdownPortal"]),B=(0,H.useDOM)().document,z=(0,s._)(d.useState(void 0),2),Y=z[0],W=z[1],V=d.useRef(null),G=fe(g),X=function(e){var t=e.options,n=e.filterFn,a=e.getOptionLabel,o=e.getOptionValue,r=(0,s._)(d.useState(!1),2),i=r[0],v=r[1],m=(0,s._)(d.useState(0),2),f=m[0],p=m[1],h=(0,s._)(d.useState(null),2),k=h[0],g=h[1],_=Ul(e),b=_.fieldValue,E=_.selectedOptions,C=(0,c._)(_,["fieldValue","selectedOptions"]),N=d.useMemo((function(){return n?t.filter((function(e){return n(b,e,a)})):t}),[t,n,b,a]);return N=d.useMemo((function(){if(!N.length)return N;var e=new Set(N),t=E.map((function(e){return o(e)})),n=!0,a=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;t.includes(o(c))&&e.delete(c)}}catch(e){a=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}return(0,u._)(e)}),[N,E,o]),(0,M._)((0,l._)({},C),{fieldValue:b,handleInputChange:function(e){e&&(C.handleInputChange(e),i||(v(!0),p(0)))},opened:i,setOpened:v,filteredOptions:N,focusedOptionIndex:f,setFocusedOptionIndex:p,focusedOption:k,setFocusedOption:g,selectedOptions:E})}(o),U=X.fieldValue,K=X.selectedOptions,q=void 0===K?[]:K,j=X.opened,Q=X.setOpened,Z=X.addOptionFromInput,J=X.filteredOptions,$=X.addOption,ee=X.handleInputChange,te=X.clearInput,ne=X.focusedOption,ae=X.setFocusedOption,re=X.focusedOptionIndex,ie=X.setFocusedOptionIndex,le=Boolean(w&&I&&!J.length&&U),ce=d.useRef([]).current,se=function(e,t){var n=J.length;e<0?e=n-1:e>=n&&(e=0),e!==t&&(!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V.current,a=ce[e];if(a&&n){var o=n.offsetHeight,r=n.scrollTop,i=a.offsetTop,l=a.offsetHeight;t?n.scrollTop=i-o/2+l/2:i+l>o+r?n.scrollTop=i-o+l:i<r&&(n.scrollTop=i)}}(e),ie(e))},ue=function(e,t){var n=null===e?-1:e;t===Zl?n+=1:t===Jl&&(n-=1),se(n,re)};d.useEffect((function(){null!=re&&J[re]?ae(J[re]):null!==re&&0!==re||ae(null)}),[re,J,ae]),(0,F.useGlobalEventListener)(B,"click",(function(e){var t;e.target===G.current||(null===(t=G.current)||void 0===t?void 0:t.contains(e.target))||Q(!1)}));var de=null===(t=Y)||void 0===t?void 0:t.includes("top"),ve=d.useCallback((function(e){W(e)}),[W]),me=d.useCallback((function(){ie(null)}),[ie]);return d.createElement(d.Fragment,null,d.createElement(Dr,{getRootRef:G,style:r,className:(0,a.classNames)("vkuiChipsSelect",j&&(de?"vkuiChipsSelect--pop-up":"vkuiChipsSelect--pop-down"),f),disabled:_,role:"application","aria-disabled":_,"aria-readonly":x.readOnly,after:d.createElement(wa,{className:"vkuiChipsSelect__dropdown",activeMode:"",hoverMode:"","aria-label":j?"Скрыть":"Развернуть",onClick:function(){Q((function(e){return!e}))}},null!=T?T:d.createElement(gi,{className:"vkuiChipsSelect__icon",opened:j})),before:P},d.createElement(Ql,(0,M._)((0,l._)({},x),{tabIndex:E,value:q,inputValue:U,getNewOptionData:y,getOptionLabel:N,getOptionValue:C,renderChip:function(e){if(void 0===e)return null;return S((0,M._)((0,l._)({},e),{onRemove:function(t,n){var a,o,r,i;null===(a=t)||void 0===a||a.preventDefault(),null===(o=t)||void 0===o||o.stopPropagation(),null===(r=(i=e).onRemove)||void 0===r||r.call(i,t,n)}}))},onFocus:function(e){Q(!0),ie(null),i(e)},onBlur:function(e){v(e),e.defaultPrevented||w||e.preventDefault()},onKeyDown:function(e){if(m(e),"ArrowUp"!==e.key||e.defaultPrevented||(e.preventDefault(),j?ue(re,Jl):(Q(!0),ie(0))),"ArrowDown"!==e.key||e.defaultPrevented||(e.preventDefault(),j?ue(re,Zl):(Q(!0),ie(0))),"Enter"===e.key&&!e.defaultPrevented&&j)if(null!=re){var t=J[re];t?(O(e,t),e.defaultPrevented||($(t),ie(null),te(),A&&Q(!1),e.preventDefault())):w||e.preventDefault()}else w||e.preventDefault();["Escape","Tab"].includes(e.key)&&!e.defaultPrevented&&j&&Q(!1)},placeholder:b,getRef:g,disabled:_,onInputChange:ee}))),j&&d.createElement(ui,{targetRef:G,placement:R,scrollBoxRef:V,onPlacementChange:ve,onMouseLeave:me,fetching:p,sameWidth:D,forcePortal:L},le&&d.createElement(mi,{hovered:0===re,onMouseDown:Z,onMouseEnter:function(){return ie(0)}},I),(null===(n=J)||void 0===n?void 0:n.length)||le||!k?J.map((function(e,t){var n=N(e),a=ne&&C(e)===C(ne),o=q.find((function(t){return C(t)===C(e)})),r=C(e);return d.createElement(d.Fragment,{key:"".concat(void 0===r?"undefined":(0,oi._)(r),"-").concat(r)},h({option:e,hovered:Boolean(a),children:n,selected:!!o,getRootRef:function(e){if(e)return ce[t]=e},onMouseDown:function(t){var n;null===(n=O)||void 0===n||n(t,e),t.defaultPrevented||(A&&Q(!1),$(e),te())},onMouseEnter:function(){return ie(t)}}))})):d.createElement(oe,{className:"vkuiChipsSelect__empty"},k)))},tc=function(e){return"string"==typeof e.type},nc=(0,Xe.warnOnce)("usePatchChildrenRef"),ac=function(e){var t,n=fe(d.isValidElement(e)&&(tc(e)?e.ref:e.props.getRootRef));return Nn((function(){n.current||nc("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента","error")}),[null===(t=e)||void 0===t?void 0:t.type,n]),[n,d.isValidElement(e)?d.cloneElement(e,(0,i._)({},tc(e)?"ref":"getRootRef",n)):e]},oc=function(e){var t=e.action,n=void 0===t?"click":t,o=e.shown,r=e.showDelay,i=void 0===r?150:r,u=e.hideDelay,v=void 0===u?150:u,m=e.offsetDistance,f=void 0===m?8:m,p=e.content,h=e.children,k=e.style,g=e.className,_=e.getRef,b=e.onShownChange,E=e.restoreFocus,C=void 0===E||E,N=(0,c._)(e,["action","shown","showDelay","hideDelay","offsetDistance","content","children","style","className","getRef","onShownChange","restoreFocus"]),y=(0,H.useDOM)().document,S="hover"===n,R=d.useRef(!1),w=(0,s._)(d.useState(o||!1),2),I=w[0],A=w[1],O=(0,s._)(d.useState(null),2),P=O[0],T=O[1],D="boolean"==typeof o?o:I,L=fe(T,_),x=(0,s._)(ac(h),2),B=x[0],z=x[1],Y=function(e){"boolean"!=typeof o&&A(e),"function"==typeof b&&b(e)},W=ke((function(){return Y(!0)}),i),V=ke((function(){return Y(!1)}),v),G=function(){R.current=!1,W.clear(),V.set()},X=function(){Y(!1)};(0,F.useGlobalEventListener)(y,"click",(function(e){var t;!P||(null===(t=B.current)||void 0===t?void 0:t.contains(e.target))||P.contains(e.target)||Y(!1)}),{capture:!0,passive:!0});var U=(0,Se.useEventListener)("mouseenter",(function(){R.current=!0,V.clear(),W.set()})),K=(0,Se.useEventListener)("click",(function(){R.current&&D||Y(!D)})),q=(0,Se.useEventListener)("mouseleave",G);return d.useEffect((function(){B.current&&K.add(B.current)}),[B,K]),d.useEffect((function(){if(B.current)return S&&(U.add(B.current),q.add(B.current)),function(){U.remove(),q.remove()}}),[B,S,U,q]),d.createElement(d.Fragment,null,z,D&&d.createElement(xn,(0,M._)((0,l._)({},N),{className:(0,a.classNames)("vkuiPopover",g),targetRef:B,getRef:L,offsetDistance:f,style:(0,M._)((0,l._)({},k),{"--vkui_internal--popover_safe_zone_padding":"".concat(f,"px")}),renderContent:function(e){var t=e.className;return d.createElement(mn,{className:t,onClose:X,restoreFocus:C},p)},onMouseOver:S?V.clear:void 0,onMouseOut:S?G:void 0})))},rc=function(e){var t=e.getRef,n=e.content,a=e.children,o=e.onShownChange,r=e.shown,i=e.showDelay,u=void 0===i?150:i,v=e.hideDelay,m=void 0===v?150:v,f=(0,c._)(e,["getRef","content","children","onShownChange","shown","showDelay","hideDelay"]),p=(0,s._)(d.useState(r||!1),2),h=p[0],k=p[1],g="boolean"==typeof r?r:h,_=function(e){"boolean"!=typeof r&&k(e),"function"==typeof o&&o(e)},b=ke((function(){_(!0)}),u),E=ke((function(){_(!1)}),m),C=(0,s._)(ac(a),2),N=C[0],y=C[1],S=function(){b.clear(),E.set()},R=(0,Se.useEventListener)("pointerenter",(function(){E.clear(),b.set()})),w=(0,Se.useEventListener)("pointerleave",S);return(0,I.useIsomorphicLayoutEffect)((function(){N.current&&(R.add(N.current),w.add(N.current))}),[]),d.createElement(d.Fragment,null,y,g&&d.createElement(xn,(0,M._)((0,l._)({},f),{onMouseOver:E.clear,onMouseOut:S,getRef:t,targetRef:N}),n))},ic=function(e){var t=e.children,n=e.text,o=e.header,r=e.appearance,i=void 0===r?"neutral":r,s=e.className,u=(0,c._)(e,["children","text","header","appearance","className"]);return d.createElement(rc,(0,l._)({className:(0,a.classNames)("vkuiTextTooltip","neutral"!==i&&{accent:"vkuiTextTooltip--appearance-accent",white:"vkuiTextTooltip--appearance-white",black:"vkuiTextTooltip--appearance-black",inversion:"vkuiTextTooltip--appearance-inversion"}[i],s),arrow:!0,arrowClassName:"vkuiTextTooltip__arrow",content:d.createElement(d.Fragment,null,(0,a.hasReactNode)(o)&&d.createElement(ae,{weight:"2"},o),(0,a.hasReactNode)(n)&&d.createElement(ae,null,n))},u),t)},lc=function(e){var t=e.children,n=e.arrow,o=void 0===n||n,r=e.appearance,i=void 0===r?"neutral":r,s=e.className,u=(0,c._)(e,["children","arrow","appearance","className"]);return d.createElement(rc,(0,l._)({className:(0,a.classNames)("vkuiRichTooltip","neutral"!==i&&{accent:"vkuiRichTooltip--appearance-accent",white:"vkuiRichTooltip--appearance-white",black:"vkuiRichTooltip--appearance-black",inversion:"vkuiRichTooltip--appearance-inversion"}[i],s),arrow:o,arrowClassName:"vkuiRichTooltip__arrow"},u),t)}},633:function(e,t,n){"use strict";n.d(t,{blurActiveElement:function(){return s},useDOM:function(){return l},withDOM:function(){return c}});var a=n(152),o=n(5),r=n(153),i=o.createContext({window:r.canUseDOM?window:void 0,document:r.canUseDOM?document:void 0}),l=function(){return o.useContext(i)};function c(e){return function(t){var n=l();return o.createElement(e,(0,a._)({},t,n))}}function s(e){e&&e.activeElement&&e.activeElement.blur()}},401:function(e,t,n){"use strict";n.d(t,{useIsomorphicLayoutEffect:function(){return o}});var a=n(5),o=n(153).canUseDOM?a.useLayoutEffect:a.useEffect},1028:function(e,t,n){"use strict";function a(e){var t=new Set;return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";if(!t.has(n)){t.add(n);var o="%c[VKUI/".concat(e,"] ").concat(n),r="log"===a?"color: steelblue; font-style: italic":void 0;console[a](o,r)}}}function o(e){return"https://dequeuniversity.com/rules/axe/".concat("4.5","/").concat(e)}n.d(t,{warnOnce:function(){return a}});"a11y: Кнопка должна содержать текст, доступный для скринридеров. Чтобы исправить эту ошибку, передайте компоненту текст или свойство aria-label.\n".concat(o("button-name")),"a11y: Ссылка должна содержать текст, доступный для скринридеров. Чтобы исправить эту ошибку, передайте компоненту текст или свойство aria-label.\n".concat(o("link-name")),"a11y: Изображение должно содержать альтернативный текст, который его описывает. Чтобы исправить эту ошибку, передайте компоненту свойство alt.\n".concat(o("image-alt"))},1005:function(e){var t={DESKTOP:1280,TABLET:1024,SMALL_TABLET:768,MOBILE:320,MOBILE_LANDSCAPE_HEIGHT:415,MEDIUM_HEIGHT:720};function n(e){return"(min-width: ".concat(e,"px)")}function a(e){return"(max-width: ".concat(e-.1,"px)")}function o(e,t){return"".concat(n(e)," and ").concat(a(t))}function r(e){return"(min-height: ".concat(e,"px)")}function i(e){return"(max-height: ".concat(e-.1,"px)")}var l={DESKTOP_PLUS:n(t.DESKTOP),TABLET:o(t.TABLET,t.DESKTOP),SMALL_TABLET_PLUS:n(t.SMALL_TABLET),SMALL_TABLET:o(t.SMALL_TABLET,t.TABLET),MOBILE:o(t.MOBILE,t.SMALL_TABLET),MEDIUM_HEIGHT:r(t.MEDIUM_HEIGHT),MOBILE_LANDSCAPE_HEIGHT:r(t.MOBILE_LANDSCAPE_HEIGHT)};e.exports={BREAKPOINTS:t,MEDIA_QUERIES:l,widthHalfInterval:o,widthPlus:n,widthMinus:a,heightHalfInterval:function(e,t){return"".concat(r(e)," and ").concat(i(t))},heightPlus:r,heightMinus:i}},153:function(e,t,n){"use strict";n.d(t,{canUseDOM:function(){return d},classNames:function(){return o},detectIOS:function(){return v},hasHover:function(){return g},hasMouse:function(){return k},hasReactNode:function(){return c},isFunction:function(){return u},isPrimitiveReactNode:function(){return s},noop:function(){return r},querystring:function(){return l}});var a=n(394);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=[];return t.forEach((function(e){if(e)switch(void 0===e?"undefined":(0,a._)(e)){case"string":o.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&o.push(t)}));break;default:o.push("".concat(e))}})),o.join(" ")}var r=function(){};n(395),n(396),n(289);var i=n(152);var l={parse:function(e){if("string"!=typeof e)return{};if(!(e=e.trim().replace(/^[?#&]/,"")))return{};var t=/\?(.+)$/gi.exec(e);return(t?t[1]:e).split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e||null===e)return"";t=(0,i._)({encode:!0},t);var n=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(a,o){var r=e[o];return void 0===r?a:null===r?(t.skipNull||a.push([n(o),""].join("=")),a):Array.isArray(r)?(r.map((function(e){a.push("".concat(n(o),"[]=").concat(n(e)))})).join(),a):(a.push([n(o),n(r)].join("=")),a)}),[]).join("&")}};function c(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function s(e){return"string"==typeof e||"number"==typeof e}function u(e){return"function"==typeof e}n(631);var d=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}();function v(e){e||(e=d?navigator.userAgent:"");var t=function(e){if(!d)return!1;var t=!/ipad|iphone|ipod/.test(e),n=e.includes("mac os");if(n&&t&&"boolean"==typeof navigator.standalone)return!0;return!1}(e=e.toLowerCase()),n=t||e.includes("ipad"),a=!n&&-1!==e.search(/iphone|ipod/),o=a||n,r=o&&e.match(/os ([\d_]+) like mac os x/i),i=0,l=0;t?(i=13,l=0):r&&(i=+(r=r[1].split("_"))[0],l=+r[1]),r=null;var c=i<13&&!(11===i&&l<3),s=o&&function(e){if(!d)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),a=!!window.indexedDB;if(e.includes("safari")&&e.includes("version")&&!navigator.standalone);else if(!a&&n||!window.statusbar||!window.statusbar.visible);else if(!n||a)return!0;return!1}(e),u=!1;return d&&(u=o&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:n,isIPhone:a,isIOS:o,isIPadOS:t,iosMajor:i,iosMinor:l,isWKWebView:s,isScrollBasedViewport:c,isIPhoneX:u,isIOSChrome:-1!==e.search(/crios/i)}}var m=v(),f=function(){return m.isIOS}(),p=function(){return m.isIPadOS}();var h=function(){var e={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!d)return e;if(f&&!p)e.hasMouse=!1,e.hasHover=!1,e.hasTouchEvents=!0,e.hasTouch=!0;else if(e.hasTouchEvents="ontouchstart"in document,e.hasTouch=e.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,e.hasTouch){var t=!/android|mobile|tablet/i.test(navigator.userAgent);e.hasMouse="function"==typeof window.matchMedia&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:t,e.hasHover=e.hasMouse&&("function"==typeof window.matchMedia&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:t)}else e.hasMouse=!0,e.hasHover=!0;return e}(),k=function(){return h.hasMouse}(),g=function(){return h.hasHover}()}}]);